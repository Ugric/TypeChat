{"version":3,"sources":["hooks/datahook.tsx","pages/images/app page.png","playsound.ts","pages/Home.tsx","pages/loader.tsx","images/logos/TS.svg","pages/RouterForm.tsx","cookies.tsx","pages/Login.tsx","images/logos/TypeChat.svg","hooks/usescreensize.tsx","pages/Navbar.tsx","reportWebVitals.ts","hooks/useapi.tsx","pages/Signup.tsx","hooks/useLocalStorage.tsx","emojis.ts","notifier.tsx","pages/Chat.tsx","pages/404.tsx","pages/profilePage.tsx","bytesToHumanReadable.ts","pages/usersettings.tsx","snooze.ts","pages/error.tsx","pages/contacts.tsx","pages/addpeople.tsx","setIcons.ts","notification.tsx","pages/switch.tsx","pages/settings.tsx","pages/Verify.tsx","pages/LinkDiscord.tsx","pages/Drive.tsx","pages/requestNewPassword.tsx","pages/images/Blast icon.svg","pages/images/fuel-pump.svg","pages/images/meteorites.svg","pages/images/planet.svg","pages/images/planet1.svg","pages/images/planet2.svg","pages/images/solar-system.svg","pages/images/satellite.svg","pages/images/satellite1.svg","pages/images/satellite2.svg","pages/blast.tsx","index.tsx"],"names":["data","createContext","undefined","useData","useContext","hasshownmuted","url","a","localallowed","localStorage","getItem","JSON","parse","localvol","vol","hasplayed","audio","Howl","src","volume","on","play","setTimeout","pause","store","addNotification","title","type","onRemoval","message","insert","animationIn","animationOut","container","dismiss","duration","pauseOnHover","onScreen","playSound","Home","history","useHistory","standalone","window","matchMedia","matches","loggedin","to","style","textAlign","padding","overflow","className","fontSize","color","animationDuration","animationDelay","paddingBottom","onPointerDown","onPointerUp","onClick","push","margin","maxWidth","width","border","borderRadius","background","fontFamily","boxShadow","alt","appPage","Loader","display","marginTop","justifyContent","RouterForm","action","beforecallback","callback","children","appendtoformdata","fd","onerror","e","console","error","onSubmit","preventDefault","FormData","index","target","length","element","file","files","append","name","value","checked","newformdata","fetch","method","body","json","result","Cookies","Login","rechecklogged","useState","seterror","recapToken","setRecapToken","location","useLocation","query","search","slice","loading","setloading","redirect","Array","isArray","logo","icon","faSignInAlt","email","test","String","toLowerCase","resp","cookies","set","token","path","expires","Date","now","err","onVerify","placeholder","borderTop","borderRight","borderBottom","borderLeft","borderImage","marginBottom","useWindowSize","height","windowSize","setWindowSize","useEffect","handleResize","innerWidth","innerHeight","addEventListener","removeEventListener","PageNav","Navbarref","useRef","navbarsize","useComponentSize","user","setnavbarsize","chattingto","Navbar","ref","bg","variant","fixed","top","isElectron","Brand","as","Link","bigLogo","smallLogo","Nav","pathname","faComment","faUserFriends","faPlus","open","faDiscord","faRocket","faCog","Dropdown","Toggle","backgroundColor","profilePic","Menu","alignRight","Item","faUserCog","faPhotoVideo","remove","removeItem","faSignOutAlt","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","useApi","setData","setLoading","request","setrequest","setError","laststamp","time","getTime","current","reload","Signup","profile","setprofile","faAddressCard","imageWidth","onCrop","dataURL","fetched","blob","labelStyle","onClose","exportMimeType","exportSize","exportQuality","exportAsSquare","autoComplete","useLocalStorage","key","initialValue","readValue","item","warn","storedValue","setStoredValue","handleStorageChange","newValue","setItem","stringify","dispatchEvent","Event","emoji","onclick","URLSearchParams","text","notify","chatSettings","isGroupChat","usersContext","exists","users","random","seed","x","Math","sin","floor","numToSSColumn","num","t","s","fromCharCode","videoSites","MetaPage","decoratedText","decoratedHref","mine","urldata","URL","href","hostname","marginRight","aspectRatio","minHeight","size","domain","description","image","MessageFaviconOrVideoRenderer","links","map","Fragment","includes","controls","Message","messages","i","toscroll","scrolltobottom","sendJsonMessage","deleteFromID","editFromID","messagecharlist","from","editing","setediting","fullyopened","setfullyopened","mimetype","onlyemojis","str","ranges","join","replace","RegExp","removeEmoji","onlyContainsEmojis","donekeys","shiftkey","submitref","longmessage","messageref","id","ID","tempid","opacity","tempmessage","onInput","trim","click","messagetoarray","onKeyDown","keyCode","shiftKey","autoFocus","resize","maxRows","defaultValue","split","componentDecorator","edited","float","maxHeight","onLoad","playsInline","cursor","faFile","toLocaleString","navigator","clipboard","writeText","protocol","host","faCopy","faTrash","faTimes","faPencilAlt","faMinusCircle","faPlusCircle","MessageMaker","typingdata","scrollref","canloadmore","loadingmore","loadmore","chatUpdateID","output","useMemo","lastmessage","alignSelf","username","marginLeft","timeEnd","useParams","faketext","specialchars","onscroll","document","documentElement","scrollHeight","scrollTop","clientHeight","typing","textShadow","ChatNotFound","position","left","transform","faSadCry","faCommentSlash","ChatPage","bypassChars","chats","setchats","isFocussed","useWindowFocus","notifications","NotificationAPI","usersdata","setusersdata","picture","groupchatdata","oldmetypingdata","setoldmetypingdata","metypingdata","setmetypingdata","socketUrl","settypingdata","isonline","setisonline","metypinglengthref","metypingref","typingTimer","inputref","scrollerref","bottomref","loadingchatmessages","setloadingchatmessages","setcanloadmore","setloadingmore","isLoadMore","setChatUpdateID","personaltyping","Recipienttyping","SendSound","ReceiveSound","localchats","setlocalchats","sendFile","formdata","removeNotification","concat","listenerfunction","event","items","clipboardData","originalEvent","kind","getAsFile","log","oldmessagsize","setoldmessagesize","messagesize","StartMessagesLength","ceil","doneTyping","splice","useWebSocket","shouldReconnect","reconnectInterval","lastJsonMessage","readyState","scrollingElement","scrollY","offsetHeight","scrollTo","fileref","formref","max","input","limit","substring","_","mobile","userAgent","online","lastheight","focus","onload","ReadyState","OPEN","UNINSTANTIATED","Provider","zIndex","faDesktop","faMobileAlt","faEyeSlash","handleKeys","onKeyEvent","start","bottom","clearTimeout","faPaperPlane","Chat","Error404","faFileCode","ProfilePage","r","g","b","backgroundcolour","setbackgroundcolour","backgroundImage","backgroundRepeat","backgroundSize","backgroundPosition","ColorThief","getColor","WebkitTextStroke","fontWeight","tag","aboutme","humanFileSize","bytes","si","dp","thresh","abs","units","u","round","toFixed","ReactTimeago","date","days","hours","minutes","seconds","Changebutton","clickable","Modal","setAppElement","UserSettings","backgroundinputref","uploadlimitdata","uploadlimitloading","uploadlimiterror","uploading","setuploading","setbackgroundImage","UsernameModelIsOpen","setUsernameModelIsOpen","ProfileModelIsOpen","setProfileModelIsOpen","Number","limitused","filelimit","timeleft","faPen","isOpen","onRequestClose","onAfterOpen","overlay","content","right","contentLabel","onChange","createObjectURL","accept","trimStart","snooze","milliseconds","Promise","resolve","LoadError","errordataurl","faExclamationTriangle","colorThief","Contact","holdref","UserModelIsOpen","setUserModelIsOpen","onTouchMove","clearInterval","textOverflow","whiteSpace","Contacts","setsearch","localcontacts","setlocalcontacts","contacts","onKeyUp","contact","toUpperCase","UserListing","friends","faUserPlus","AddPeople","q","toString","friendrequests","delay","onError","onScan","scan","setIcon","querySelectorAll","link","createElement","getElementsByTagName","appendChild","rel","NotificationComponent","sound","ToggleSwitch","defaultChecked","Setting","Settings","soundEffects","setSoundEffects","setpersonaltyping","setRecipienttyping","setSendSound","setReceiveSound","setVolume","discord","setdiscord","setemail","paddingTop","min","Verify","verified","LinkDiscord","linked","FilePreview","fname","ext","lastIndexOf","textDecoration","startsWith","verticalAlign","lineHeight","exports","Drive","filename","alignItems","flexDirection","flexWrap","alignContent","Image","response","download","catch","faDownload","RequestNewPassword","faKey","ChangePassword","range","startAt","keys","StartButton","stroke","stroke-width","fill","fill-rule","d","Star","y","Galaxy","Planet","Satellite","exportedObject","Blast","skip","xalien","yalien","stars","ends","startofweek","getUTCDate","plant","plant1","plant2","solarsystem","satellite","satellite1","satellite2","blastIcon","price","sale","fuelIcon","meteorites","endsWith","disabled","StartPage","App","setchattingto","getuserdataonupdate","setgetuserdataonupdate","userdata","setuserdata","catchedcontacts","setcachedcontacts","Notification","permission","requestPermission","reconnect","reCaptchaKey","overflowWrap","options","exact","render","match","params","serviceWorker","getRegistrations","registrations","unregister","onunload","register","scope","ReactDOM","StrictMode","getElementById"],"mappings":"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AAOtJ,GAEP,OADAD,QAAQ0J,KAAR,+CAAgDJ,EAAhD,WAAyDrJ,GAClDsJ,IAMX,EAAsC/H,mBAAYgI,GAAlD,mBAAOG,EAAP,KAAoBC,EAApB,KAoDA,OAvBA1F,qBAAU,WACR0F,EAAeJ,OAEd,IAEHtF,qBAAU,WACR,IAAM2F,EAAsB,WAC1BD,EAAeJ,MASjB,OALAlM,OAAOgH,iBAAiB,UAAWuF,GAGnCvM,OAAOgH,iBAAiB,gBAAiBuF,GAElC,WACLvM,OAAOiH,oBAAoB,UAAWsF,GACtCvM,OAAOiH,oBAAoB,gBAAiBsF,MAG7C,IAEI,CAACF,EAhDsC,SAAC9I,GAExB,oBAAVvD,QACT0C,QAAQ0J,KAAR,+CACqCJ,EADrC,mDAKF,IAEE,IAAMQ,EAAWjJ,aAAiBsG,SAAWtG,EAAM8I,GAAe9I,EAGlEvD,OAAOlC,aAAa2O,QAAQT,EAAKhO,KAAK0O,UAAUF,IAGhDF,EAAeE,GAGfxM,OAAO2M,cAAc,IAAIC,MAAM,kBAC/B,MAAOjK,GACPD,QAAQ0J,KAAR,+CAAgDJ,EAAhD,WAAyDrJ,OC+sDhDkK,GAjwDD,CACZ,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,eACA,eACA,eACA,qEACA,qEACA,qEACA,eACA,mDACA,mDACA,mDACA,eACA,mDACA,mDACA,qEACA,qEACA,qEACA,mDACA,mDACA,qEACA,qEACA,qEACA,mDACA,mDACA,qEACA,qEACA,qEACA,eACA,eACA,eACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,eACA,eACA,iCACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,SACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,SACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,SACA,eACA,eACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,SACA,eACA,SACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,SACA,eACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,OACA,OACA,SACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,4B,uDC/vDF,WAAsB9N,EAAeG,EAAiB4N,GAAtD,SAAAlP,EAAA,sEAEU8F,MAAM,iBAAD,OAAkB,IAAIqJ,gBAAgB,CAAEhO,QAAOG,cAF9D,8BAGI8N,OAHJ,OAIe,UAJf,QAKIF,IALJ,4C,sBASeG,O,kGCyCTC,GAAe5P,wBAAc,CAAE6P,aAAa,EAAOxC,KAAM,IACzDyC,GAAe9P,wBAGlB,CAAE+P,QAAQ,EAAOC,MAAO,KAc3B,SAASC,GAAOC,GACd,IAAIC,EAAqB,IAAjBC,KAAKC,IAAIH,GACjB,OAAOC,EAAIC,KAAKE,MAAMH,GAExB,SAASI,GAAcC,GAIrB,IAHA,IACEC,EADEC,EAAI,GAGDF,EAAM,GACXC,GAAKD,EAAM,GAAK,GAChBE,EAAI3I,OAAO4I,aAAa,GAAKF,GAAKC,EAClCF,GAAQA,EAAMC,GAAK,GAAM,EAE3B,OAAOC,QAAKzQ,EAsBd,IAAM2Q,GAAa,CACjB,cACA,kBACA,YACA,gBACA,WACA,iBACA,qBACA,kBACA,sBACA,eACA,mBACA,YACA,iBAGF,SAASC,GAAT,GAUI,IATFxQ,EASC,EATDA,IACAyQ,EAQC,EARDA,cACAC,EAOC,EAPDA,cACAC,EAMC,EANDA,KAOMC,EAAU,IAAIC,IAAIH,GAChBhR,EAAS+M,EAwCd,oBAAsB,IAAI2C,gBAAgB,CAAEpP,SAxCvCN,KAyCR,OAAOA,EACL,sBACEgD,MAAO,CACLE,QAAS,OACTe,OAAO,aAAD,OAAegN,EAAO,wBAA0B,WACtDrF,gBAAiBqF,EAAO,wBAA0B,UAClD/M,aAAc,OACdH,SAAU,QACVD,OAAQ,QAPZ,UAUE,oBACEsN,KAAMJ,EACNrL,OAAO,QACP3C,MAAO,CACLK,SAAU,QAJd,UAOE,qBACEiB,IAAK4M,EAAQG,SACbrO,MAAO,CACLsO,YAAa,MACbC,YAAa,MACbnI,OAAQ,OACRoI,UAAW,QAEbtQ,IAAG,6CAAwC,IAAIwO,gBAAgB,CAC7D+B,KAAM,KACNC,OAAQR,EAAQG,cAGnBrR,EAAK0B,MAAQ1B,EAAK0B,MAAQqP,KAE7B,4BAAI/Q,EAAK2R,cACR3R,EAAK4R,MAAMhM,OAAS,EACnB,qBACE1E,IAAK,IAAIiQ,IAAInR,EAAK4R,MAAOtR,GAAK8Q,KAC9BpO,MAAO,CAAEgB,MAAO,OAAQE,aAAc,QACtCI,IAAKtE,EAAK0B,MAAQ1B,EAAK0B,MAAQqP,IAGjC,gCAIJ,qBACE/N,MAAO,CACLE,QAAS,OACTe,OAAO,aAAD,OAAegN,EAAO,wBAA0B,WACtDrF,gBAAiBqF,EAAO,wBAA0B,UAClD/M,aAAc,OACdJ,OAAQ,OANZ,SASE,oBACEsN,KAAMJ,EACNrL,OAAO,QACP3C,MAAO,CACLyB,QAAS,OACTE,eAAgB,gBAChBb,OAAQ,GANZ,UASE,qBACEQ,IAAK4M,EAAQG,SACbrO,MAAO,CACLsO,YAAa,MACbC,YAAa,MACbnI,OAAQ,OACRoI,UAAW,QAEbtQ,IAAG,6CAAwC,IAAIwO,gBAAgB,CAC7D+B,KAAM,KACNC,OAAQR,EAAQG,cAGpB,mBAAGrO,MAAO,CAAEe,SAAU,OAAtB,SAAgCgN,SAMxC,SAASc,GAAT,GAUI,IATFC,EASC,EATDA,MACAb,EAQC,EARDA,KASA,OACE,mCACGa,EAAMC,KACL,YAQO,IAPLf,EAOI,EAPJA,cACAD,EAMI,EANJA,cACApC,EAKI,EALJA,IAMMrO,EAAM,IAAI6Q,IAAIH,GACpB,OACE,cAAC,IAAMgB,SAAP,UACGnB,GAAWoB,SAAS3R,EAAI+Q,UACvB,cAAC,KAAD,CACE/Q,IAAK0Q,EACLhN,MAAM,OACNoF,OAAO,OACP8I,UAAU,EACVlP,MAAO,CAAEuO,YAAa,UAGxB,cAACT,GAAD,CACExQ,IAAK0Q,EACLD,cAAeA,EACfC,cAAeA,EACfC,KAAMA,KAdStC,QAyBjC,SAASwD,GAAT,GAkBI,IAjBFC,EAiBC,EAjBDA,SACAC,EAgBC,EAhBDA,EACAC,EAeC,EAfDA,SACAC,EAcC,EAdDA,eACArI,EAaC,EAbDA,KACAsI,EAYC,EAZDA,gBACAC,EAWC,EAXDA,aACAC,EAUC,EAVDA,WAWM7Q,EAAUuQ,EAASC,GAAGxQ,QACtB8Q,EAAkB9Q,EAAU4F,MAAMmL,KAAK/Q,QAAW3B,EACxD,EAA8B2G,oBAAS,GAAvC,mBAAOgM,EAAP,KAAgBC,EAAhB,KACA,EAAsCjM,oBAAS,GAA/C,mBAAOkM,EAAP,KAAoBC,EAApB,KACMlN,EAAOsM,EAASC,GAAGvM,KACnBmN,EAAWb,EAASC,GAAGY,SACvBC,IAAarR,IACf4F,MAAMmL,KAAK/Q,GAAS+D,OAAS,IAlRnC,SAA4BuN,GAC1B,IAAMC,EAAS5D,GAAM6D,KAAK,KAK1B,OAHoB,SAACF,GAAD,OAClBA,EAAIG,QAAQ,IAAIC,OAAO,IAAMH,EAAS,IAAK,KAAM,IAE3CI,CAAYL,GAAKvN,OA4Qc6N,CAAmB5R,IAEpDiQ,EAIA,GACA4B,EAAqB,GACrBC,EAAW5J,kBAAO,GAClB4E,EAAM5E,iBAAO,MACb6J,EAAY7J,mBACZ8J,EAAclB,GAAmBA,EAAgB/M,OAAS,IAC1DkO,EAAa/J,iBAAOlI,GAC1B,OACE,qCACE,cAAC,KAAD,CACEkS,GAAI/L,OAAOoK,EAASC,GAAG2B,GAAK5B,EAASC,GAAG2B,GAAK5B,EAASC,GAAG4B,QAD3D,SAGE,qBACEjR,MAAO,CAAEkR,QAAU9B,EAASC,GAAG2B,QAAW9T,EAAN,IACpCkD,UACE8P,GAAcpN,EAAd,0BAEMsM,EAASC,GAAGO,OAAS1I,EAAK6J,GAAK,OAAS,QAF9C,aAIO3B,EAASC,EAAI,IACdD,EAASC,EAAI,GAAGO,OAASR,EAASC,GAAGO,MACpCR,EAASC,EAAI,IACZD,EAASC,EAAI,GAAG/E,KAAO8E,EAASC,GAAG/E,KAAO,IAH5C,eAIY8E,EAASC,GAAGO,OAAS1I,EAAK6J,GAAK,OAAS,SAChD,IATV,uBAYM3B,EAASC,GAAGO,OAAS1I,EAAK6J,GAAK,OAAS,SAflD,SAmBGlS,EACCgR,EACE,mCACE,uBACEtN,SAAU,SAACH,GACTA,EAAEI,iBACFsN,GAAW,GACX,IAAMqB,EAAcL,EAAWtG,QACX,KAAhB2G,GACF3B,EAAgB,CAAE7Q,KAAM,SAAUoS,GAAI3B,EAASC,GAAG2B,KAClDvB,EAAaL,EAASC,GAAG2B,KAChBnS,IAAYsS,IACrB3B,EAAgB,CACd7Q,KAAM,OACNoS,GAAI3B,EAASC,GAAG2B,GAChBnS,QAASsS,IAEXzB,EAAWN,EAASC,GAAG2B,GAAIG,KAdjC,UAkBE,cAAC,KAAD,CACEC,QAAS,SAAChP,GACR,GAAoB,KAAhBuJ,EAAInB,SAAmBmG,EAASnG,QAE7B,CACL,IAAM3L,EAAUuD,EAAEO,OAAOO,MAAMmO,OAC/BP,EAAWtG,QAAU3L,OAHrB+R,EAAUpG,QAAQ8G,QAKpB,IAAMC,EAA2B9M,MAAMmL,KAAK/Q,GAC5CuD,EAAEO,OAAOO,MAAQuB,MAAMmL,KAAKxN,EAAEO,OAAOO,OAClCmB,MAAM,EAAG,KACTgM,KAAK,IACJkB,EAAe3O,QAAU,MAC3BR,EAAEO,OAAOO,MAAQuB,MAAMmL,KAAKxN,EAAEO,OAAOO,OAClCmB,MAAM,EAAG,KACTgM,KAAK,MAGZmB,UAAW,SAACpP,GACVuJ,EAAInB,QAAUpI,EAAEqP,QAChBd,EAASnG,QAAUpI,EAAEsP,UAEvBC,WAAS,EACT3R,MAAO,CACL4I,gBAAiB,wBACjB1I,QAAS,MACTgB,aAAc,OACdD,OAAQ,mCACRX,MAAO,QACPsR,OAAQ,OACR5Q,MAAO,QAET6Q,QAAS,GACTjM,YAAY,oBACZkM,aAAcjT,IAEhB,uBACEF,KAAK,SACL2I,IAAKsJ,EACL5Q,MAAO,CAAEyB,QAAS,eAKxB,qCACGyO,GACEW,GAAelB,IAAoBI,EAChCJ,EAAgBtL,MAAM,EAAG,KAAKgM,KAAK,IACnCxR,GAEDkT,MAAM,OACNhD,KAAI,SAAC7L,EAAeR,GAAhB,OACHA,EAAQ,IAAM,EACZ,cAAC,IAAMsM,SAAP,UACE,cAAC,KAAD,CACEgD,mBAAoB,SAClBhE,EACAD,EACApC,GAUA,OARK+E,EAASzB,SAAStD,KACrBmD,EAAMjO,KAAK,CACTmN,gBACAD,gBACApC,QAEF+E,EAAS7P,KAAK8K,IAGd,mBACEhJ,OAAO,QACPyL,KAAMJ,EAFR,SAKGD,GAFIpC,IAlBb,SAyBGzI,EAAMmO,UA1BU3O,GA8BrB,cAAC,KAAD,UACGQ,EAAMmO,QADe3O,MAM9B,oBAAItC,UAAU,eAAd,SAA8BvB,IAE/BgS,IAAgBd,EAAc,MAAQ,IACrCc,GAAed,EACf,cAAClB,GAAD,CACEC,MAAOA,EACPb,KAAMmB,EAASC,GAAGO,OAAS1I,EAAK6J,KAGlC,6BAEDF,EACC,oBACEjQ,QAAS,kBAAMoP,GAAgBD,IAC/B/P,MAAO,CACLM,MACE8O,EAASC,GAAGO,OAAS1I,EAAK6J,GAAK,YAAc,OAC/C1Q,SAAU,QALd,kBAQQ0P,EAAc,OAAS,UAG/B,6BAEDX,EAASC,GAAG4C,OACX,mBACEjS,MAAO,CACLM,MACE8O,EAASC,GAAGO,OAAS1I,EAAK6J,GAAK,YAAc,OAC/C1Q,SAAU,OACV6R,MAAO,SALX,oBAWA,gCAIJpP,EACF,8BACGmN,EAC4B,UAA3BA,EAAS8B,MAAM,KAAK,GAClB,qBACEzQ,IAAKwB,EACL5E,IAAG,iBAAY4E,GACf9C,MAAO,CACLe,SAAU,OACVoR,UAAW,QACXjR,aAAc,QAEhBoD,QAAQ,OACR8N,OAAQ,WACF9C,EAAS9E,SACX+E,OAIuB,UAA3BU,EAAS8B,MAAM,KAAK,GACtB,uBACE7T,IAAG,iBAAY4E,GACf9C,MAAO,CAAEgB,MAAO,OAAQmR,UAAW,SACnCjD,UAAQ,EACRmD,aAAW,EACXD,OAAQ,WACF9C,EAAS9E,SACX+E,OAIuB,UAA3BU,EAAS8B,MAAM,KAAK,GACtB,uBACE7T,IAAG,iBAAY4E,GACf9C,MAAO,CAAEgB,MAAO,OAAQmR,UAAW,SACnCjD,UAAQ,EACRmD,aAAW,EACXD,OAAQ,WACF9C,EAAS9E,SACX+E,OAKN,sBACE3O,QAAS,WACPjB,OAAO2I,KAAP,iBACYxF,GACVA,EACA,yBAGJ9C,MAAO,CACLM,MAAO,+BACPgS,OAAQ,WAVZ,UAaE,cAAC,IAAD,CAAiB1N,KAAM2N,MAbzB,WAiBF,sBACE3R,QAAS,WACPjB,OAAO2I,KAAP,iBAAsBxF,GAAQA,EAAM,yBAEtC9C,MAAO,CACLM,MAAO,+BACPgS,OAAQ,WANZ,UASE,cAAC,IAAD,CAAiB1N,KAAM2N,MATzB,aAcJ,iCAKN,eAAC,KAAD,CACExB,GAAI/L,OAAOoK,EAASC,GAAG2B,GAAK5B,EAASC,GAAG2B,GAAK5B,EAASC,GAAG4B,QAD3D,UAGE,mBAAGjR,MAAO,CAAEC,UAAW,UAAvB,SACG,IAAIuF,KAAK4J,EAASC,GAAG/E,MAAMkI,mBAE9B,cAAC,KAAD,CACE5R,QAAS,WACP6R,UAAUC,UAAUC,UAClB9T,GAAO,UAEAc,OAAOsE,SAAS2O,SAFhB,cAMGjT,OAAOsE,SAAS4O,KANnB,kBAOO/P,KAVpB,SAcE,iCACE,cAAC,IAAD,CAAiB8B,KAAMkO,MADzB,aAID1D,EAASC,GAAGO,OAAS1I,EAAK6J,IAAM3B,EAASC,GAAG2B,GAC3C,qCACE,cAAC,KAAD,CACEpQ,QAAS,WACP4O,EAAgB,CAAE7Q,KAAM,SAAUoS,GAAI3B,EAASC,GAAG2B,KAClDvB,EAAaL,EAASC,GAAG2B,KAH7B,SAME,iCACE,cAAC,IAAD,CAAiBpM,KAAMmO,MADzB,eAIDlU,EACC,cAAC,KAAD,CACE+B,QAAS,WACPkP,GAAYD,IAFhB,SAKE,+BACGA,EACC,qCACE,cAAC,IAAD,CAAiBjL,KAAMoO,MADzB,kBAIA,qCACE,cAAC,IAAD,CAAiBpO,KAAMqO,MADzB,eAON,gCAIJ,6BAEDpC,EACC,cAAC,KAAD,CACEjQ,QAAS,WACPoP,GAAgBD,IAFpB,SAKE,iCACE,cAAC,IAAD,CACEnL,KAAMmL,EAAcmD,IAAgBC,MACnC,IAHL,QAIQpD,EAAc,OAAS,YAIjC,mCAOV,SAASqD,GAAT,GA8BI,IA7BFhE,EA6BC,EA7BDA,SACAiE,EA4BC,EA5BDA,WACAC,EA2BC,EA3BDA,UACAhE,EA0BC,EA1BDA,SACAiE,EAyBC,EAzBDA,YACAC,EAwBC,EAxBDA,YACAC,EAuBC,EAvBDA,SACAC,EAsBC,EAtBDA,aACAnE,EAqBC,EArBDA,eACAE,EAoBC,EApBDA,aACAC,EAmBC,EAnBDA,WACAF,EAkBC,EAlBDA,gBAmBQtI,EAAS/J,IAAT+J,KACA+F,EAAU7P,qBAAW2P,IAArBE,MACF0G,EAASC,mBAAQ,WACrBvR,QAAQiI,KAAK,cAGb,IAFA,IAAMqJ,EAAS,GACXE,EAAwD,KACnDxE,EAAI,EAAGA,EAAID,EAASxM,OAAQyM,MAE/BwE,IAAgBN,GACjBM,GAAezE,EAASC,GAAG/E,KAAOuJ,EAAYvJ,KAAO,MAEtDqJ,EAAO9S,KACL,mBAEEb,MAAO,CACLc,OAAQ,IACRR,MAAM,YACND,SAAU,OACVJ,UAAW,UANf,SASG,IAAIuF,KAAK4J,EAASC,GAAG/E,MAAMkI,kBARvBpD,EAASC,GAAG/E,OAYlBuJ,GAAezE,EAASC,GAAGO,OAASiE,EAAYjE,MACnD+D,EAAO9S,KACLuO,EAASC,GAAGO,OAAS1I,EAAK6J,IAAM9D,EAAMmC,EAASC,GAAGO,MAChD,sBAEE5P,MAAO,CACL8T,UACE1E,EAASC,GAAGO,OAAS1I,EAAK6J,GAAK,WAAa,cAJlD,UAOG3B,EAASC,GAAGO,OAAS1I,EAAK6J,GACzB,sBAAM/Q,MAAO,CAAEsO,YAAa,OAA5B,SAAsCpH,EAAK6M,WAE3C,6BAEF,qBACE7V,IAAG,iBACDkR,EAASC,GAAGO,OAAS1I,EAAK6J,GACtB7J,EAAK2B,WACLoE,EAAMmC,EAASC,GAAGO,MAAM/G,YAE9B7I,MAAO,CACLgB,MAAO,OACPoF,OAAQ,OACRtF,OAAQ,MACRI,aAAc,OAEhBI,IAAI,KAEL2L,EAAMmC,EAASC,GAAGO,MACjB,sBAAM5P,MAAO,CAAEgU,WAAY,OAA3B,SACG/G,EAAMmC,EAASC,GAAGO,MAAMmE,WAG3B,+BA9BG3E,EAASC,GAAG2B,GAAK,WAkCxB,8BAIN2C,EAAO9S,KACL,cAACsO,GAAD,CAEEC,SAAUA,EACVK,aAAcA,EACdJ,EAAGA,EACHnI,KAAMA,EACNoI,SAAUA,EACVC,eAAgBA,EAChBC,gBAAiBA,EACjBE,WAAYA,GARPN,EAASC,GAAG2B,GAAK5B,EAASC,GAAG2B,GAAK5B,EAASC,GAAG4B,SAWvD4C,EAAczE,EAASC,GAGzB,OADAhN,QAAQ4R,QAAQ,cACTN,IAEN,CAACvE,EAAUmE,EAAaC,EAAaE,IAC5BtM,EAAe8M,cAAnBnD,GACF9M,EAAWC,cACXiQ,EAAWP,mBAAQ,WAEvB,IADA,IAAID,EAAS,GACJtE,EAAI,EAAGA,GAAKgE,EAAWzQ,OAAQyM,IACtCsE,EAAO9S,KACLwS,EAAWe,cAAgB/E,EAAI,KAAKgE,EAAWe,aAC3Cf,EAAWe,aAAa/E,EAAI,GAC5B7B,GAA0B,GAAZN,GAAOmC,KAG7B,OAAOsE,EAAOtD,KAAK,IAAIpL,gBACtB,CAACoO,IAgBJ,OAdA1T,OAAO0U,SAAW,WACZpQ,EAASiE,WAAT,gBAA+Bd,KACjCkI,EAAS9E,QACP8J,SAASC,gBAAgBC,aACvBF,SAASC,gBAAgBE,UACzBH,SAASC,gBAAgBG,cAC3B,IACEnB,GACEe,SAASC,gBAAgBE,UAAY,IACvChB,EAASrE,KAMf,qBACEpP,MAAO,CACLgB,MAAO,OACPoF,OAAO,OACPjG,SAAU,WAEZmH,IAAKgM,EANP,SAQE,sBACElT,UAAU,OACVJ,MAAO,CACLc,OAAO,sBACPC,SAAU,SAJd,UAOGqO,EAASxM,OAAS,EACjB,qCACG2Q,GAAeC,EACd,cAAC,EAAD,GAAa,UAEb,6BAEDG,KAGH,mBAAG3T,MAAO,CAAEM,MAAO,OAAQL,UAAW,UAAtC,2CAIDoT,EAAWsB,OACV,qBACEvU,UAAU,mCACVJ,MAAO,CACLkR,QAAS,GACT0D,WAAY,gBACZtU,MAAO,eALX,SAQG6T,IAGH,kCAOV,SAASU,KACP,OACE,sBACE7U,MAAO,CACL8U,SAAU,WACVpN,IAAK,MACLqN,KAAM,MACNC,UAAW,wBACX/U,UAAW,SACXK,MAAO,QAPX,UAUE,sBAAKN,MAAO,CAAEK,SAAU,QAAxB,UACE,cAAC,IAAD,CAAiBuE,KAAMqQ,MACvB,cAAC,IAAD,CAAiBrQ,KAAMsQ,SAEzB,gDACA,sCACQ,IACN,iCACE,cAAC,IAAD,CACEnV,GAAG,YACHC,MAAO,CAAEM,MAAO,gCAFlB,sBADF,aAcR,SAAS6U,KACP,IAAMC,EAAqB,sBACtB5I,IADsB,CAEzB,IACA,IACA,IACA,IACA,IACA,OACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,IACA,MAEF,EAA0B3I,mBACxB,IADF,mBAAOwR,EAAP,KAAcC,EAAd,KAGMC,EAAaC,eACbhW,EAAUC,cACJ2H,EAAe8M,cAAnBnD,GACR,EAAiD5T,IAAzCsY,EAAR,EAAQA,cAAevO,EAAvB,EAAuBA,KAAMwO,EAA7B,EAA6BA,gBAErB5I,EAAgB1P,qBAAWyP,IAA3BC,YACR,EAAkCjJ,qBAAlC,mBAAO8R,EAAP,KAAkBC,EAAlB,KAGA,EAA6C/R,mBAAS,CACpDgS,QAAS,GACT5S,KAAM,KAFD6S,EAAP,oBAIA,EAA8CjS,mBAAS,CACrDlF,KAAM,SACNgW,QAAQ,EACR/R,OAAQ,EACRwR,aAAc,KAJhB,mBAAO2B,EAAP,KAAwBC,EAAxB,KAMA,EAAwCnS,mBAAS,CAC/ClF,KAAM,SACNgW,QAAQ,EACR/R,OAAQ,EACRwR,aAAc,KAJhB,mBAAO6B,EAAP,KAAqBC,EAArB,KAMA,EAAoBrS,mBAAS,KAAD,OACQ,WAA7BlE,OAAOsE,SAAS2O,SAAwB,IAAM,GADzB,cAIpBjT,OAAOsE,SAAS4O,KAJI,UAArBsD,EAAP,oBAOM1H,EAAOtI,IACb,EAAoCtC,mBAIjC,CAAE8Q,QAAQ,EAAO/R,OAAQ,EAAGwR,aAAc,KAJ7C,mBAAOf,EAAP,KAAmB+C,EAAnB,KAKA,EAAgCvS,mBAAS,KAAzC,mBAAOwS,EAAP,KAAiBC,GAAjB,KACMC,GAAoBxP,iBAAe,GACnCyP,GAAczP,kBAAY,GAC1B0P,GAAc1P,iBAAY,MAC1B2P,GAAW3P,iBAAY,MACvB4P,GAAc5P,iBAAY,MAC1B6P,GAAY7P,iBAAY,MACxBuI,GAAWvI,kBAAO,GACxB,GAAsDlD,oBAAS,GAA/D,qBAAOgT,GAAP,MAA4BC,GAA5B,MACA,GAAsCjT,oBAAS,GAA/C,qBAAO0P,GAAP,MAAoBwD,GAApB,MACA,GAAsClT,oBAAS,GAA/C,qBAAO2P,GAAP,MAAoBwD,GAApB,MACMC,GAAalQ,kBAAgB,GACnC,GAAwClD,mBAAwB,MAAhE,qBAAO6P,GAAP,MAAqBwD,GAArB,MACA,GAAyBxL,GAAgB,yBAAyB,GAA3DyL,GAAP,qBACA,GAA0BzL,GAAgB,0BAA0B,GAA7D0L,GAAP,qBACA,GAAoB1L,GAAgB,cAAc,GAA3C2L,GAAP,qBACA,GAAuB3L,GAAgB,iBAAiB,GAAjD4L,GAAP,qBACA,GAAoC5L,GAEjC,QAAS,IAFZ,qBAAO6L,GAAP,MAAmBC,GAAnB,MAzFkB,SA4FHC,GA5FG,iFA4FlB,WAAwB3U,GAAxB,uBAAAvF,EAAA,6DACQwT,EAAK1D,KAAKH,SAChBuI,EAAchX,gBAAgB,CAC5BC,MAAO,OACPG,QAAS,eACTF,KAAM,UACNG,OAAQ,MACRiS,KACA9R,UAAW,YACXF,YAAa,CAAC,oBAAqB,mBACnCC,aAAc,CAAC,oBAAqB,sBAVxC,UAaU0Y,EAAW,IAAIjV,UACZO,OAAO,OAAQF,GAd5B,SAgBYO,MAAM,kBAAmB,CAC7BC,OAAQ,OACRC,KAAMmU,IAlBd,8BAoBMlU,OApBN,QAeU0B,EAfV,QAqBaA,MACPuQ,EAAckC,mBAAmB5G,GAC3BzG,GAAO,IAAI9E,MAAO+E,UAClB0G,EAAS5D,KAAKH,SACpBsC,GAAgB,CACd7Q,KAAM,OACNmE,KAAMoC,EAAK6L,GACXd,SAAUnN,EAAKnE,KACfsS,WAEFqE,GAAS,SAACD,GAAD,OACPA,EAAMuC,OAAO,CACXhI,KAAM1I,EAAK6J,GACXlS,aAAS3B,EACT+S,SAAUnN,EAAKnE,KACfmE,KAAMoC,EAAK6L,GACXzG,OACA2G,SACAgB,QAAQ,OAGZwD,EAAckC,mBAAmB5G,KAEjC0E,EAAckC,mBAAmB5G,GACjC0E,EAAchX,gBAAgB,CAC5BC,MAAO,eACPG,QAASqG,EAAKQ,IACd/G,KAAM,SACNG,OAAQ,MACRG,UAAW,YACXF,YAAa,CAAC,oBAAqB,mBACnCC,aAAc,CAAC,oBAAqB,uBApD5C,kDAwDIyW,EAAckC,mBAAmB5G,GACjC0E,EAAchX,gBAAgB,CAC5BC,MAAO,eACPG,QAASmG,OAAO,EAAD,IACfrG,KAAM,SACNG,OAAQ,MACRG,UAAW,YACXF,YAAa,CAAC,oBAAqB,mBACnCC,aAAc,CAAC,oBAAqB,sBAhE1C,2DA5FkB,sBAgKlBuH,qBAAU,WACR9I,aAAa2O,QAAQ,aAAczO,KAAK0O,UAAUjF,IAClD,IAAMyQ,EAAmB,SAAUC,GACjC,IAAMC,GAASD,EAAME,eAAiBF,EAAMG,cAAcD,eACvDD,MACH,IAAK,IAAMrV,KAASqV,EAAO,CACzB,IAAMjM,EAAOiM,EAAMrV,GACnB,GAAkB,SAAdoJ,EAAKoM,KAAiB,CACxB,IAAMhN,EAAOY,EAAKqM,YAClB9V,QAAQ+V,IAAIlN,GACZuM,GAASvM,MAKf,OADAvL,OAAOgH,iBAAiB,QAASkR,GAC1B,WACLlY,OAAOiH,oBAAoB,QAASiR,MAGrC,IACHtR,qBAAU,WAIR,OAHIoP,IACFrB,SAAS5V,MAAT,UAAoBiX,EAAU1I,MAAM7F,GAAY2M,SAAhD,gBAEK,WACLO,SAAS5V,MAAQ,cAElB,CAAC0I,EAAYuO,IAChB,OAA2C9R,mBAASwR,EAAMzS,OAAS,GAAnE,qBAAOyV,GAAP,MAAsBC,GAAtB,MACMC,GAAclD,EAAMzS,OAAS,EACnC2D,qBAAU,WACJgS,KAAgBF,KAClB9I,KACA+I,GAAkBC,OAGnB,CAACA,KACJ,IACMC,GAAsBnL,KAAKoL,KAAKhK,EAAKrI,OAAS,GAAK,GACzD,SAASsS,KACHlC,GAAYhM,UACdgM,GAAYhM,SAAU,EACtB0L,EAAgB,CACdvX,KAAM,SACNgW,QAAQ,EACR/R,OAAQ,EACRwR,aAAc,MAIpB,SAAS3E,GAAasB,GACpB,IAAK,IAAI1B,EAAI,EAAGA,GAAKgG,EAAMzS,OAAQyM,IACjC,GAAIgG,EAAMhG,GAAG2B,KAAOD,EAAI,CACtBsE,EAAMsD,OAAOtJ,EAAG,GAChBiG,EAASD,GACT6B,GAAgB7J,KAAKH,UACrB,OAIN,SAASwC,GAAWqB,EAAYlS,GAC9B,IAAK,IAAIwQ,EAAI,EAAGA,GAAKgG,EAAMzS,OAAQyM,IACjC,GAAIgG,EAAMhG,GAAG2B,KAAOD,EAAI,CACtBsE,EAAMhG,GAAGxQ,QAAUA,EACnBwW,EAAMhG,GAAG4C,QAAS,EAClBqD,EAASD,GACT6B,GAAgB7J,KAAKH,UACrB,OAIN,OAAyD0L,IACvDzC,EACA,CACE0C,gBAAiB,kBAAM,GACvBC,kBAAmB,IAJftJ,GAAR,GAAQA,gBAAiBuJ,GAAzB,GAAyBA,gBAAiBC,GAA1C,GAA0CA,WAOpCzJ,GAAiB,WACrB,IAAM0J,EAAmB3E,SAAS2E,kBAAoB3E,SAAS/Q,KAC3D5D,OAAO+G,YAAc/G,OAAOuZ,QAAU5E,SAAS/Q,KAAK4V,cACtDF,EAAiBG,SAAS,EAAGH,EAAiBzE,eAG5C6E,GAAUtS,iBAAyB,MACnC6J,GAAY7J,iBAAY,MACxBuS,GAAUvS,iBAAY,MACtB4J,GAAW5J,kBAAO,GAClB4E,GAAM5E,iBAAO,MAEnBR,qBAAU,WACR,GAAIwS,GACF,GAA6B,YAAzBA,GAAgBpa,KACdoa,GAAgBla,QAAQ+Q,OAAS1I,EAAK6J,IAAMuG,IAC9ChY,EAAU,0BAEZgW,GAAS,SAACD,GAAD,OAAWA,EAAMuC,OAAOmB,GAAgBla,YAEjDuX,EAAc,CACZzB,QAAQ,EACR/R,OAAQ,EACRwR,aAAc,KAEZuB,IACErG,GAAS9E,SACXuM,IAAe,GACfE,GAAWzM,SAAU,EACrBsM,IAAuB,GACvBxB,GAAS,SAACD,GAAD,OACPA,EAAMhR,MAAMgJ,KAAKkM,IAAIlE,EAAMzS,OAAS4V,GAAqB,OAE3Dla,WAAWiR,GAAgB,GAEzBwJ,GAAgBla,QAAQ+Q,OAAS1I,EAAK6J,KACrCwE,GACD5N,OAEAiF,GAAO,GAAD,OACD+I,EAAU1I,MAAM8L,GAAgBla,QAAQ+Q,MAAMmE,UACjDgF,GAAgBla,QAAQA,SACxB,WACEW,EAAQqB,KAAR,gBAAsBuG,IACtBmI,SAIGwJ,GAAgBla,QAAQ+Q,OAAS1I,EAAK6J,IAC/C2E,EACE,CACEhX,MAAM,GAAD,OACHiX,EAAU1I,MAAM8L,GAAgBla,QAAQ+Q,MAAMmE,UAEhDlV,QAASka,GAAgBla,QAAQA,SA9mC/B2a,EA+mCWT,GAAgBla,QAAQA,QA/mCpB4a,EA+mC6B,GA9mC5DD,EAAM5W,OAAS6W,EAAf,UAA0BD,EAAME,UAAU,EAAGD,GAA7C,OAA2DD,GA+mCzC,OACJ7a,KAAM,UACNC,UAAW,SAAC+a,EAAWhb,GACR,UAATA,IACFa,EAAQqB,KAAR,gBAAsBuG,IACtBmI,OAGJzQ,OAAQ,MACRG,UAAW,YACXF,YAAa,CAAC,oBAAqB,mBACnCC,aAAc,CAAC,oBAAqB,oBACpCE,QAAS,CACPE,cAAc,EACdD,SAAU,IACVE,UAAU,KAGd,WACEG,EAAQqB,KAAR,gBAAsBuG,IACtBmI,cAKH,GAA6B,WAAzBwJ,GAAgBpa,KACrBoa,GAAgBnJ,OAAS1I,EAAK6J,IAAMuG,IACtChY,EAAU,sBAEZmQ,GAAasJ,GAAgBhI,SACxB,GAA6B,SAAzBgI,GAAgBpa,KACrBoa,GAAgBnJ,OAAS1I,EAAK6J,IAAMuG,IACtChY,EAAU,oBAEZoQ,GAAWqJ,GAAgBhI,GAAIgI,GAAgBla,cAC1C,GAA6B,UAAzBka,GAAgBpa,KACzBoY,IAAe,GACfE,GAAWzM,SAAU,EACrBsM,IAAuB,GACvBtH,GAAgB,CACd7Q,KAAM,QACNoB,GAAIqH,EACJqS,MAAOjB,GACPoB,OACE,+EAA+E7U,KAC7E0N,UAAUoH,kBAGX,GAA6B,SAAzBd,GAAgBpa,KACzB6Q,GAAgB,CAAE7Q,KAAM,cACnB,GAA6B,SAAzBoa,GAAgBpa,KAAiB,CAAC,IAAD,gBACpB0W,GADoB,IAC1C,2BAA6B,CAAC,IAAnBxW,EAAkB,QACvBA,EAAQoS,SAAW8H,GAAgB9H,gBAC9BpS,EAAQoS,OACfpS,EAAQmS,GAAK+H,GAAgBhI,KAJS,8BAO1CmG,GAAgB7J,KAAKH,UACrBoI,EAASD,QACJ,GAA6B,WAAzB0D,GAAgBpa,KACpBoa,GAAgBe,QAAwB,MAAbzD,GAAiC,MAAbA,EAEzC0C,GAAgBe,QAAuB,MAAbzD,GACnC/W,EAAU,oBAFVA,EAAU,qBAIZgX,GACEyC,GAAgBe,OAAUf,GAAgBa,OAAS,IAAM,IAAO,UAE7D,GAA6B,WAAzBb,GAAgBpa,KACrByY,KACE2B,GAAgBnW,OAASyQ,EAAWzQ,OACtCtD,EAAU,gBAAD,OAAiB+N,KAAKE,MAAsB,EAAhBF,KAAKH,SAAe,GAAhD,SACA6L,GAAgBnW,OAASyQ,EAAWzQ,QAC7CtD,EAAU,uBAGVgQ,GAAS9E,SACXlM,WAAWiR,GAAgB,GAE7B6G,EAAc,CACZzB,OAAQoE,GAAgBpE,OACxB/R,OAAQmW,GAAgBnW,OACxBwR,aAAc2E,GAAgB3E,oBAE3B,GAA6B,gBAAzB2E,GAAgBpa,KACzB2W,EAASyD,GAAgB3J,UACzBwG,EAAa,CAAE5I,QAAQ,EAAMC,MAAO8L,GAAgB9L,QACpD8J,IAAe,GACfE,GAAWzM,SAAU,EACrBsM,IAAuB,QAClB,GAA6B,oBAAzBiC,GAAgBpa,KAA4B,CAErD,GADA2W,EAAS,GAAD,mBAAKyD,GAAgB3J,UAArB,YAAkCiG,KACtC0D,GAAgB3J,SAASxM,OAAS,EAAG,CACvC,IAAMmX,EAAazF,SAASC,gBAAgB4E,aAC5C7a,YAAW,WACTgW,SAASC,gBAAgBE,UACvBH,SAASC,gBAAgBC,aAAeuF,EAC1C9C,GAAWzM,SAAU,EAErBwM,IAAe,KACd,GAELD,GAAegC,GAAgB3J,SAASxM,OAAS,GAttCxC,IAAC4W,EAAeC,IA0tC5B,CAACV,KACJxS,qBAAU,WAEN,+EAA+ExB,KAC7E0N,UAAUoH,YAGZrK,GAAgB,CAAE7Q,KAAM,WAAYqb,MAAOzE,MAG5C,CAACA,IACJhP,qBAAU,WACJ5I,KAAK0O,UAAU0J,KAAqBpY,KAAK0O,UAAU4J,KACrDzG,GAAgByG,GAChBD,EAAmBC,MAGpB,CAACA,IACJtW,OAAOsa,OAAS,kBAAM3b,WAAWiR,GAAgB,IACjDhJ,qBAAU,WACRjI,WAAWiR,GAAgB,KAC1B,CAACoG,EAAWqD,KACfzS,qBAAU,WACJ+I,GAAS9E,SACXlM,WAAWiR,GAAgB,GAExBsH,KACHU,GAAWnQ,GAAciO,EAAMhR,MAC7BgJ,KAAKkM,IAAIlE,EAAMzS,OAAS4V,GAAqB,IAE/ChB,GAAcD,OAGf,CAAClC,EAAO3B,KACXnN,qBAAU,WACJoP,IAAcA,EAAU3I,QAC1B8J,IAAuB,KAExB,CAACnB,IAYJ,OACIA,IACCqD,KAAekB,aAAWC,MACzBnB,KAAekB,aAAWE,kBAC5BvD,IACDU,GAAWnQ,IAGFmQ,GAAWnQ,IAAgBuO,IAAcA,EAAU3I,OACtD,cAAC6H,GAAD,IAGP,cAAC9H,GAAasN,SAAd,CACEnX,MAAOyS,GAAwB,CAAE3I,QAAQ,EAAOC,MAAO,IADzD,SAGE,8BACE,gCACE,qBACEjN,MAAO,CACL8U,SAAU,QACV9T,MAAO,OACPoF,OAAQ,OACRlG,QAAS,OACToa,OAAQ,GACRnZ,WACE,wDARN,SAWGwU,GAAaqD,KAAekB,aAAWC,KACtC,qCACG,IACD,qBACEjc,IACE,UACA8G,OACE8H,EACIgJ,EAAcD,QACdF,EAAU1I,MAAM7F,GAAYyB,YAGpC7I,MAAO,CACLyB,QAAS,QACT2E,OAAQ,MACRtF,OAAQ,OACRI,aAAc,QAEhBI,IAAKqU,EAAU1I,MAAM7F,GAAY2M,WAEnC,oBAAG/T,MAAO,CAAEC,UAAW,UAAvB,UACG0V,EAAU1I,MAAM7F,GAAY2M,SAAU,IACvC,cAAC,IAAD,CACE/T,MAAO,CACLM,MACe,MAAb+V,EAAmB,iBAAmB,iBAE1CzR,KACe,MAAbyR,EACIkE,IACa,MAAblE,EACAmE,IACAC,YAMZ,mBAAGza,MAAO,CAAEc,OAAQ,OAAQb,UAAW,UAAvC,SACGia,aAAWlB,QAIlB,cAAC,KAAD,CACE0B,WAAY,CAAC,eAAgB,QAAS,QAAS,OAC/CC,WAAY,WACVjE,GAASlM,QAAQwP,WAGrB,cAAC5G,GAAD,CACE3D,aAAcA,GACdC,WAAYA,GACZH,eAAgBA,GAChB+D,UAAWqD,GACXvH,SAAUyH,GAAsBU,GAAWnQ,GAAciO,EACzDhC,WAAYA,EACZ/D,SAAUA,GACViE,YAAaA,IAAeyF,KAAekB,aAAWC,KACtD3G,YAAaA,GACbC,SAlGO,WACVwD,GAAWzM,UACdyM,GAAWzM,SAAU,EACrBwM,IAAe,GACfxH,GAAgB,CACd7Q,KAAM,cACNic,MAAOvF,EAAMzS,OACb2W,IAAK,OA4FD7F,aAAcA,GACdlE,gBAAiBA,KAEnB,qBAAKlI,IAAKsP,KACV,qBACE5W,MAAO,CACL8U,SAAU,QACV5U,QAAS,OACTc,MAAO,OACP6Z,OAAQ,MACR1Z,WACE,yDACFM,QAAS,QARb,SAWE,sBACEzB,MAAO,CACLc,OAAQ,OACRE,MAAO,OACPD,SAAU,QACVU,QAAS,QALb,UAQE,uBACE9C,KAAK,OACLqB,MAAO,CAAEyB,QAAS,QAClB6F,IAAK+R,GACLjI,QAAO,uCAAE,WAAOhP,GAAP,eAAA7E,EAAA,sDACH6E,EAAEO,OAAOI,MAAMH,OAAS,IACpBE,EAAOV,EAAEO,OAAOI,MAAM,GAC5BX,EAAEO,OAAOO,MAAQ,GACjBuU,GAAS3U,IAJJ,2CAAF,wDAST,wBACE9C,MAAO,CACLgB,MAAO,OACPsN,YAAa,MACb1F,gBAAiB,wBACjB1I,QAAS,MACTgB,aAAc,OACdD,OAAQ,mCACRX,MAAO,QACPL,UAAW,UAEbW,QAAS,WACHyY,GAAQ7O,SAAS6O,GAAQ7O,QAAQ8G,SAZzC,SAeE,cAAC,IAAD,CAAiB1M,KAAMyD,QAEzB,uBACE9F,SAAU,SAACH,GACTA,EAAEI,iBACF,IAAM3D,EAAUuD,EAAEO,OAAO,GAAGO,MAAMmO,OAClC,GAAgB,KAAZxS,EAAgB,CAClBuD,EAAEO,OAAO,GAAGO,MAAQ,GACpB,IAAMoH,GAAO,IAAI9E,MAAO+E,UACpB8M,IACF/X,EAAU,oBAEZ,IAAM2R,EAAS5D,KAAKH,SACpBsC,GAAgB,CACd7Q,KAAM,UACNE,UACAoS,WAEF8F,IAAe,GACfE,GAAWzM,SAAU,EACrBsM,IAAuB,GACvBxB,EACED,EACGhR,MAAMgJ,KAAKkM,IAAIlE,EAAMzS,OAAS4V,GAAqB,IACnDZ,OAAO,CACNhI,KAAM1I,EAAK6J,GACXjO,UAAM5F,EACN+S,cAAU/S,EACV2B,UACAyL,OACA2G,SACAgB,QAAQ,KAGd3T,WAAWiR,GAAgB,GAC3BiH,GAAYhM,SAAU,EACtB0L,EAAgB,CACdvX,KAAM,SACNgW,OAAQ6B,GAAYhM,QACpB5H,OAAQ,EACRwR,aAAc,OAIpB9M,IAAKgS,GACLtZ,MAAO,CACLgB,MAAO,OACPS,QAAS,QA7Cb,UAgDE,cAAC,KAAD,CACE6F,IAAKoP,GACLtF,QAAS,SAAChP,GACY,KAAhBuJ,GAAInB,SAAmBmG,GAASnG,UAClCoG,GAAUpG,QAAQ8G,QAClBoF,GAASlM,QAAQtH,MAAQ,IAE3B,IAAMrE,EAAUuD,EAAEO,OAAOO,MAAMmO,OACzBE,EAA2B9M,MAAMmL,KAAK/Q,GAC5C,GACE0S,EAAe3O,QAAU,MACP,KAAhB+I,GAAInB,SAAmBmG,GAASnG,SAUlC,GARI2M,IACF7X,EAAU,gBAAD,OACS+N,KAAKE,MACH,EAAhBF,KAAKH,SAAe,GAFf,SAMXqJ,GAAkB/L,QAAU+G,EAAe3O,OACvC2T,GAAkB/L,QAAU,EAAG,CACjCgM,GAAYhM,SAAU,EAEtB,IADA,IAAM4J,EAAuC,GACpC/E,EAAI,EAAGA,EAAIkC,EAAe3O,OAAQyM,IACrC+F,EAAYnG,SAASsC,EAAelC,MACtC+E,EAAa/E,GAAKkC,EAAelC,IAGrC6G,EAAgB,CACdvX,KAAM,SACNgW,OAAQ6B,GAAYhM,QACpB5H,OAAQ2T,GAAkB/L,QAC1B4J,iBAEF0G,aAAarE,GAAYjM,SACzBiM,GAAYjM,QAAUlM,WACpBoa,GA/dG,UAmeLlC,GAAYhM,SAAU,EACtB0L,EAAgB,CACdvX,KAAM,SACNgW,QAAQ,EACR/R,OAAQ,EACRwR,aAAc,UAIlBhS,EAAEO,OAAOO,MAAQuB,MAAMmL,KAAKxN,EAAEO,OAAOO,OAClCmB,MAAM,EAAG,KACTgM,KAAK,KAGZmB,UAAW,SAACpP,GACVuJ,GAAInB,QAAUpI,EAAEqP,QAChBd,GAASnG,QAAUpI,EAAEsP,SACrBoJ,aAAarE,GAAYjM,UAE3BmH,WAAS,EACT3R,MAAO,CACL4I,gBAAiB,wBACjB1I,QAAS,MACTgB,aAAc,OACdF,MAAO,oBACPC,OAAQ,mCACRX,MAAO,QACPsR,OAAQ,QAEVC,QAAS,GACTjM,YAAY,sBAEd,wBACE0B,IAAKsJ,GACL5Q,MAAO,CACLgB,MAAO,OACPgT,WAAY,MACZpL,gBAAiB,wBACjB1I,QAAS,MACTgB,aAAc,OACdD,OAAQ,mCACRX,MAAO,QACPL,UAAW,UAEbtB,KAAK,SACLiC,QAAS,WACP8V,GAASlM,QAAQwP,SAdrB,SAiBE,cAAC,IAAD,CAAiBpV,KAAMmW,uBAhR9B,cAAC,EAAD,IA2SIC,OAhBf,YAA0D,IAA1ClO,EAAyC,EAAzCA,YACd,EAA2B3P,IAAnB2C,EAAR,EAAQA,SAAUoH,EAAlB,EAAkBA,KACNE,EAAe8M,cAAnBnD,GACFzG,EAAOsJ,mBAAQ,kBAAM,IAAIpO,MAAO+E,YAAW,IACjD,OAAKzK,EAEMsH,GAAcA,IAAeF,EAAK6J,GAEzC,cAAClE,GAAawN,SAAd,CAAuBnX,MAAO,CAAE4J,cAAaxC,QAA7C,SACE,cAAC6K,GAAD,MAIC,cAACN,GAAD,IARE,cAAC,IAAD,CAAU9U,GAAG,O,OCnlDTkb,OA7Bf,WACE,OACE,sBACEjb,MAAO,CACL8U,SAAU,WACVpN,IAAK,MACLqN,KAAM,MACNC,UAAW,wBACX/U,UAAW,SACXK,MAAO,QAPX,UAUE,qBAAKN,MAAO,CAAEK,SAAU,QAAxB,SACE,cAAC,IAAD,CAAiBuE,KAAMsW,QAEzB,iDACA,0CACY,IACV,iCACE,cAAC,IAAD,CAAMnb,GAAG,IAAIC,MAAO,CAAEM,MAAO,gCAA7B,uBADF,c,2BC+FO6a,OAhHf,YAWI,IAVFjU,EAUC,EAVDA,KAWA,EAAgDrD,mBAAS,CACvDuX,EAAG,GACHC,EAAG,GACHC,EAAG,MAHL,mBAAOC,EAAP,KAAyBC,EAAzB,KAKA,OACE,sBACExb,MAAO,CACLyb,gBAAiBvU,EAAKuU,gBAAL,qBACCvU,EAAKuU,gBADN,KAEb,GACJ7S,gBAAgB,OAAD,OAAS2S,EAAiBH,EAA1B,aAAgCG,EAAiBF,EAAjD,aAAuDE,EAAiBD,EAAxE,KACfpb,QAAS,OACTwb,iBAAkBxU,EAAKuU,gBAAkB,YAAc,GACvDE,eAAgBzU,EAAKuU,gBAAkB,QAAU,GACjDva,aAAc,OACdD,OAAQ,mCACRD,MAAO,OACPoF,OAAQ,OACRwV,mBAAoB1U,EAAKuU,gBAAkB,SAAW,IAb1D,UAgBE,sBACEzb,MAAO,CACLC,UAAW,UAFf,UAKE,qBACEqB,IAAI,UACJpD,IAAK,UAAYgJ,EAAK2B,WACtB7I,MAAO,CACLmS,UAAW,OACXpR,SAAU,OACVqF,OAAQ,OACRpF,MAAO,OACPE,aAAc,OAEhBkR,OAAQ,SAAChQ,GACP,IACM8C,GADa,IAAI2W,MACCC,SAAS1Z,EAAEO,QACnC6Y,EAAoB,CAAEJ,EAAGlW,EAAK,GAAImW,EAAGnW,EAAK,GAAIoW,EAAGpW,EAAK,QAG1D,6BACE,uBACElF,MAAO,CACLM,MAAO,QACPyb,iBAAkB,YAClBC,WAAY,QAJhB,UAOG9U,EAAK6M,SACN,uBACE/T,MAAO,CACLM,MAAO,YACP0b,WAAY,UAHhB,cAMI9U,EAAK+U,eAKd/U,EAAKgV,QACJ,sBACElc,MAAO,CACLE,QAAS,OACT0I,gBAAiB,wBACjB1H,aAAc,OACdD,OAAQ,oCALZ,UAQE,yCACA,8BACE,cAAC,KAAD,CACE+Q,mBAAoB,SAClBhE,EACAD,EACApC,GAHkB,OAKlB,cAAC,cAAD,CACEyC,KAAMJ,EAENhO,MAAO,CAAEM,MAAO,gCAHlB,SAKGyN,GAHIpC,IARX,SAeGzE,EAAKgV,eAKZ,iC,oBC1FOC,OArBf,SAAuBC,GAAqD,IAAtCC,EAAqC,wDAAhBC,EAAgB,uDAAH,EAC9DC,EAASF,EAAK,IAAO,KAE3B,GAAIhP,KAAKmP,IAAIJ,GAASG,EAClB,OAAOH,EAAQ,KAGnB,IAAMK,EAAQJ,EACR,CAAC,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,KAAM,MAC3C,CAAC,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,MAAO,OACpDK,GAAK,EACHtB,EAAC,SAAG,GAAMkB,GAEhB,GACIF,GAASG,IACPG,QACGrP,KAAKsP,MAAMtP,KAAKmP,IAAIJ,GAAShB,GAAKA,GAAKmB,GAAUG,EAAID,EAAM7Z,OAAS,GAG7E,OAAOwZ,EAAMQ,QAAQN,GAAM,IAAMG,EAAMC,ICN3C,SAASG,GAAT,GAAmD,IAA3BC,EAA0B,EAA1BA,KAChBC,EAAO1P,KAAKE,MAAMuP,EAAI,OACtBE,EAAQ3P,KAAKE,MAAOuP,EAAI,MAAL,MACnBG,EAAU5P,KAAKE,MAAOuP,EAAI,KAAL,KACrBI,EAAU7P,KAAKE,MAAOuP,EAAI,IAAkB,KAElD,OACE,8BAAIC,EAAO,KAAOC,EAAQ,KAAOC,EAAU,KAAOC,EAAU,IAA5D,WAIJ,SAASC,GAAT,GAUI,IATFla,EASC,EATDA,KACAjB,EAQC,EARDA,SAQC,IAPDpB,eAOC,MAPS,aAOT,EANDwc,EAMC,EANDA,UAOA,OACE,sBACEpd,MAAO,CACLiB,OAAQ,mCACRC,aAAc,OACd0H,gBAAiB,wBACjB1I,QAAS,OACTY,OAAQ,QANZ,UASE,mBAAGd,MAAO,CAAEc,OAAQ,IAAKR,MAAO,aAAhC,SAAgD2C,IAC/Cma,EACC,qBACExc,QAASA,EACTR,UAAW,eACXJ,MAAO,CAAEM,MAAO,SAHlB,SAKG0B,IAGH,8BAAMA,OAKdqb,KAAMC,cAAc,QAoXLC,OAnXf,WACE,MAA0CpgB,IAAlC2C,EAAR,EAAQA,SAAUoH,EAAlB,EAAkBA,KAAMtD,EAAxB,EAAwBA,cACxB,EAA0BC,mBAAS,IAAnC,mBAAOvB,EAAP,KAAcwB,EAAd,KACM0Z,EAAqBzW,iBAAY,MACvC,EAIIgD,EACF,oBAJM0T,EADR,EACEzgB,KACS0gB,EAFX,EAEEpZ,QACOqZ,EAHT,EAGErb,MAIF,EAAkCuB,oBAAS,GAA3C,mBAAO+Z,EAAP,KAAkBC,EAAlB,KACA,EAA8Cha,wBAC5C3G,GADF,mBAAOue,EAAP,KAAwBqC,EAAxB,KAGA,EAA8Bja,mBAAsB,MAApD,mBAAO8G,EAAP,KAAgBC,EAAhB,KACA,EAAsD/G,oBAAS,GAA/D,mBAAOka,EAAP,KAA4BC,EAA5B,KACA,EAAoDna,oBAAS,GAA7D,mBAAOoa,EAAP,KAA2BC,EAA3B,KACA,OAAKpe,EAIH,qBACEE,MAAO,CACLc,OAAQ,QAFZ,SAKE,sBACEd,MAAO,CACLc,OAAQ,OACRG,OAAQ,mCACRC,aAAc,OACd0H,gBAAiB,wBACjB1I,QAAS,OACTa,SAAU,SAPd,UAUE,oBAAIf,MAAO,CAAEC,UAAW,UAAxB,2BACA,cAAC,GAAD,CAAaiH,KAAMA,IACnB,cAACiW,GAAD,CAAcla,KAAK,eAAema,WAAW,EAA7C,SACGM,GAAsBC,EACrB,UAEA,qCACE,8BACGxB,GAAcgC,OAAM,OAACV,QAAD,IAACA,OAAD,EAACA,EAAiBW,YAAY,GADrD,KAC8D,IAC3DjC,GAAcgC,OAAM,OAACV,QAAD,IAACA,OAAD,EAACA,EAAiBY,YAAY,EAAM,GAF3D,KAGGlC,GACCgC,OAAM,OAACV,QAAD,IAACA,OAAD,EAACA,EAAiBY,WACtBF,OAAM,OAACV,QAAD,IAACA,OAAD,EAACA,EAAiBW,YAC1B,GACC,IAPL,WAUA,cAACvB,GAAD,CAAcC,KAAMqB,OAAM,OAACV,QAAD,IAACA,OAAD,EAACA,EAAiBa,iBAIlD,qBAAKte,MAAO,CAAEC,UAAW,UAAzB,kBACA,wBACED,MAAO,CACLM,MAAO,QACPsI,gBAAiB,wBACjB3H,OAAQ,mCACRC,aAAc,MACdJ,OAAQ,UAEVF,QAAS,WACPgD,KATJ,oBAcA,eAACuZ,GAAD,CACEla,KAAK,kBACLrC,QAAS,WACPsd,GAAsB,IAExBd,WAAW,EALb,UAOE,qBACE9b,IAAI,UACJpD,IAAK,UAAYgJ,EAAK2B,WACtB7I,MAAO,CACLoG,OAAQ,OACRtF,OAAQ,aACRI,aAAc,SAGlB,cAAC,IAAD,CAAiB0D,KAAM2Z,SAEzB,cAAC,KAAD,CACEC,OAAQP,EACRQ,eAAgB,WACdP,GAAsB,IAExBQ,YAAa,WACX5a,EAAS,KAEX9D,MAAO,CACL2e,QAAS,CAAE/V,gBAAiB,uBAC5BgW,QAAS,CACPhW,gBAAiB,wBACjB3H,OAAQ,kCACRyG,IAAK,MACLqN,KAAM,MACN8J,MAAO,OACPhE,OAAQ,OACRvM,YAAa,OACb0G,UAAW,0BAGf8J,aAAa,kBArBf,SAuBE,uBACEvc,SAAQ,uCAAE,WAAOH,GAAP,iBAAA7E,EAAA,yDACR6E,EAAEI,iBACFqb,GAAa,IACTlT,EAHI,wBAIAzI,EAAK,IAAIO,UACZO,OAAO,aAAc2H,GALlB,SAOEtH,MAAM,qBAAsB,CAChCC,OAAQ,OACRC,KAAMrB,IATJ,8BAWJsB,OAXI,QAMA0B,EANA,QAYGA,KACPgZ,GAAsB,GAEtBpa,EAASoB,EAAKQ,KAfV,wBAkBN5B,EAAS,4BAlBH,QAoBR+Z,GAAa,GApBL,4CAAF,sDADV,4BAyBE,cAAC,IAAD,CACE7c,MAAO,IACPoF,OAAQ,EACR0E,WAAY,IACZC,OAAQ,SAACC,GACP3H,MAAM2H,GAASvB,MAAK,SAACwB,GAAD,OAClBA,EAAQC,OAAOzB,MAAK,SAACyB,GAAD,OAAUN,EAAWM,UAG7CC,WAAY,CAAE7K,MAAO,SACrB8K,QAAS,WACPR,EAAW,OAEbS,eAAe,aACfC,WAAY,IACZC,cAAe,IACfC,gBAAc,IAEhB,mBAAGxL,MAAO,CAAEM,MAAO,OAAnB,SAA6BgC,IAC3Bsb,EAeA,6BAdA,wBACE5d,MAAO,CACLkS,MAAO,QACPxQ,UAAW,OACXpB,MAAO,QACPsI,gBAAiB,wBACjB3H,OAAQ,mCACRC,aAAc,OAEhBvC,KAAK,SATP,uBAkBN,cAACwe,GAAD,CAAcla,KAAK,mBAAmBma,WAAW,EAAjD,SACE,eAACxb,EAAD,CACEC,OAAO,0BACPC,eAAgB,SAACM,GAEf,OADAyb,GAAa,IACN,GAET9b,SAAU,WACJyb,EAAmBhT,UACrBgT,EAAmBhT,QAAQtH,MAAQ,GACnC4a,OAAmB5gB,IAErB2gB,GAAa,IAXjB,UAcGpC,EACC,qBACEvd,IAAKud,EACLna,IAAI,aACJtB,MAAO,CACLmS,UAAW,QACXpR,SAAU,WAId,6BAEF,uBACEpC,KAAK,OACLsE,KAAK,kBACLjD,MAAO,CAAEe,SAAU,QACnBge,SAAU,SAAC3c,GACT0b,EACE1b,EAAEO,OAAOI,MAAM,GACXoL,IAAI6Q,gBAAgB5c,EAAEO,OAAOI,MAAM,SACnC7F,IAGR+hB,OAAO,UACP3X,IAAKkW,IACJ,IACDI,EAaA,6BAZA,wBACE5d,MAAO,CACLM,MAAO,QACPsI,gBAAiB,wBACjB3H,OAAQ,mCACRC,aAAc,OAEhBvC,KAAK,SAPP,uBAgBN,cAACwe,GAAD,CACEla,KAAK,WACLrC,QAAS,WACPod,GAAuB,IAEzBZ,WAAW,EALb,SAOE,uBAAMpd,MAAO,CAAEM,MAAO,SAAtB,UACG4G,EAAK6M,SACN,uBAAM/T,MAAO,CAAEM,MAAO,aAAtB,cAAuC4G,EAAK+U,OAC5C,cAAC,IAAD,CAAiBrX,KAAM2Z,WAG3B,cAAC,KAAD,CACEC,OAAQT,EACRU,eAAgB,WACdT,GAAuB,IAEzBU,YAAa,WACX5a,EAAS,KAEX9D,MAAO,CACL2e,QAAS,CAAE/V,gBAAiB,uBAC5BgW,QAAS,CACPhW,gBAAiB,wBACjB3H,OAAQ,kCACRyG,IAAK,MACLqN,KAAM,MACN8J,MAAO,OACPhE,OAAQ,OACRvM,YAAa,OACb0G,UAAW,0BAGf8J,aAAa,kBArBf,SAuBE,uBACEvc,SAAQ,uCAAE,WAAOH,GAAP,iBAAA7E,EAAA,yDACR6E,EAAEI,iBACFqb,GAAa,GAEkB,KAA7Bzb,EAAEO,OAAO,GAAGO,MAAMmO,QACW,KAA7BjP,EAAEO,OAAO,GAAGO,MAAMmO,OALZ,wBAOAnP,EAAK,IAAIO,UACZO,OAAO,WAAYZ,EAAEO,OAAO,GAAGO,OAClChB,EAAGc,OAAO,OAAQZ,EAAEO,OAAO,GAAGO,OATxB,SAWEG,MAAM,mBAAoB,CAAEC,OAAQ,OAAQC,KAAMrB,IAXpD,+BAYJsB,OAZI,SAUA0B,EAVA,QAaGA,KACP8Y,GAAuB,GAEvBla,EAASoB,EAAKQ,KAhBV,wBAmBN5B,EAAS,kCAnBH,QAqBR+Z,GAAa,GArBL,4CAAF,sDADV,qBA0BE,sBACE7d,MAAO,CACLiB,OAAQ,iBACR2H,gBAAiB,mBACjB1H,aAAc,MACdF,MAAO,QALX,UAQE,uBACEoQ,QAAS,SAAChP,GACRA,EAAEO,OAAOO,MAAQd,EAAEO,OAAOO,MAAMgc,YAC5B9c,EAAEO,OAAOO,MAAMN,OAAS,KAC1BR,EAAEO,OAAOO,MAAQd,EAAEO,OAAOO,MAAMwW,UAAU,EAAG,MAGjD1Z,MAAO,CACLM,MAAO,QACPsI,gBAAiB,cACjB3H,OAAQ,OACR6E,YAAa,kBACb5E,aAAc,OAEhB0E,YAAY,WACZ6F,aAAa,eACb9M,KAAK,OACLmT,aAAc5K,EAAK6M,WAErB,uBACE/T,MAAO,CACLM,MAAO,YACPJ,QAAS,SACTgS,MAAO,SAJX,cAOIhL,EAAK+U,UAGX,uBACEjc,MAAO,CACLgB,MAAO,OACPV,MAAO,QACPsI,gBAAiB,mBACjB3H,OAAQ,iBACRC,aAAc,OAEhB0E,YAAY,mBACZ6F,aAAa,eACb9M,KAAK,aAEP,mBAAGqB,MAAO,CAAEM,MAAO,OAAnB,SAA6BgC,IAC3Bsb,EAeA,6BAdA,wBACE5d,MAAO,CACLkS,MAAO,QACPxQ,UAAW,OACXpB,MAAO,QACPsI,gBAAiB,wBACjB3H,OAAQ,mCACRC,aAAc,OAEhBvC,KAAK,SATP,4BAzUH,cAAC,IAAD,CAAUoB,GAAG,OC9ETof,GAFA,SAACC,GAAD,OACb,IAAIC,SAAQ,SAACC,GAAD,OAAahhB,WAAWghB,EAASF,O,SCuChCG,OAjCf,YAAkD,IAA7Bjd,EAA4B,EAA5BA,MAInB,OAHAiE,qBAAU,WACRjH,EAAUkgB,MACT,IAED,sBACExf,MAAO,CACL8U,SAAU,WACVpN,IAAK,MACLqN,KAAM,MACNC,UAAW,wBACX/U,UAAW,SACXK,MAAO,OAPX,UAUE,qBAAKN,MAAO,CAAEK,SAAU,QAAxB,SACE,cAAC,IAAD,CAAiBuE,KAAM6a,QAEzB,uCACA,4BAAInd,IACJ,0CACY,IACV,iCACE,cAAC,IAAD,CAAMvC,GAAG,IAAIC,MAAO,CAAEM,MAAO,gCAA7B,uBADF,cChBFof,I,OAAa,IAAI7D,MAEvB,SAAS8D,GAAT,GAYI,IAXFzY,EAWC,EAXDA,KAYA,EAAgDrD,mBAAS,CACvDuX,EAAG,GACHC,EAAG,GACHC,EAAG,MAHL,mBAAOC,EAAP,KAAyBC,EAAzB,KAKMhc,EAAUC,cACVmgB,EAAU7Y,mBAChB,EAA8ClD,oBAAS,GAAvD,mBAAOgc,EAAP,KAAwBC,EAAxB,KACA,OACE,qCACE,sBACEpf,cAAe,SAAC0B,GACdwd,EAAQpV,QAAUlM,YAAW,WAC3BshB,EAAQpV,aAAUtN,EAClBoC,EAAU,sBACVwgB,GAAmB,KAClB,KACHxgB,EAAU,uBAEZygB,YAAa,WACPH,EAAQpV,UACVwV,cAAcJ,EAAQpV,SACtBoV,EAAQpV,aAAUtN,IAGtB0D,QAAS,WACHgf,EAAQpV,UACVwV,cAAcJ,EAAQpV,SACtBlL,EAAU,sBACVE,EAAQqB,KAAR,gBAAsBqG,EAAK6J,OAG/B/Q,MAAO,CACLyb,gBAAiBvU,EAAKuU,gBAAL,qBACCvU,EAAKuU,gBADN,KAEb,GACJ7S,gBAAgB,OAAD,OAAS2S,EAAiBH,EAA1B,aAAgCG,EAAiBF,EAAjD,aAAuDE,EAAiBD,EAAxE,KACfpb,QAAS,OACTgG,aAAc,OACdwV,iBAAkBxU,EAAKuU,gBAAkB,YAAc,GACvDE,eAAgBzU,EAAKuU,gBAAkB,QAAU,GACjDva,aAAc,OACd0a,mBAAoB1U,EAAKuU,gBAAkB,SAAW,GACtDwE,aAAc,WACd9f,SAAU,SACV+f,WAAY,SACZ5N,OAAQ,UAER9D,UAAW,QAEbpO,UAAW,yBAxCb,UA0CE,qBACEkB,IAAI,UACJgD,QAAQ,OACRpG,IAAK,UAAYgJ,EAAK2B,WACtB7I,MAAO,CACLmS,UAAW,OACXpR,SAAU,OACVqF,OAAQ,OACRpF,MAAO,OACPE,aAAc,OAEhBkR,OAAQ,SAAChQ,GACP,IAAM8C,EAAOwa,GAAW5D,SAAS1Z,EAAEO,QACnC6Y,EAAoB,CAAEJ,EAAGlW,EAAK,GAAImW,EAAGnW,EAAK,GAAIoW,EAAGpW,EAAK,QAG1D,+BACE,sBACElF,MAAO,CACLM,MAAO,QACPyb,iBAAkB,YAClBC,WAAY,OACZ3b,SAAU,OACV2T,WAAY,OANhB,SASG9M,EAAK6M,aAGV,qBACE/T,MAAO,CACLkS,MAAO,QACP8B,WAAY,MACZ7S,WAAY,wBACZjB,QAAS,MACTgB,aAAc,OACdoR,OAAQ,WAPZ,iCAaF,cAAC,KAAD,CACEkM,OAAQqB,EACRpB,eAAgB,WACdqB,GAAmB,IAErB9f,MAAO,CACL2e,QAAS,CACP/V,gBAAiB,sBACjB0R,OAAQ,IAEVsE,QAAS,CACPhW,gBAAiB,cACjB0R,OAAQ,GACRrZ,OAAQ,OACRyG,IAAK,MACLqN,KAAM,MACN8J,MAAO,OACPhE,OAAQ,OACRvM,YAAa,OACbpO,aAAShD,EACT8X,UAAW,wBACXhU,MAAO,MACPoF,OAAQ,MACRrF,SAAU,QAEVoR,UAAW,UAGf2M,aAAa,kBA5Bf,SA8BE,cAAC,GAAD,CAAa5X,KAAMA,SAqGZiZ,OA/Ff,WACE,IAAQrgB,EAAa3C,IAAb2C,SACR,EAAiCiK,EAAY,uBAArC/M,EAAR,EAAQA,KAAMsH,EAAd,EAAcA,QAAShC,EAAvB,EAAuBA,MACvB,EAA4BuB,mBAAS,IAArC,mBAAOO,EAAP,KAAegc,EAAf,KACA,EAA0C1U,GACxC,gBACAxO,GAFF,mBAAOmjB,EAAP,KAAsBC,EAAtB,KAaA,OATA/Z,qBAAU,WACR+N,SAASC,gBAAgBE,UAAY,IACpC,IACHlO,qBAAU,WACJvJ,GAAQA,EAAKujB,UACfD,EAAiBtjB,EAAKujB,YAGvB,CAACvjB,IACC8C,GAGGwE,IAAWhC,GAAW+d,EAO5B,qBACErgB,MAAO,CACLc,OAAQ,UAFZ,SAKE,sBACEd,MAAO,CACLc,OAAQ,OACRI,aAAc,OACdhB,QAAS,OACTa,SAAU,SALd,UAQE,oBAAIf,MAAO,CAAEC,UAAW,UAAxB,sBACA,8BACGogB,GAAiBrjB,EAAKkI,KACpBlI,GAAQA,EAAKujB,SAAS3d,OAAS,GAC/Byd,GAAiBA,EAAczd,OAAS,EACvC,qCACE,uBACEjE,KAAK,OACLqB,MAAO,CACLgB,MAAO,OACP4H,gBAAiB,wBACjB1I,QAAS,MACTgB,aAAc,OACdD,OAAQ,mCACRX,MAAO,QACP4F,aAAc,QAEhBN,YAAa,kBACb4a,QAAS,SAACpe,GACRge,EAAUhe,EAAEO,OAAOO,MAAMmO,YAG3BrU,EAAOA,EAAKujB,SAAWF,GAAetR,KAAI,SAAC0R,GAAD,OACzCA,EAAQ1M,SAAW,IAAM0M,EAAQxE,KAC/ByE,cACAzR,SAAS7K,EAAOsc,eACjB,cAACf,GAAD,CAA0BzY,KAAMuZ,GAAlBA,EAAQ1P,IAEtB,mCAKN,oBAAG/Q,MAAO,CAAEC,UAAW,UAAvB,kCACwB,IACtB,+BACE,cAAC,IAAD,CACED,MAAO,CAAEM,MAAO,gCAChBP,GAAG,OAFL,0BAMM,IATV,uCAcF,mBAAGC,MAAO,CAAEM,MAAO,MAAOL,UAAW,UAArC,SAAkDjD,EAAK0I,aAlE/DpD,EACE,cAAC,GAAD,CAAWA,MAAO0C,OAAO1C,KAEzB,cAAC,EAAD,IANK,cAAC,IAAD,CAAUvC,GAAG,O,iDCpKlB2f,GAAa,IAAI7D,KAEvB,SAAS8E,GAAT,GAaI,IAZFzZ,EAYC,EAZDA,KACA3C,EAWC,EAXDA,WAYA,EAAgDV,mBAAS,CACvDuX,EAAG,GACHC,EAAG,GACHC,EAAG,MAHL,mBAAOC,EAAP,KAAyBC,EAAzB,KAKMhc,EAAUC,cAChB,OACE,sBACEO,MAAO,CACLyb,gBAAiBvU,EAAKuU,gBAAL,qBACCvU,EAAKuU,gBADN,KAEb,GACJ7S,gBAAgB,OAAD,OAAS2S,EAAiBH,EAA1B,aAAgCG,EAAiBF,EAAjD,aAAuDE,EAAiBD,EAAxE,KACfpb,QAAS,OACTwb,iBAAkBxU,EAAKuU,gBAAkB,YAAc,GACvDE,eAAgBzU,EAAKuU,gBAAkB,QAAU,GACjDva,aAAc,OACdD,OAAQ,mCACRH,OAAQ,OACR8a,mBAAoB1U,EAAKuU,gBAAkB,SAAW,GACtDwE,aAAc,WACd9f,SAAU,SACV+f,WAAY,UAfhB,UAkBE,qBACE5e,IAAI,UACJgD,QAAQ,OACRpG,IAAK,UAAYgJ,EAAK2B,WACtB7I,MAAO,CACLmS,UAAW,OACXpR,SAAU,OACVqF,OAAQ,OACRpF,MAAO,OACPE,aAAc,OAEhBkR,OAAM,uCAAE,WAAOhQ,GAAP,eAAA7E,EAAA,sDACA2H,EAAOwa,GAAW5D,SAAS1Z,EAAEO,QACnC6Y,EAAoB,CAAEJ,EAAGlW,EAAK,GAAImW,EAAGnW,EAAK,GAAIoW,EAAGpW,EAAK,KAFhD,2CAAF,wDAKR,+BACE,uBACElF,MAAO,CACLM,MAAO,QACPyb,iBAAkB,YAClBC,WAAY,OACZ3b,SAAU,OACV2T,WAAY,OANhB,UASG9M,EAAK6M,SACN,uBACE/T,MAAO,CACLM,MAAO,YACP0b,WAAY,UAHhB,cAMI9U,EAAK+U,YAIb,qBACEjc,MAAO,CACLkS,MAAO,QACP/Q,WAAY,wBACZjB,QAAS,MACTgB,aAAc,OACdoR,OAAQ,WAEV1R,QAAO,sBAAE,4BAAArD,EAAA,6DACPgH,GAAW,IACLmT,EAAW,IAAIjV,UACZO,OAAO,OAAQkE,EAAK6J,IAHtB,SAKC1N,MAAM,wBAAyB,CACnCC,OAAQ,OACRC,KAAMmU,IAPH,8BASLlU,OATK,cAUEod,QACPphB,EAAQqB,KAAR,gBAAsBqG,EAAK6J,KAE3BvR,EAAQqB,KAAR,aAEF0D,GAAW,GAfJ,4CARX,SA0BE,cAAC,IAAD,CAAiBK,KAAMic,WA8LhBC,OAxLf,WACE,MAA4Bjd,mBAAS,IAArC,mBAAOO,EAAP,KAAegc,EAAf,KACA,EAA2BjjB,IAAnB2C,EAAR,EAAQA,SAAUoH,EAAlB,EAAkBA,KAClB,EAA0B6C,EACxB3F,EACI,oBAAsB,IAAIsI,gBAAgB,CAAEqU,EAAG3c,IAAU4c,WACzD,MAHEhkB,EAAR,EAAQA,KAAMgN,EAAd,EAAcA,QAKAiX,EAAmBlX,EAAY,6BAArC/M,KACFwC,EAAUC,cAChB,EAA8BoE,oBAAS,GAAvC,mBAAOS,EAAP,KAAgBC,EAAhB,KAQA,OAPAgC,qBAAU,WACHnC,GAAQ4F,OAAQ9M,KAEpB,CAACkH,IACCtE,GACHN,EAAQqB,KAAK,KAERyD,EACL,cAAC,EAAD,IAEA,qBACEtE,MAAO,CACLc,OAAQ,QAFZ,SAKE,sBACEd,MAAO,CACLc,OAAQ,OACRG,OAAQ,mCACRC,aAAc,OACd0H,gBAAiB,wBACjB1I,QAAS,OACTa,SAAU,SAPd,UAUE,oBAAIf,MAAO,CAAEC,UAAW,UAAxB,iBACA,sBACED,MAAO,CACLe,SAAU,QACVd,UAAW,SACXa,OAAQ,YACRG,OAAQ,mCACRf,QAAS,OACTgB,aAAc,QAPlB,UAUGgG,EACC,cAAC,KAAD,CACEhE,MAAOgE,EAAK6J,GACZ/Q,MAAO,CAAEgB,MAAO,OAAQoF,YAAQlJ,KAGlC,6BAEF,6DACA,cAAC,KAAD,CACEgkB,MAAO,IACPC,QAAS9e,QAAQC,MACjB8e,OAAM,uCAAE,WAAOC,GAAP,eAAA9jB,EAAA,0DACF8jB,EADE,wBAEJ9c,GAAW,IACLmT,EAAW,IAAIjV,UACZO,OAAO,OAAQqe,GAJpB,SAMIhe,MAAM,wBAAyB,CACnCC,OAAQ,OACRC,KAAMmU,IARN,8BAUFlU,OAVE,cAWKod,QACPphB,EAAQqB,KAAR,gBAAsBwgB,IAEtB7hB,EAAQqB,KAAR,aAEF0D,GAAW,GAhBP,4CAAF,sDAmBNvE,MAAO,CAAEgB,MAAO,aAGpB,sBAAKhB,MAAO,CAAEC,UAAW,UAAzB,UACE,iDACA,8BACGghB,EACCA,EAAe/b,KACb+b,EAAeA,eAAere,OAAS,EACrC,gCACE,oBAAG5C,MAAO,CAAEC,UAAW,OAAvB,UACGghB,EAAeA,eAAere,OADjC,kBAE4C,IAAzCqe,EAAeA,eAAere,OAAe,GAAK,OAEpDqe,EAAeA,eAAelS,KAC7B,SACE7L,EAQAR,GATF,OAWE,cAACie,GAAD,CACEzZ,KAAMhE,EACNqB,WAAYA,GACPrB,EAAM6N,UAMnB,6DAGF,mBAAG/Q,MAAO,CAAEM,MAAO,MAAOL,UAAW,UAArC,SAAkDjD,EAAK0I,MAGzD,mBAAG1F,MAAO,CAAEC,UAAW,UAAvB,6BAIN,uBACEtB,KAAK,OACLqB,MAAO,CACLgB,MAAO,OACP4H,gBAAiB,wBACjB1I,QAAS,MACTgB,aAAc,OACdD,OAAQ,mCACRX,MAAO,SAETsF,YAAa,eACb4a,QAAS,SAACpe,GACRge,EAAUhe,EAAEO,OAAOO,MAAMmO,WAG7B,8BACGrU,GAAQoH,EACPpH,EAAKkI,KACHlI,EAAKA,KAAK4F,OAAS,EACjB,gCACE,oBAAG5C,MAAO,CAAEC,UAAW,OAAvB,UACGjD,EAAKA,KAAK4F,OADb,UACiD,IAArB5F,EAAKA,KAAK4F,OAAe,GAAK,IAAK,IAD/D,YAIC5F,EAAKA,KAAK+R,KACT,SACE7L,EAQAR,GATF,OAWE,cAACie,GAAD,CACEzZ,KAAMhE,EACNqB,WAAYA,GACPrB,EAAM6N,UAMnB,kDAGF,mBAAG/Q,MAAO,CAAEM,MAAO,MAAOL,UAAW,UAArC,SAAkDjD,EAAK0I,MAGzD,mBAAG1F,MAAO,CAAEC,UAAW,UAAvB,oDCvRGqhB,OAjBf,SAAiBhc,GAEf,IADA,IAAMwJ,EAAawF,SAASiN,iBAAiB,qBACpClS,EAAI,EAAGA,EAAIP,EAAMlM,OAAQyM,IAAK,CACrC,IAAImS,EAAO1S,EAAMO,GACP,IAANA,GACGmS,IACHA,EAAOlN,SAASmN,cAAc,QAC9BnN,SAASoN,qBAAqB,QAAQ,GAAGC,YAAYH,IAEvDA,EAAK7iB,KAAO,eACZ6iB,EAAKI,IAAM,OACXJ,EAAKpT,KAAO9I,GAEZkc,EAAKrY,WC6DI0Y,OAnEf,WACE,MAAsC1kB,IAA9B2C,EAAR,EAAQA,SAAU4V,EAAlB,EAAkBA,gBACZH,EAAaC,eACbhW,EAAUC,cAChB,EAA6CmZ,IAAa,KAAD,OACrB,WAA7BjZ,OAAOsE,SAAS2O,SAAwB,IAAM,GADI,cAIjDjT,OAAOsE,SAAS4O,KAJiC,kBAMvD,CACEgG,gBAAiB,kBAAM,IAEzB/Y,GATMiZ,EAAR,EAAQA,gBAAiBvJ,EAAzB,EAAyBA,gBA6DzB,OAjDAjJ,qBAAU,WACRiJ,EAAgB,CAAE7Q,KAAM,WAAYqb,MAAOzE,IAC3C+L,GAAQ,kBAEP,CAAC/L,IACJhP,qBAAU,WACJwS,IAC2B,SAAzBA,EAAgBpa,KAClB6Q,EAAgB,CAAE7Q,KAAM,WAEM,IAA1Boa,EAAgB+I,OAClBxiB,EACEyZ,EAAgB+I,MACZ/I,EAAgB+I,MAChB,4BAGHvM,GACH+L,GAAQ,6BAEV5L,EACE,CACEhX,MAAOqa,EAAgBra,MACvBG,QAASka,EAAgBla,QACzBF,KAAM,UACNC,UAAW,SAAC+a,EAAWhb,GACR,UAATA,IACFa,EAAQqB,KAAKkY,EAAgBhZ,IAC7BJ,OAAOqa,UAGXlb,OAAQ,MACRG,UAAW,YACXF,YAAa,CAAC,oBAAqB,mBACnCC,aAAc,CAAC,oBAAqB,oBACpCE,QAAS,CACPE,cAAc,EACdD,SAAU,IACVE,UAAU,KAGd,WACEG,EAAQqB,KAAKkY,EAAgBhZ,WAMpC,CAACgZ,IACG,8BCxCMgJ,GA9BM,SAAC,GAAD,IACnB/f,EADmB,EACnBA,SACA+c,EAFmB,EAEnBA,SACAiD,EAHmB,EAGnBA,eACA7e,EAJmB,EAInBA,QAJmB,OAWnB,sBAAKnD,MAAO,CAAEyB,QAAS,OAAQE,eAAgB,iBAA/C,UACE,8BAAMK,IACN,wBAAOhC,MAAO,CAAEc,OAAQ,GAAKV,UAAU,uBAAvC,UACE,uBACEzB,KAAK,WACLogB,SAAU,SAAC3c,GACL2c,aAAoBvV,WACtBuV,EAAS3c,GACT9C,EAAU,gBAAD,OAAiB6D,EAAU,EAAI,EAA/B,WAGbA,QAASA,EACT6e,eAAgBA,IAElB,6BCtBN,SAASC,GAAT,GAAmD,IAAhCjgB,EAA+B,EAA/BA,SACjB,OACE,qBACEhC,MAAO,CACLkG,aAAc,OACdlF,MAAO,OACPC,OAAQ,mCACRC,aAAc,OACd0H,gBAAiB,wBACjB1I,QAAS,OAPb,SAUG8B,IA6LQkgB,OAxLf,WACE,MAAwCxW,GACtC,iBACA,GAFF,mBAAOyW,EAAP,KAAqBC,EAArB,KAIA,EAA4C1W,GAC1C,yBACA,GAFF,mBAAOyL,EAAP,KAAuBkL,EAAvB,KAIA,EAA8C3W,GAC5C,0BACA,GAFF,mBAAO0L,EAAP,KAAwBkL,EAAxB,KAIA,EAAkC5W,GAAgB,cAAc,GAAhE,mBAAO2L,EAAP,KAAkBkL,EAAlB,KACA,EAAwC7W,GACtC,iBACA,GAFF,mBAAO4L,EAAP,KAAqBkL,EAArB,KAIc/M,EAAkB1L,EAC9B,2BADM/M,KAGR,EAA4B0O,GAAgB,SAAU,IAAtD,mBAAOvN,EAAP,KAAeskB,EAAf,KACA,EAA8B/W,GAAgB,WAAW,GAAzD,mBAAOgX,EAAP,KAAgBC,EAAhB,KACA,EAA0BjX,GAAgB,SAAS,GAAnD,mBAAO5G,EAAP,KAAc8d,EAAd,KAQA,OAPArc,qBAAU,WACJkP,IACFkN,EAAWlN,EAAciN,SACzBE,EAASnN,EAAc3Q,UAGxB,CAAC2Q,IAEF,qBACEzV,MAAO,CACLc,OAAQ,QAFZ,SAKE,sBACEd,MAAO,CACLc,OAAQ,OACRG,OAAQ,mCACRC,aAAc,OACd0H,gBAAiB,wBACjB1I,QAAS,OACTa,SAAU,SAPd,UAUE,oBAAIf,MAAO,CAAEC,UAAW,UAAxB,sBAEA,gCACE,cAACgiB,GAAD,UACE,cAAC,GAAD,CACElD,SAAU,WACRqD,GAAiBD,IAEnBhf,QAASgf,EAJX,6BASDA,EACC,sBACEniB,MAAO,CACLkG,aAAc,OACdlF,MAAO,OACPC,OAAQ,mCACRC,aAAc,OACdhB,QAAS,MACT2iB,WAAY,oBAPhB,UAUE,cAACZ,GAAD,UACE,wBACEjiB,MAAO,CACLyB,QAAS,OACTE,eAAgB,gBAChBb,OAAQ,GAJZ,UAOE,0CAAsB,EAAT3C,EAAb,OACA,uBACEQ,KAAK,QACL4a,IAAI,KACJuJ,IAAI,IACJ5f,MAAO/E,EACPiT,QAAS,SAAChP,GACRqgB,EAAUrgB,EAAEO,OAAOO,eAK3B,cAAC+e,GAAD,UACE,cAAC,GAAD,CACElD,SAAU,WACRsD,GAAmBlL,IAErBhU,QAASgU,EAJX,qCASF,cAAC8K,GAAD,UACE,cAAC,GAAD,CACElD,SAAU,WACRuD,GAAoBlL,IAEtBjU,QAASiU,EAJX,sCASF,cAAC6K,GAAD,UACE,cAAC,GAAD,CACElD,SAAU,WACRwD,GAAclL,IAEhBlU,QAASkU,EAJX,0BASF,cAAC4K,GAAD,UACE,cAAC,GAAD,CACElD,SAAU,WACRyD,GAAiBlL,IAEnBnU,QAASmU,EAJX,gCAWJ,6BAEF,sBACEtX,MAAO,CACLkG,aAAc,OACdlF,MAAO,OACPC,OAAQ,mCACRC,aAAc,OACdhB,QAAS,MACT2iB,WAAY,oBAPhB,UAUE,cAACZ,GAAD,UACE,cAAC,GAAD,CACElD,SAAU,WACR4D,GAAYD,GACZ,IAAMhL,EAAW,IAAIjV,SACrBiV,EAAS1U,OAAO,SAAUrF,KAAK0O,WAAWqW,IAC1Crf,MAAM,qBAAsB,CAC1BC,OAAQ,OACRC,KAAMmU,KAGVvU,QAASuf,EAVX,qCAeF,cAACT,GAAD,UACE,cAAC,GAAD,CACElD,SAAU,WACR6D,GAAU9d,GACV,IAAM4S,EAAW,IAAIjV,SACrBiV,EAAS1U,OAAO,SAAUrF,KAAK0O,WAAWvH,IAC1CzB,MAAM,mBAAoB,CACxBC,OAAQ,OACRC,KAAMmU,KAGVvU,QAAS2B,EAVX,+CC9KCie,OANf,WACI,IAAQhS,EAAOmD,cAAPnD,GACR,EAAiChH,EAAM,sBAAkDgH,IAAjF/T,EAAR,EAAQA,KAAMsH,EAAd,EAAcA,QAAShC,EAAvB,EAAuBA,MACvB,OAAOgC,GAAWhC,EAAQ,cAAC,EAAD,KAAwB,OAAJtF,QAAI,IAAJA,OAAA,EAAAA,EAAMgmB,UAAW,sBAAKhjB,MAAO,CAAEC,UAAW,UAAzB,UAAqC,2CAAkB,oDAAgBjD,QAAhB,IAAgBA,OAAhB,EAAgBA,EAAMkK,KAAK6M,SAA3B,WAAsC/W,QAAtC,IAAsCA,OAAtC,EAAsCA,EAAMkK,KAAK+U,IAAjD,4BAAqF,oBAAIjc,MAAO,CAAEC,UAAW,UAAxB,wCCOhMgjB,OATf,WACI,IAAQlS,EAAOmD,cAAPnD,GACAjR,EAAa3C,IAAb2C,SACR,EAAiCiK,EAA4CjK,EAAS,aAAD,OAAciR,GAAM,MAAjG/T,EAAR,EAAQA,KAAMsF,EAAd,EAAcA,MAAOgC,EAArB,EAAqBA,QACrB,OAAKxE,EAGEwC,GAASgC,EAAU,cAAC,EAAD,IAAoB,qBAAKtE,MAAO,CAAEC,UAAW,UAAzB,UAA0C,OAAJjD,QAAI,IAAJA,OAAA,EAAAA,EAAMkmB,QAAS,qCAAE,iDAAwB,+DAAwC,qCAAE,gDAAuB,mCAAIlmB,QAAJ,IAAIA,OAAJ,EAAIA,EAAMsF,aAF7L,cAAC,IAAD,CAAUvC,GAAI,UAAU,IAAI2M,gBAAgB,CAAC3M,GAAG,SAAD,OAAWgR,QCczE,SAASoS,GAAT,GAQI,IAPFpS,EAOC,EAPDA,GACA9N,EAMC,EANDA,KACAgN,EAKC,EALDA,SAMMmT,EAAQngB,EAAKqN,QAAQ,YAAa,IAClC+S,EAAMpgB,EAAKyW,UAAUzW,EAAKqgB,YAAY,MAC5C,OACE,cAAC,IAAD,CACEtjB,MAAO,CACLM,MAAO,QACPijB,eAAgB,OAChBviB,MAAO,OACPD,SAAU,SAEZhB,GAAI,UAAYgR,EAPlB,SASE,sBACE/Q,MAAO,CACLc,OAAQ,MACRG,OAAQ,mCACRC,aAAc,OACd0H,gBAAiB,wBACjB1I,QAAS,MACToS,OAAQ,WAPZ,UAUKrC,GAAYA,EAASuT,WAAW,SAcjC,qBACEtlB,IAAK,UAAY6S,EACjBzP,IAAK2B,EACLqB,QAAQ,OACRtE,MAAO,CAAEgB,MAAO,OAAQE,aAAc,UAjBxC,qBACElB,MAAO,CACLgB,MAAO,OACPoF,OAAQ,OACRnG,UAAW,SACX8F,aAAc,mCACd0d,cAAe,SACfC,WAAY,QAPhB,SAUE,cAAC,IAAD,CAAiB9e,KAAMsE,QAU3B,sBAAKlJ,MAAO,CAAEE,QAAS,QAAvB,UACE,mBACEF,MAAO,CACLkgB,WAAY,SACZ/f,SAAU,SACV8f,aAAc,YAJlB,SAOGmD,IAEH,+BAAOC,YAqOjB,IACeM,GADC,CAAEC,MA9NlB,WACE,IAAMvK,EAAUtS,mBAChB,EAAoC5J,IAA5BsY,EAAR,EAAQA,cAAe3V,EAAvB,EAAuBA,SACvB,EACEiK,EACE,gBAFI/M,EAAR,EAAQA,KAAMgN,EAAd,EAAcA,QAId,OAAKlK,EAQH,sBAAKE,MAAO,CAAEC,UAAW,SAAUC,QAAS,QAA5C,UACE,0CACClD,EACC,sBACEgD,MAAO,CACLc,OAAQ,OACRG,OAAQ,mCACRC,aAAc,OACd0H,gBAAiB,wBACjB1I,QAAS,OACTa,SAAU,SAPd,UAUE,uBACEpC,KAAK,OACLqB,MAAO,CAAEyB,QAAS,QAClB6F,IAAK+R,EACLjI,QAAO,uCAAE,WAAOhP,GAAP,qBAAA7E,EAAA,2DACH6E,EAAEO,OAAOI,MAAMH,OAAS,GADrB,wBAECE,EAAOV,EAAEO,OAAOI,MAAM,GAC5BX,EAAEO,OAAOO,MAAQ,IACXwU,EAAW,IAAIjV,UACZO,OAAO,OAAQF,GAClBiO,EAAK1D,KAAKH,SAChBuI,EAAchX,gBAAgB,CAC5BC,MAAO,OACPG,QAAS,eACTF,KAAM,UACNG,OAAQ,MACRiS,KACA9R,UAAW,YACXF,YAAa,CAAC,oBAAqB,mBACnCC,aAAc,CAAC,oBAAqB,sBAfjC,mBAmBKqE,MAAM,kBAAmB,CAC7BC,OAAQ,OACRC,KAAMmU,IArBP,gCAuBDlU,OAvBC,SAkBG0B,EAlBH,QAwBMA,MACPuQ,EAAckC,mBAAmB5G,GACjC/G,GACE,SACEhN,GADF,MAOE,CACE,CACE+T,GAAI7L,EAAK6L,GACT8S,SAAU/gB,EAAKG,KACfgN,SAAUnN,EAAKnE,OAEjBiZ,OAAO5a,QAGbyY,EAAckC,mBAAmB5G,GACjC0E,EAAchX,gBAAgB,CAC5BC,MAAO,eACPG,QAASqG,EAAKQ,IACd/G,KAAM,SACNG,OAAQ,MACRG,UAAW,YACXF,YAAa,CAAC,oBAAqB,mBACnCC,aAAc,CAAC,oBAAqB,uBAGxCqD,QAAQ+V,IAAIlT,GAtDT,kDAwDHuQ,EAAckC,mBAAmB5G,GACjC0E,EAAchX,gBAAgB,CAC5BC,MAAO,eACPG,QAASmG,OAAO,EAAD,IACfrG,KAAM,SACNG,OAAQ,MACRG,UAAW,YACXF,YAAa,CAAC,oBAAqB,mBACnCC,aAAc,CAAC,oBAAqB,sBAhEnC,0DAAF,wDAuET,yBACEgB,MAAO,CACLsO,YAAa,MACb1F,gBAAiB,wBACjB1I,QAAS,MACTgB,aAAc,OACdD,OAAQ,mCACRX,MAAO,QACPL,UAAW,UAEbW,QAAS,WACHyY,EAAQ7O,SAAS6O,EAAQ7O,QAAQ8G,SAXzC,UAcE,cAAC,IAAD,CAAiB1M,KAAMyD,MAdzB,eAgBA,qBACErI,MAAO,CACLyB,QAAS,OACTE,eAAgB,eAChBmiB,WAAY,SACZC,cAAe,MACfC,SAAU,OACVC,aAAc,UAPlB,SAUGjnB,EAAK+R,KAAI,SAAC7L,GAAD,OACR,cAACigB,GAAD,CAEElT,SAAU/M,EAAM+M,SAChBc,GAAI7N,EAAM6N,GACV9N,KAAMC,EAAM2gB,UAHP3gB,EAAM6N,YASnB,cAAC,EAAD,OAnIF,cAAC,IAAD,CACEhR,GAAI,UAAY,IAAI2M,gBAAgB,CAAE3M,GAAI,mBAoNzBmkB,MA5EzB,WACE,IAAQnT,EAAOmD,cAAPnD,GACA/T,EAAS+M,EACf,qBAAuB,IAAI2C,gBAAgB,CAAEqE,QADvC/T,KAGFiT,EAAQ,OAAGjT,QAAH,IAAGA,OAAH,EAAGA,EAAMiT,SACjBnN,EAAI,OAAG9F,QAAH,IAAGA,OAAH,EAAGA,EAAM+T,GAEnB,OAAO/T,EACL,qBAAKgD,MAAO,CAAEc,OAAQ,QAAtB,SACE,sBACEd,MAAO,CACLc,OAAQ,YACRG,OAAQ,mCACRC,aAAc,OACd0H,gBAAiB,wBACjB1I,QAAS,OACTa,SAAU,SAPd,UAUE,6BAAK/D,EAAK6mB,WACV,sBACEjjB,QAAS,WAzPnB,IAAqBtD,EAAaumB,EAAbvmB,EA0PG,UAAYwF,EA1PF+gB,EA0PQ7mB,EAAK6mB,SAzP7CxgB,MAAM/F,GACHmM,MAAK,SAAC0a,GAAD,OAAcA,EAASjZ,UAC5BzB,MAAK,SAACyB,GACL,IAAMsW,EAAOlN,SAASmN,cAAc,KACpCD,EAAKpT,KAAOD,IAAI6Q,gBAAgB9T,GAChCsW,EAAK4C,SAAWP,EAChBrC,EAAKlQ,WAEN+S,MAAMhiB,QAAQC,QAmPTtC,MAAO,CACLM,MAAO,+BACPgS,OAAQ,UACRjS,SAAU,QAPd,UAUE,cAAC,IAAD,CAAiBuE,KAAM0f,MAVzB,eAYA,qBACEtkB,MAAO,CACLoG,OAAQ,MACRwC,gBAAiB,yBACjB5H,MAAO,OACPF,OAAQ,YAGXmP,EAC4B,UAA3BA,EAAS8B,MAAM,KAAK,GAClB,qBACEzQ,IAAKwB,EACL5E,IAAG,iBAAY4E,GACf9C,MAAO,CAAEgB,MAAO,OAAQE,aAAc,QACtCoD,QAAQ,SAEmB,UAA3B2L,EAAS8B,MAAM,KAAK,GACtB,uBACE7T,IAAG,iBAAY4E,GACf9C,MAAO,CAAEgB,MAAO,QAChBkO,UAAQ,EACRmD,aAAW,IAEgB,UAA3BpC,EAAS8B,MAAM,KAAK,GACtB,uBACE7T,IAAG,iBAAY4E,GACf9C,MAAO,CAAEgB,MAAO,QAChBkO,UAAQ,EACRmD,aAAW,IAGb,4CAGF,iDAKN,cAAC,EAAD,MChDJ,IAEesR,GAFC,CAAEY,mBAlIlB,WACE,IAAQzkB,EAAa3C,IAAb2C,SACR,EAA0B+D,mBAAS,IAAnC,mBAAOvB,EAAP,KAAcwB,EAAd,KACMtE,EAAUC,cAChB,EAA8BoE,oBAAS,GAAvC,mBAAOS,EAAP,KAAgBC,EAAhB,KACMN,EAAWC,cACXC,EAA8CvG,gBAClDqG,EAASG,OAAOC,MAAM,IAExB,EAAoCR,mBAAwB,MAA5D,mBAAOE,EAAP,KAAmBC,EAAnB,KACMQ,EAAWL,EAAMpE,GACnB0E,MAAMC,QAAQP,EAAMpE,IAClBoE,EAAMpE,GAAG,GACToE,EAAMpE,GACR,IACJ,OAAID,GACFN,EAAQqB,KAAK2D,GACN,8BAGP,qCACE,qBAAKxE,MAAO,CAAEyB,QAAS6C,EAAU,GAAK,QAAtC,SACE,cAAC,EAAD,MAEF,sBACEtE,MAAO,CACLc,OAAQ,SACRb,UAAW,SACXwB,QAAU6C,EAAe,OAAL,IAJxB,UAOE,qBACEpG,IAAKyG,EACLrD,IAAI,OACJtB,MAAO,CAAEgB,MAAO,QAASE,aAAc,UAEzC,qBACElB,MAAO,CACLK,SAAU,OACVe,WAAY,iCAHhB,UAME,cAAC,IAAD,CAAiBwD,KAAM4f,MANzB,sBAQA,8BACE,eAAC5iB,EAAD,CACEC,OAAQ,0BACRC,eAAgB,SAACM,GACf,GAAI2B,EACF,GAA0B,KAAtB3B,EAAEO,OAAO,GAAGO,MAAc,CAC5B,GA5KK4B,EA4Ka1C,EAAEO,OAAO,GAAGO,MA1K5C,wJACQ6B,KAAKC,OAAOF,GAAOG,eA2KX,OADAV,GAAW,IACJ,EAEPT,EAAS,6BAGXA,EAAS,uDAGXA,EAAS,mDAtLzB,IAAuBgB,GAyLX7C,iBAAkB,SAACC,GAEjB,OADI6B,GAAY7B,EAAGc,OAAO,uBAAwBe,GAC3C7B,GAETlC,MAAO,CAAEgB,MAAO,cAAeF,OAAQ,OAAQC,SAAU,SACzDgB,SAAU,WACRvC,EAAQqB,KAAK,WAxBjB,UA2BE,cAAC,IAAD,CACE8E,SAAU,SAACN,GACTrB,EAAcqB,MAGlB,mBACErF,MAAO,CACLC,UAAW,MACXa,OAAQ,KAHZ,mBAOK,IACL,uBACEnC,KAAK,QACLiH,YAAY,QACZ3C,KAAK,QACLjD,MAAO,CACLmB,WAAY,cACZ0E,UAAW,OACXC,YAAa,OACbC,aAAc,kBACdC,WAAY,OACZC,YAAa,UACbC,aAAc,OACdlF,MAAO,OACPP,cAAe,SACfW,WAAY,gCACZf,SAAU,OACVC,MAAO,QACPY,aAAc,OAEhBuK,aAAa,iBAEf,uBACE9M,KAAK,SACLuE,MAAM,uBACNlD,MAAO,CACLE,QAAS,OACTc,MAAO,OACPC,OAAQ,OACRC,aAAc,OACdC,WACE,gFACFb,MAAO,QACPc,WAAY,gCACZf,SAAU,OACVgB,UAAW,kCAGf,mBAAGrB,MAAO,CAAEc,OAAQ,SAAUR,MAAO,OAArC,SAA+CgC,gBAQrBmiB,eAtPtC,WACE,MAA0B5gB,mBAAS,IAAnC,mBAAOvB,EAAP,KAAcwB,EAAd,KACMtE,EAAUC,cACRsR,EAAOmD,cAAPnD,GACR,EAAoClN,mBAAwB,MAA5D,mBAAOE,EAAP,KAAmBC,EAAnB,KACA,EAA8BH,oBAAS,GAAvC,mBAAOS,EAAP,KAAgBC,EAAhB,KACA,OACE,qCACE,qBAAKvE,MAAO,CAAEyB,QAAS6C,EAAU,GAAK,QAAtC,SACE,cAAC,EAAD,MAEF,sBACEtE,MAAO,CACLc,OAAQ,SACRb,UAAW,SACXwB,QAAU6C,EAAe,OAAL,IAJxB,UAOE,qBACEpG,IAAKyG,EACLrD,IAAI,OACJtB,MAAO,CAAEgB,MAAO,QAASE,aAAc,UAEzC,qBACElB,MAAO,CACLK,SAAU,OACVe,WAAY,iCAHhB,UAME,cAAC,IAAD,CAAiBwD,KAAM4f,MANzB,mBAQA,8BACE,eAAC5iB,EAAD,CACEC,OAAQ,sBACRC,eAAgB,WACd,GAAIiC,EAEF,OADAQ,GAAW,IACJ,EAEPT,EAAS,oDAGb7B,iBAAkB,SAACC,GAGjB,OAFAA,EAAGc,OAAO,WAAY+N,GAClBhN,GAAY7B,EAAGc,OAAO,uBAAwBe,GAC3C7B,GAETlC,MAAO,CAAEgB,MAAO,cAAeF,OAAQ,OAAQC,SAAU,SACzDgB,SAAU,SAACmD,GACTX,GAAW,GACPW,EACF1F,EAAQqB,KAAK,UAEbiD,EACE,wEAtBR,UA2BE,cAAC,IAAD,CACE6B,SAAU,SAACN,GACTrB,EAAcqB,MAGlB,mBACErF,MAAO,CACLC,UAAW,MACXa,OAAQ,KAHZ,sBAQA,uBACEnC,KAAK,WACLiH,YAAY,WACZ3C,KAAK,OACLjD,MAAO,CACLmB,WAAY,cACZ0E,UAAW,OACXC,YAAa,OACbC,aAAc,kBACdC,WAAY,OACZC,YAAa,UACbC,aAAc,OACdlF,MAAO,OACPP,cAAe,SACfW,WAAY,gCACZf,SAAU,OACVC,MAAO,QACPY,aAAc,SAGlB,uBACEvC,KAAK,SACLuE,MAAM,kBACNlD,MAAO,CACLE,QAAS,OACTc,MAAO,OACPC,OAAQ,OACRC,aAAc,OACdC,WACE,gFACFb,MAAO,QACPc,WAAY,gCACZf,SAAU,OACVgB,UAAW,kCAGf,mBAAGrB,MAAO,CAAEc,OAAQ,SAAUR,MAAO,OAArC,SAA+CgC,iBC7H5C,OAA0B,uCCA1B,OAA0B,sCCA1B,OAA0B,uCCA1B,I,OAAA,IAA0B,oCCA1B,OAA0B,oCCA1B,OAA0B,oCCA1B,OAA0B,yCCA1B,OAA0B,sCCA1B,OAA0B,uCCA1B,OAA0B,uCCmBzC,SAASoiB,GAAMjW,GAA4B,IAAdkW,EAAa,uDAAH,EACrC,OAAO,YAAIlgB,MAAMgK,GAAMmW,QAAQ7V,KAAI,SAACM,GAAD,OAAOA,EAAIsV,KAGhD,SAASE,GAAT,GAII,IAHFjkB,EAGC,EAHDA,QAIA,OACE,qBAAKR,UAAU,UAAf,SACE,sBAAKA,UAAU,MAAMQ,QAASA,EAA9B,UACE,yCACA,+BACE,qBAAKI,MAAM,OAAOoF,OAAO,OAAOpG,MAAO,CAAEyjB,cAAe,OAAxD,SACE,oBACE1S,GAAG,QACH+T,OAAO,OACPC,eAAa,IACbC,KAAK,OACLC,YAAU,UALZ,UAOE,sBACE7kB,UAAU,MACV8kB,EAAE,u0BACFF,KAAK,YAEP,sBACE5kB,UAAU,MACV8kB,EAAE,u0BACFF,KAAK,YAEP,sBACE5kB,UAAU,QACV8kB,EAAE,81BACFF,KAAK,wBAUrB,SAASG,KACP,MAA0BthB,mBAAS,CACjCuJ,EAAmB,IAAhBC,KAAKH,SACRkY,EAAmB,IAAhB/X,KAAKH,SACRgU,MAAO7T,KAAKH,WAHd,sBAASE,EAAT,EAASA,EAAGgY,EAAZ,EAAYA,EAAGlE,EAAf,EAAeA,MAKf,OACE,qBACE9gB,UAAU,OACVJ,MAAO,CAAE0H,IAAI,GAAD,OAAK0d,EAAL,MAAYrQ,KAAK,GAAD,OAAK3H,EAAL,MAAY5M,eAAe,IAAD,OAAM0gB,EAAN,QAK5D,SAASmE,KACP,MAA0BxhB,mBAAS,CACjCuJ,EAAmB,IAAhBC,KAAKH,SACRkY,EAAmB,IAAhB/X,KAAKH,SACRgU,MAAuB,GAAhB7T,KAAKH,WAHd,sBAASE,EAAT,EAASA,EAAGgY,EAAZ,EAAYA,EAAGlE,EAAf,EAAeA,MAKf,OACE,qBACE9gB,UAAU,SACVJ,MAAO,CAAE0H,IAAI,GAAD,OAAK0d,EAAL,MAAYrQ,KAAK,GAAD,OAAK3H,EAAL,MAAY5M,eAAe,IAAD,OAAM0gB,EAAN,QAK5D,SAASoE,GAAT,GAA6C,IAA3BxiB,EAA0B,EAA1BA,KAChB,EAA0Be,mBAAS,CACjCuJ,EAAmB,IAAhBC,KAAKH,SACRkY,EAAmB,IAAhB/X,KAAKH,SACRgU,MAAuB,GAAhB7T,KAAKH,WAHd,sBAASE,EAAT,EAASA,EAAGgY,EAAZ,EAAYA,EAAGlE,EAAf,EAAeA,MAKf,OACE,qBACE9gB,UAAU,SACVJ,MAAO,CACL0H,IAAI,GAAD,OAAK0d,EAAL,MACHrQ,KAAK,GAAD,OAAK3H,EAAL,MACJ5M,eAAe,IAAD,OAAM0gB,EAAN,KACdzF,gBAAgB,OAAD,OAAS3Y,EAAT,QAMvB,SAASyiB,GAAT,GAAgD,IAA3BziB,EAA0B,EAA1BA,KACnB,EAA0Be,mBAAS,CACjCuJ,EAAmB,IAAhBC,KAAKH,SACRkY,EAAmB,IAAhB/X,KAAKH,SACRgU,MAAuB,GAAhB7T,KAAKH,WAHd,sBAASE,EAAT,EAASA,EAAGgY,EAAZ,EAAYA,EAAGlE,EAAf,EAAeA,MAKf,OACE,qBACE9gB,UAAU,YACVJ,MAAO,CACL0H,IAAI,GAAD,OAAK0d,EAAL,MACHrQ,KAAK,GAAD,OAAK3H,EAAL,MACJ5M,eAAe,IAAD,OAAM0gB,EAAN,KACdzF,gBAAgB,OAAD,OAAS3Y,EAAT,QA4OvB,IAEe0iB,GAFQ,CAAEC,MAhKzB,WACE,IAAQzoB,EACN+M,EACE,oBAFI/M,KAIR,EAA0BmJ,IAAlBnF,EAAR,EAAQA,MAAOoF,EAAf,EAAeA,OACT5G,EAAUC,cACVwE,EAAWC,cACXC,EAA8CvG,gBAClDqG,EAASG,OAAOC,MAAM,IAElBqhB,IAAgC,SAAvB1gB,OAAOb,EAAMuhB,OAE5B,EAA6B7hB,mBAAS,CACpC8hB,OAAQ,GAAqB,GAAhBtY,KAAKH,SAAgB,KAClC0Y,OAAQ,GAAqB,GAAhBvY,KAAKH,SAAgB,OAFpC,sBAASyY,EAAT,EAASA,OAAQC,EAAjB,EAAiBA,OAIXC,EAAQjS,mBACZ,kBACE8Q,GAAMrX,KAAKsP,MAAO3b,EAAQoF,EAAU,MAAQ2I,KAAI,SAAC7L,GAAD,OAC9C,cAACiiB,GAAD,GAAWjiB,QAEf,CAAClC,EAAOoF,IAEJ0f,EAAO9oB,EACT,IAAIwI,KAAKxI,EAAK+oB,YAAc,QAASC,kBACrC9oB,EACJ,OACE,gCACE,gCACE,qBAAKkD,UAAU,QAAf,SAAwBylB,IACxB,cAACR,GAAD,IAEA,cAACC,GAAD,CAAQxiB,KAAMmjB,KACd,cAACX,GAAD,CAAQxiB,KAAMojB,KACd,cAACZ,GAAD,CAAQxiB,KAAMqjB,KACd,cAACb,GAAD,CAAQxiB,KAAMsjB,KAEd,cAACb,GAAD,CAAWziB,KAAMujB,KACjB,cAACd,GAAD,CAAWziB,KAAMwjB,KACjB,cAACf,GAAD,CAAWziB,KAAMyjB,KAEjB,qBAAKnmB,UAAU,QAAQJ,MAAO,CAAE0H,IAAKke,EAAQ7Q,KAAM4Q,QAGpD3oB,GAAQ0oB,EAAO,qBAAKtlB,UAAU,gBAAuB,6BACtD,qBAAKA,UAAU,eACdpD,EACC,qBAAKoD,UAAS,oBAAeslB,EAAO,qBAAuB,IAA3D,SACE,sBACE1lB,MAAO,CACLc,OAAQ,OACRG,OAAQ,mCACRC,aAAc,OACd0H,gBAAiB,8BACjB1I,QAAS,OACTa,SAAU,SAPd,UAUE,qBAAIf,MAAO,CAAEC,UAAW,UAAxB,mBACQ,qBAAK/B,IAAKsoB,GAAWpgB,OAAO,OAAO9E,IAAI,oBAE/C,sBAAKtB,MAAO,CAAEC,UAAW,OAAzB,UACE,2CACUjD,EAAKypB,OAAS,EAAIzpB,EAAK0pB,MAAS,KAAK9J,QAAQ,GADvD,kBAEc,qBAAK1e,IAAKyoB,GAAUvgB,OAAO,OAAO9E,IAAI,cAEnDtE,EAAK0pB,KACJ,+BACE,8BACGrZ,KAAKsP,MAAkB,IAAZ3f,EAAK0pB,MADnB,QACqC,IACnC,qBAAKxoB,IAAK0oB,GAAYxgB,OAAO,OAAO9E,IAAI,cAE1C,oBAAGtB,MAAO,CAAEK,SAAU,QAAtB,yBACeylB,EACZ9gB,OAAO8gB,GAAMe,SAAS,KACnB,KACA7hB,OAAO8gB,GAAMe,SAAS,KACtB,KACA7hB,OAAO8gB,GAAMe,SAAS,KACtB,KACA,QAEN,oBAAG7mB,MAAO,CAAEK,SAAU,QAAtB,2BACcrD,EAAKypB,MAAQ,KAAK7J,QAAQ,GADxC,UAKF,gCAGJ,cAACiI,GAAD,CACEjkB,QAAS,kBAAMpB,EAAQqB,KAAK,6BAE9B,sBACEb,MAAO,CACLiB,OAAQ,mCACRC,aAAc,OACd0H,gBAAiB,wBACjB1I,QAAS,OACTY,OAAQ,QANZ,UASE,0CACA,qBACEd,MAAO,CACLgB,MAAO,OACPoF,OAAQ,MACRwC,gBAAiB,4BAGrB,qBACE5I,MAAO,CACLc,OAAQ,QAFZ,UAKE,yDACA,iFACkD,IAChD,qBAAK5C,IAAKyoB,GAAUvgB,OAAO,OAAO9E,IAAI,WAFxC,OAIA,sEACA,oDACA,8DAGJ,sBACEtB,MAAO,CACLiB,OAAQ,mCACRC,aAAc,OACd0H,gBAAiB,wBACjB1I,QAAS,OACTY,OAAQ,QANZ,UASE,uDACwB,IACtB,qBAAK5C,IAAKsoB,GAAWpgB,OAAO,OAAO9E,IAAI,oBAEzC,yBACElB,UAAU,YACV0mB,UAAQ,EACR9mB,MAAO,CAAEkR,QAAS,IAAMoB,OAAQ,eAHlC,6BAKkB,qBAAKpU,IAAKyoB,GAAUvgB,OAAO,OAAO9E,IAAI,cAExD,mBAAGtB,MAAO,CAAEC,UAAW,UAAvB,+JASN,iCAKwB8mB,UAtOhC,WACE,MAA0B5gB,IAAlBnF,EAAR,EAAQA,MAAOoF,EAAf,EAAeA,OAETnC,EAAWC,cACXC,EAA8CvG,gBAClDqG,EAASG,OAAOC,MAAM,IAElBqhB,IAAgC,SAAvB1gB,OAAOb,EAAMuhB,OAE5B,EAA6B7hB,mBAAS,CACpC8hB,OAAQ,GAAqB,GAAhBtY,KAAKH,SAAgB,KAClC0Y,OAAQ,GAAqB,GAAhBvY,KAAKH,SAAgB,OAFpC,sBAASyY,EAAT,EAASA,OAAQC,EAAjB,EAAiBA,OAIXC,EAAQjS,mBACZ,kBACE8Q,GAAMrX,KAAKsP,MAAO3b,EAAQoF,EAAU,MAAQ2I,KAAI,SAAC7L,GAAD,OAC9C,cAACiiB,GAAD,GAAWjiB,QAEf,CAAClC,EAAOoF,IAEV,OACE,gCACE,gCACE,qBAAKhG,UAAU,QAAf,SAAwBylB,IACxB,cAACR,GAAD,IAEA,cAACC,GAAD,CAAQxiB,KAAMmjB,KACd,cAACX,GAAD,CAAQxiB,KAAMojB,KACd,cAACZ,GAAD,CAAQxiB,KAAMqjB,KACd,cAACb,GAAD,CAAQxiB,KAAMsjB,KAEd,cAACb,GAAD,CAAWziB,KAAMujB,KACjB,cAACd,GAAD,CAAWziB,KAAMwjB,KACjB,cAACf,GAAD,CAAWziB,KAAMyjB,KAEjB,qBAAKnmB,UAAU,QAAQJ,MAAO,CAAE0H,IAAKke,EAAQ7Q,KAAM4Q,QAEpDD,EAAO,qBAAKtlB,UAAU,gBAAuB,6BAC9C,qBAAKA,UAAU,eACf,qBAAKA,UAAS,oBAAeslB,EAAO,qBAAuB,IAA3D,SACE,sBACE1lB,MAAO,CACLc,OAAQ,OACRG,OAAQ,mCACRC,aAAc,OACd0H,gBAAiB,8BACjB1I,QAAS,OACTa,SAAU,SAPd,UAUE,qBAAIf,MAAO,CAAEC,UAAW,UAAxB,yBACc,qBAAK/B,IAAKsoB,GAAWpgB,OAAO,OAAO9E,IAAI,oBAErD,qBACEtB,MAAO,CACLiB,OAAQ,mCACRC,aAAc,OACd0H,gBAAiB,wBACjB1I,QAAS,OACTY,OAAQ,QANZ,SASE,sCCtHZ,SAASkmB,KACP,MAAyCjd,EAAY,iBAA7C/M,EAAR,EAAQA,KAAMsF,EAAd,EAAcA,MAAOgC,EAArB,EAAqBA,QAASmG,EAA9B,EAA8BA,OAC9B,EAAoC5G,mBAAS,CAAE7C,MAAO,EAAGoF,OAAQ,IAAjE,mBAAOY,EAAP,KAAmBG,EAAnB,KACA,EAAoCuE,GAAgB,aAAc,MAAlE,mBAAOtE,EAAP,KAAmB6f,EAAnB,KACA,EAAsDpjB,oBAAS,GAA/D,mBAAOqjB,EAAP,KAA4BC,EAA5B,KACA,EAAgCtjB,mBAAS7G,GAAzC,mBAAOoqB,EAAP,KAAiBC,EAAjB,KACA,EAA6CxjB,mBAAc,MAA3D,mBAAOyjB,EAAP,KAAwBC,EAAxB,KA0CA,OAzCAhhB,qBAAU,WACR8gB,EAAYrqB,KACX,CAACA,IACJuJ,qBAAU,WACJ,iBAAkB5G,SAAlB,OAA4BynB,QAA5B,IAA4BA,OAA5B,EAA4BA,EAAUtnB,WACR,YAA5B0nB,aAAaC,YACfD,aAAaE,oBAGjB,sBAAC,4BAAAnqB,EAAA,kEAEQ2pB,IAAuBE,EAAStnB,SAFxC,wBAGKqnB,GAAuB,GAH5B,SAKa9jB,MAAM,4BALnB,8BAMOG,OANP,QAIW2gB,EAJX,QAOmBwD,WACZN,EAAYlD,GAEdgD,GAAuB,GAV5B,2EAaShI,GAAO,KAbhB,QAcGgI,GAAuB,GAd1B,yDAAD,MAiCA,cAAC,IAAD,CAAyBS,aAAa,2CAAtC,SACE,cAAC,IAAD,UACE,qBAAK5nB,MAAO,CAAE6nB,aAAc,YAA5B,SACGvlB,GAASgC,EACRhC,EACE,cAAC,GAAD,CAAWA,MAAO0C,OAAO1C,KAEzB,cAAC,EAAD,IAGF,eAAC,EAAS+X,SAAV,CACEnX,MAAO,CACLpD,SAAUsnB,EAAStnB,SACnBoH,KAAMkgB,EAASlgB,KACftD,cAAe6G,EACftD,gBACAH,aACAI,aACA6f,gBACAxR,cAAejX,QACf8oB,kBACAC,oBACA7R,gBArCd,SACEoS,EACArb,GAEI,iBAAkB9M,QAAsC,YAA5B6nB,aAAaC,WAC5B,IAAID,aAAaxiB,OAAO8iB,EAAQppB,OAAQ,CACrD6E,KAAMyB,OAAO8iB,EAAQjpB,SACrB+F,KAAM,cAED+B,iBAAiB,QAAS8F,GAEjCjO,QAAMC,gBAAgBqpB,KAchB,UAeE,cAAC,EAAD,IACA,cAAC,IAAD,IACA,cAAC,GAAD,IACA,8BACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOxiB,KAAK,IAAIyiB,OAAK,EAArB,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOziB,KAAK,QAAQyiB,OAAK,EAAzB,SACE,cAAC,IAAD,CAAUhoB,GAAIqH,EAAU,gBAAYA,GAAe,QAErD,cAAC,IAAD,CACE9B,KAAK,YACL0iB,OAAQ,gBAAGC,EAAH,EAAGA,MAAH,OACN,cAAC,GAAD,CAA4Bnb,aAAa,GAA9Bmb,EAAMC,OAAOnX,KAE1BgX,OAAK,IAEP,cAAC,IAAD,CAAOziB,KAAK,YAAYyiB,OAAK,EAA7B,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOziB,KAAK,eAAeyiB,OAAK,EAAhC,SACE,cAAC,GAAMhB,UAAP,MAEF,cAAC,IAAD,CAAOzhB,KAAK,SAASyiB,OAAK,EAA1B,SACE,cAAC,GAAMtC,MAAP,MAEF,cAAC,IAAD,CAAOngB,KAAK,cAAcyiB,OAAK,EAA/B,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOziB,KAAK,YAAYyiB,OAAK,EAA7B,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOziB,KAAK,SAASyiB,OAAK,EAA1B,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOziB,KAAK,YAAYyiB,OAAK,EAA7B,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOziB,KAAK,UAAUyiB,OAAK,EAA3B,SACE,cAAC,EAAD,MAEF,cAAC,IAAD,CAAOziB,KAAK,cAAcyiB,OAAK,EAA/B,SACE,cAAC,GAAMnE,MAAP,MAEF,cAAC,IAAD,CAAOte,KAAK,aAAayiB,OAAK,EAA9B,SACE,cAAC,GAAM7D,MAAP,MAEF,cAAC,IAAD,CAAO5e,KAAK,sBAAsByiB,OAAK,EAAvC,SACE,cAAC,GAAmBxD,mBAApB,MAEF,cAAC,IAAD,CAAOjf,KAAK,sBAAsByiB,OAAK,EAAvC,SACE,cAAC,GAAmBtD,eAApB,MAGF,cAAC,IAAD,CAAOnf,KAAK,iBAAiByiB,OAAK,EAAlC,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,CAAOziB,KAAK,OAAOyiB,OAAK,EAAxB,SACE,cAAC,GAAD,MAEF,cAAC,IAAD,UACE,cAAC,GAAD,oBAtKfpqB,KAAKC,MAAMoH,OAAOvH,aAAaC,QAAQ,eAC1CD,aAAa2O,QAAQ,WAAYzO,KAAK0O,UAAU,IAElD5O,aAAa2O,QACX,WACAzO,KAAK0O,UAAU1O,KAAKC,MAAMoH,OAAOvH,aAAaC,QAAQ,cAAgB,IAGpEiC,OAAO8S,WAAaA,UAAU0V,eAChC1V,UAAU0V,cAAcC,mBAAmB3e,MAAK,SAAU4e,GAAgB,IAAD,gBAC9CA,GAD8C,IACvE,2BAAwC,SACzBC,cAFwD,kCAM3E3oB,OAAO4oB,SAAW,WAEd,kBAAmB9V,WACnB9U,KAAKC,MAAMoH,OAAOvH,aAAaC,QAAQ,cAAgB,GAAK,GAE5D+U,UAAU0V,cACPK,SAAS,SAAU,CAAEC,MAAO,MAC5BpE,MAAMhiB,QAAQC,OAEnB7E,aAAa2O,QACX,WACAzO,KAAK0O,UAAU1O,KAAKC,MAAMoH,OAAOvH,aAAaC,QAAQ,cAAgB,KAwJ1EgrB,IAASV,OACP,cAAC,IAAMW,WAAP,UACE,cAAC3B,GAAD,MAEF1S,SAASsU,eAAe,QAE1Btf,IACe0d,c","file":"static/js/main.b19f414b.chunk.js","sourcesContent":["import { createContext, useContext } from \"react\";\r\n\r\nconst data = createContext<any>(undefined);\r\nconst useData = () => useContext(data);\r\nexport { data, useData };\r\n","export default __webpack_public_path__ + \"static/media/app page.27ce18a4.png\";","import { Howl } from \"howler\";\r\nimport { store } from \"react-notifications-component\";\r\n\r\nlet hasshownmuted = false;\r\nasync function playSound(url: string) {\r\n  const localallowed = localStorage.getItem(\"sound effects\");\r\n  const canPlay = localallowed ? JSON.parse(localallowed) : true;\r\n  if (canPlay) {\r\n    const localvol = localStorage.getItem(\"volume\");\r\n    const vol = (localvol !== null ? JSON.parse(localvol) : 15) / 20;\r\n    let hasplayed = false;\r\n    const audio = new Howl({\r\n      src: url,\r\n      volume: vol,\r\n    });\r\n    audio.on(\"play\", () => {\r\n      hasplayed = true;\r\n    });\r\n    audio.play();\r\n    setTimeout(() => {\r\n      if (!hasplayed) {\r\n        audio.pause();\r\n        if (!hasshownmuted) {\r\n          store.addNotification({\r\n            title: \"sound\",\r\n            type: \"danger\",\r\n            onRemoval: () => {\r\n              hasshownmuted = false;\r\n            },\r\n            message:\r\n              \"you need to interact with the site for sound effects to play!\",\r\n            insert: \"top\",\r\n            animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n            animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n            container: \"top-right\",\r\n            dismiss: { duration: 10000, pauseOnHover: true, onScreen: true },\r\n          });\r\n          hasshownmuted = true;\r\n        }\r\n      }\r\n    }, 5000);\r\n  }\r\n}\r\nexport default playSound;\r\n","import { Redirect, useHistory } from \"react-router-dom\";\r\nimport { useData } from \"../hooks/datahook\";\r\nimport appPage from \"./images/app page.png\";\r\nimport \"./css/home.css\"\r\nimport playSound from \"../playsound\";\r\n\r\nfunction isRunningStandalone() {\r\n  return (window.matchMedia('(display-mode: standalone)').matches);\r\n}\r\n\r\nfunction Home() {\r\n  const history = useHistory()\r\n  const standalone = isRunningStandalone();\r\n  const { loggedin } = useData();\r\n  if (!loggedin) {\r\n    return (\r\n      <div style={{textAlign: \"center\", padding: \"1rem\", overflow: \"hidden\"}}>\r\n        <h1 className=\"slideinright\" style={{fontSize:\"75px\", color: \"var(--primary-text-colour)\", animationDuration: \"2s\"}}>Hello.</h1>\r\n        <h1 className=\"slideinleft\" style={{ color: \"var(--secondary-text-colour)\", animationDuration: \"2s\", animationDelay: \"1s\"}}>Welcome to TypeChat.</h1>\r\n        <p className=\"slideinright\" style={{ animationDuration: \"2s\", animationDelay: \"2s\", paddingBottom: \"1rem\"}}>\r\n          Type to your friends. Powered by TypeScript.\r\n        </p>\r\n        <div className=\"logindraw\" style={{animationDuration: \"2s\", animationDelay: standalone?\"3s\":\"5s\"}}><div>\r\n            <button\r\n            onPointerDown={() => {\r\n              playSound(\"/sounds/click2.mp3\");\r\n            }}\r\n            onPointerUp={() => {\r\n              playSound(\"/sounds/click1.mp3\");\r\n            }}\r\n            onClick={()=>{history.push(\"/login\")}}\r\n            style={{\r\n              margin: \"0.5rem\",\r\n              padding: \"1rem\",\r\n              maxWidth: \"250px\",\r\n              width: \"100%\",\r\n              border: \"none\",\r\n              borderRadius: \"50px\",\r\n              background:\r\n                \"linear-gradient(45deg, var(--dark-bg-colour) 0%, var(--light-bg-colour) 100%)\",\r\n              color: \"white\",\r\n              fontFamily: '\"Source Sans Pro\", sans-serif',\r\n              fontSize: \"20px\",\r\n              boxShadow: \"rgb(0, 0, 0) 0px 6px 5px 0px\",\r\n            }}\r\n          >Login</button>\r\n          <button\r\n            onPointerDown={() => {\r\n              playSound(\"/sounds/click2.mp3\");\r\n            }}\r\n            onPointerUp={() => {\r\n              playSound(\"/sounds/click1.mp3\");\r\n            }}\r\n            onClick={()=>{history.push(\"/signup\")}}\r\n            style={{\r\n              margin: \"0.5rem\",\r\n              padding: \"1rem\",\r\n              maxWidth: \"250px\",\r\n              width: \"100%\",\r\n              border: \"none\",\r\n              borderRadius: \"50px\",\r\n              background:\r\n                \"linear-gradient(45deg, var(--dark-bg-colour) 0%, var(--light-bg-colour) 100%)\",\r\n              color: \"white\",\r\n              fontFamily: '\"Source Sans Pro\", sans-serif',\r\n              fontSize: \"20px\",\r\n              boxShadow: \"rgb(0, 0, 0) 0px 6px 5px 0px\",\r\n            }}\r\n          >Sign Up</button>\r\n          </div>\r\n        </div>\r\n        {standalone?<></>:\r\n        <img className=\"slideinleft\" alt=\"phone app\" src={appPage} style={{width: \"100%\", maxWidth: \"350px\", animationDuration: \"2s\", animationDelay: \"3s\"}}></img>\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n  return <Redirect to=\"/contacts\"></Redirect>;\r\n}\r\n\r\nexport default Home;\r\n","import \"./css/loader.css\";\r\nimport \"./css/center.css\";\r\n\r\nfunction Loader() {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        marginTop: \"5rem\",\r\n        justifyContent: \"center\",\r\n      }}\r\n    >\r\n      <div className=\"loader\"></div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Loader;\r\n","export default __webpack_public_path__ + \"static/media/TS.6e2a4395.svg\";","import react from \"react\"\r\n\r\nexport function RouterForm({\r\n  action,\r\n  beforecallback,\r\n  callback,\r\n  children,\r\n  style,\r\n  appendtoformdata = (fd: FormData) => {\r\n    return fd;\r\n  },\r\n  onerror = (e: any) => {\r\n    console.error(e);\r\n  },\r\n}: {\r\n  action: string;\r\n  beforecallback: (e: any) => boolean | undefined;\r\n  callback(responce: any): void;\r\n  children: any; style?: react.CSSProperties;\r\n  appendtoformdata?(fd: FormData): FormData; onerror?(e: any): void\r\n}): JSX.Element {\r\n  return (\r\n    <form\r\n      style={style}\r\n      onSubmit={async (e: any) => {\r\n        e.preventDefault();\r\n        if (beforecallback(e)) {\r\n          const fd = new FormData();\r\n          for (let index = 0; index < e.target.length; index++) {\r\n            const element = e.target[index];\r\n            if (element.type !== \"submit\") {\r\n              if (element.type === \"file\") {\r\n                for (let file = 0; file < element.files.length; file++) {\r\n                  fd.append(element.name, element.files[file]);\r\n                }\r\n              } else if (\r\n                element.type !== \"radio\" &&\r\n                element.type !== \"checkbox\"\r\n              ) {\r\n                fd.append(element.name, element.value);\r\n              } else if (element.checked) {\r\n                fd.append(element.name, element.checked);\r\n              }\r\n            }\r\n          }\r\n          const newformdata = appendtoformdata(fd);\r\n          try {\r\n            const result = await (\r\n              await fetch(action, {\r\n                method: \"POST\",\r\n                body: newformdata,\r\n              })\r\n            ).json();\r\n            callback(result);\r\n          } catch (e) {\r\n            onerror(e);\r\n          }\r\n        }\r\n      }}\r\n    >\r\n      {children}\r\n    </form>\r\n  );\r\n}\r\n","import Cookies from 'universal-cookie';\r\n\r\n\r\nexport default new Cookies();","import { useData } from \"../hooks/datahook\";\r\nimport { useState } from \"react\";\r\nimport Loader from \"./loader\";\r\nimport { useHistory, Link, useLocation } from \"react-router-dom\";\r\nimport logo from \"../images/logos/TS.svg\";\r\nimport { RouterForm } from \"./RouterForm\";\r\nimport cookies from \"../cookies\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faSignInAlt } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { parse } from \"querystring\";\r\nimport { GoogleReCaptcha } from \"react-google-recaptcha-v3\";\r\n\r\nfunction validateEmail(email: string) {\r\n  const re =\r\n    /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n  return re.test(String(email).toLowerCase());\r\n}\r\n\r\nfunction Login() {\r\n  const { rechecklogged, loggedin } = useData();\r\n  const [error, seterror] = useState(\"\");\r\n  const [recapToken, setRecapToken] = useState<null | string>(null);\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const query: { [key: string]: string | string[] } = parse(\r\n    location.search.slice(1)\r\n  );\r\n  const [loading, setloading] = useState(false);\r\n  const redirect = query.to\r\n    ? Array.isArray(query.to)\r\n      ? query.to[0]\r\n      : query.to\r\n    : \"/\";\r\n  if (loggedin) {\r\n    history.push(redirect);\r\n    return <></>;\r\n  }\r\n  return (\r\n    <>\r\n      <div style={{ display: loading ? \"\" : \"none\" }}>\r\n        <Loader></Loader>\r\n      </div>\r\n      <div\r\n        style={{\r\n          margin: \"5rem 0\",\r\n          textAlign: \"center\",\r\n          display: !loading ? \"\" : \"none\",\r\n        }}\r\n      >\r\n        <img\r\n          src={logo}\r\n          style={{ width: \"150px\", borderRadius: \"10px\" }}\r\n          alt=\"logo\"\r\n        ></img>\r\n        <h1\r\n          style={{\r\n            fontSize: \"20px\",\r\n            fontFamily: \"'Source Sans Pro', sans-serif\",\r\n          }}\r\n        >\r\n          <FontAwesomeIcon icon={faSignInAlt}></FontAwesomeIcon> Login\r\n        </h1>\r\n        <RouterForm\r\n          action={\"/login\"}\r\n          beforecallback={(e: any) => {\r\n            if (recapToken) {\r\n              if (e.target[0].value !== \"\" && e.target[1].value !== \"\") {\r\n                if (validateEmail(e.target[0].value)) {\r\n                  setloading(true);\r\n                  return true;\r\n                } else {\r\n                  seterror(\"input a valid email!\");\r\n                }\r\n              } else {\r\n                seterror(\"input an email and password!\");\r\n              }\r\n            } else {\r\n              seterror(\"waiting for recaptcha token... try again later.\");\r\n            }\r\n          }}\r\n          appendtoformdata={(fd) => {\r\n            if (recapToken) fd.append(\"g-recaptcha-response\", recapToken);\r\n            return fd;\r\n          }}\r\n          style={{\r\n            width: \"fit-content\",\r\n            margin: \"auto\",\r\n            maxWidth: \"300px\",\r\n          }}\r\n          callback={(resp: any) => {\r\n            if (resp.resp) {\r\n              cookies.set(\"token\", resp.token, {\r\n                path: \"/\",\r\n                expires: new Date(Date.now() + 3.154e12),\r\n              });\r\n              rechecklogged();\r\n            } else {\r\n              setloading(false);\r\n              seterror(resp.err);\r\n            }\r\n          }}\r\n        >\r\n          <GoogleReCaptcha\r\n            onVerify={(token) => {\r\n              setRecapToken(token);\r\n            }}\r\n          />\r\n          <p\r\n            style={{\r\n              textAlign: \"end\",\r\n              margin: \"0\",\r\n            }}\r\n          >\r\n            Email\r\n          </p>\r\n          <input\r\n            type=\"email\"\r\n            placeholder=\"Email\"\r\n            name=\"email\"\r\n            style={{\r\n              background: \"transparent\",\r\n              borderTop: \"none\",\r\n              borderRight: \"none\",\r\n              borderBottom: \"1px solid white\",\r\n              borderLeft: \"none\",\r\n              borderImage: \"initial\",\r\n              marginBottom: \"1rem\",\r\n              width: \"100%\",\r\n              paddingBottom: \"0.5rem\",\r\n              fontFamily: \"'Source Sans Pro', sans-serif\",\r\n              fontSize: \"17px\",\r\n              color: \"white\",\r\n              borderRadius: \"0px\",\r\n            }}\r\n          />\r\n          <p\r\n            style={{\r\n              textAlign: \"end\",\r\n              margin: \"0\",\r\n            }}\r\n          >\r\n            Password\r\n          </p>\r\n          <input\r\n            type=\"password\"\r\n            placeholder=\"Password\"\r\n            name=\"pass\"\r\n            style={{\r\n              background: \"transparent\",\r\n              borderTop: \"none\",\r\n              borderRight: \"none\",\r\n              borderBottom: \"1px solid white\",\r\n              borderLeft: \"none\",\r\n              borderImage: \"initial\",\r\n              marginBottom: \"1rem\",\r\n              width: \"100%\",\r\n              paddingBottom: \"0.5rem\",\r\n              fontFamily: \"'Source Sans Pro', sans-serif\",\r\n              fontSize: \"17px\",\r\n              color: \"white\",\r\n              borderRadius: \"0px\",\r\n            }}\r\n          />\r\n          <input\r\n            type=\"submit\"\r\n            value=\"Login\"\r\n            style={{\r\n              padding: \"1rem\",\r\n              maxWidth: \"250px\",\r\n              width: \"100%\",\r\n              border: \"none\",\r\n              borderRadius: \"50px\",\r\n              background:\r\n                \"linear-gradient(45deg, var(--dark-bg-colour) 0%, var(--light-bg-colour) 100%)\",\r\n              color: \"white\",\r\n              fontFamily: '\"Source Sans Pro\", sans-serif',\r\n              fontSize: \"20px\",\r\n              boxShadow: \"rgb(0, 0, 0) 0px 6px 5px 0px\",\r\n            }}\r\n          />\r\n          <p style={{ margin: \"1rem 0\", color: \"red\" }}>{error}</p>\r\n          <p style={{ margin: \"1rem 0\", color: \"white\" }}>\r\n            dont already have an account?{\" \"}\r\n            <span>\r\n              <Link\r\n                to={\"/signup\" + location.search}\r\n                style={{ color: \"var(--secondary-text-colour)\" }}\r\n              >\r\n                Make one\r\n              </Link>\r\n            </span>\r\n          </p>\r\n          <p style={{ margin: \"1rem 0\", color: \"white\" }}>\r\n            Forgot your password?{\" \"}\r\n            <span>\r\n              <Link\r\n                to={\"/requestNewPassword\"}\r\n                style={{ color: \"var(--secondary-text-colour)\" }}\r\n              >\r\n                Change it\r\n              </Link>\r\n            </span>\r\n          </p>\r\n        </RouterForm>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Login;\r\n","export default __webpack_public_path__ + \"static/media/TypeChat.b8ec676e.svg\";","import { useState, useEffect } from \"react\";\r\nfunction useWindowSize() {\r\n  const [windowSize, setWindowSize] = useState({\r\n    width: 0,\r\n    height: 0,\r\n  });\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWindowSize({\r\n        width: window.innerWidth,\r\n        height: window.innerHeight,\r\n      });\r\n    }\r\n    window.addEventListener(\"resize\", handleResize);\r\n    handleResize();\r\n    return () => window.removeEventListener(\"resize\", handleResize);\r\n  }, []);\r\n  return windowSize;\r\n}\r\nexport default useWindowSize;\r\n","import { useData } from \"../hooks/datahook\";\r\nimport { Nav, Navbar, Dropdown } from \"react-bootstrap\";\r\nimport bigLogo from \"../images/logos/TypeChat.svg\";\r\nimport smallLogo from \"../images/logos/TS.svg\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport \"./css/nav.css\";\r\nimport cookies from \"../cookies\";\r\nimport useWindowSize from \"../hooks/usescreensize\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport {\r\n  faComment,\r\n  faUserFriends,\r\n  faPlus,\r\n  faSignOutAlt,\r\n  faCog,\r\n  faRocket,\r\n  faUserCog,\r\n  faPhotoVideo,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { faDiscord } from \"@fortawesome/free-brands-svg-icons\";\r\nimport { Link, useLocation } from \"react-router-dom\";\r\nimport { useEffect, useRef } from \"react\";\r\nimport useComponentSize from \"@rehooks/component-size\";\r\nimport playSound from \"../playsound\";\r\nimport isElectron from \"is-electron\";\r\nconst PageNav = () => {\r\n  const { width } = useWindowSize();\r\n  const Navbarref = useRef(null);\r\n  const navbarsize = useComponentSize(Navbarref);\r\n  const { loggedin, user, rechecklogged, setnavbarsize, chattingto } =\r\n    useData();\r\n  useEffect(() => {\r\n    setnavbarsize(navbarsize);\r\n  }, [navbarsize, setnavbarsize]);\r\n  const location = useLocation();\r\n  return (\r\n    <>\r\n      <Navbar\r\n        ref={Navbarref}\r\n        bg=\"darkpurple\"\r\n        variant=\"dark\"\r\n        fixed=\"top\"\r\n        style={{ top: isElectron() ? \"30px\" : undefined }}\r\n      >\r\n        <Navbar.Brand\r\n          onPointerDown={() => {\r\n            playSound(\"/sounds/click2.mp3\");\r\n          }}\r\n          onPointerUp={() => {\r\n            playSound(\"/sounds/click1.mp3\");\r\n          }}\r\n          as={Link}\r\n          to={loggedin ? \"/contacts\" : \"/\"}\r\n        >\r\n          <img\r\n            alt=\"TypeChat\"\r\n            src={width > 700 ? bigLogo : smallLogo}\r\n            style={{\r\n              height: \"40px\",\r\n            }}\r\n          />\r\n        </Navbar.Brand>\r\n\r\n        <Nav className=\"mc-auto\">\r\n          {loggedin ? (\r\n            <>\r\n              {chattingto ? (\r\n                <Nav.Link\r\n                  onPointerDown={() => {\r\n                    playSound(\"/sounds/click2.mp3\");\r\n                  }}\r\n                  onPointerUp={() => {\r\n                    playSound(\"/sounds/click1.mp3\");\r\n                  }}\r\n                  as={Link}\r\n                  to={`/chat/${chattingto}`}\r\n                  style={{\r\n                    color:\r\n                      location.pathname === `/chat/${chattingto}`\r\n                        ? \"white\"\r\n                        : \"\",\r\n                  }}\r\n                >\r\n                  <FontAwesomeIcon icon={faComment} />\r\n                </Nav.Link>\r\n              ) : (\r\n                <></>\r\n              )}\r\n              <Nav.Link\r\n                onPointerDown={() => {\r\n                  playSound(\"/sounds/click2.mp3\");\r\n                }}\r\n                onPointerUp={() => {\r\n                  playSound(\"/sounds/click1.mp3\");\r\n                }}\r\n                as={Link}\r\n                to=\"/contacts\"\r\n                style={{\r\n                  color: location.pathname === \"/contacts\" ? \"white\" : \"\",\r\n                }}\r\n              >\r\n                <FontAwesomeIcon icon={faUserFriends} />\r\n              </Nav.Link>\r\n              <Nav.Link\r\n                onPointerDown={() => {\r\n                  playSound(\"/sounds/click2.mp3\");\r\n                }}\r\n                onPointerUp={() => {\r\n                  playSound(\"/sounds/click1.mp3\");\r\n                }}\r\n                as={Link}\r\n                to=\"/add\"\r\n                style={{ color: location.pathname === \"/add\" ? \"white\" : \"\" }}\r\n              >\r\n                <FontAwesomeIcon icon={faPlus} />\r\n              </Nav.Link>\r\n            </>\r\n          ) : (\r\n            <></>\r\n          )}\r\n        </Nav>\r\n        <Nav>\r\n          <Nav.Link\r\n            onPointerDown={() => {\r\n              playSound(\"/sounds/click2.mp3\");\r\n            }}\r\n            onPointerUp={() => {\r\n              playSound(\"/sounds/click1.mp3\");\r\n            }}\r\n            onClick={() => window.open(\"/invite\", \"blank_\")}\r\n          >\r\n            <FontAwesomeIcon icon={faDiscord} />\r\n          </Nav.Link>\r\n          <Nav.Link\r\n            onPointerDown={() => {\r\n              playSound(\"/sounds/click2.mp3\");\r\n            }}\r\n            onPointerUp={() => {\r\n              playSound(\"/sounds/click1.mp3\");\r\n            }}\r\n            as={Link}\r\n            to=\"/blast\"\r\n            style={{ color: location.pathname === \"/blast\" ? \"white\" : \"\" }}\r\n          >\r\n            <FontAwesomeIcon icon={faRocket} />\r\n          </Nav.Link>\r\n          <Nav.Link\r\n            onPointerDown={() => {\r\n              playSound(\"/sounds/click2.mp3\");\r\n            }}\r\n            onPointerUp={() => {\r\n              playSound(\"/sounds/click1.mp3\");\r\n            }}\r\n            as={Link}\r\n            to=\"/settings\"\r\n            style={{ color: location.pathname === \"/settings\" ? \"white\" : \"\" }}\r\n          >\r\n            <FontAwesomeIcon icon={faCog} />\r\n          </Nav.Link>\r\n          {loggedin ? (\r\n            <>\r\n              <Dropdown>\r\n                <Dropdown.Toggle\r\n                  style={{\r\n                    backgroundColor: \"transparent\",\r\n                    border: \"none\",\r\n                    margin: \"0\",\r\n                    padding: \"0\",\r\n                  }}\r\n                  onPointerDown={() => {\r\n                    playSound(\"/sounds/click2.mp3\");\r\n                  }}\r\n                  onPointerUp={() => {\r\n                    playSound(\"/sounds/click1.mp3\");\r\n                  }}\r\n                >\r\n                  <img\r\n                    alt=\"Profile\"\r\n                    src={\"/files/\" + user.profilePic}\r\n                    style={{ height: \"40px\", borderRadius: \"50%\" }}\r\n                  />\r\n                </Dropdown.Toggle>\r\n\r\n                <Dropdown.Menu alignRight className={\"db-darkpurple\"}>\r\n                  <Dropdown.Item\r\n                    as={Link}\r\n                    to=\"/user/settings\"\r\n                    onPointerDown={() => {\r\n                      playSound(\"/sounds/click2.mp3\");\r\n                    }}\r\n                    onPointerUp={() => {\r\n                      playSound(\"/sounds/click1.mp3\");\r\n                    }}\r\n                  >\r\n                    <FontAwesomeIcon icon={faUserCog} /> User Settings\r\n                  </Dropdown.Item>\r\n                  <Dropdown.Item\r\n                    as={Link}\r\n                    to=\"/user/drive\"\r\n                    onPointerDown={() => {\r\n                      playSound(\"/sounds/click2.mp3\");\r\n                    }}\r\n                    onPointerUp={() => {\r\n                      playSound(\"/sounds/click1.mp3\");\r\n                    }}\r\n                  >\r\n                    <FontAwesomeIcon icon={faPhotoVideo} /> Drive\r\n                  </Dropdown.Item>\r\n                  <Dropdown.Item\r\n                    onClick={async () => {\r\n                      await fetch(\"/api/logout\");\r\n                      cookies.remove(\"token\");\r\n                      rechecklogged();\r\n                      localStorage.removeItem(\"chats\");\r\n                      localStorage.removeItem(\"contacts\");\r\n                      localStorage.removeItem(\"chattingto\");\r\n                    }}\r\n                    onPointerDown={() => {\r\n                      playSound(\"/sounds/click2.mp3\");\r\n                    }}\r\n                    onPointerUp={() => {\r\n                      playSound(\"/sounds/click1.mp3\");\r\n                    }}\r\n                  >\r\n                    <FontAwesomeIcon icon={faSignOutAlt} /> Logout\r\n                  </Dropdown.Item>\r\n                </Dropdown.Menu>\r\n              </Dropdown>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <Nav.Link\r\n                onPointerDown={() => {\r\n                  playSound(\"/sounds/click2.mp3\");\r\n                }}\r\n                onPointerUp={() => {\r\n                  playSound(\"/sounds/click1.mp3\");\r\n                }}\r\n                as={Link}\r\n                to=\"/login\"\r\n                style={{ color: location.pathname === \"/login\" ? \"white\" : \"\" }}\r\n              >\r\n                Login\r\n              </Nav.Link>\r\n              <Nav.Link\r\n                onPointerDown={() => {\r\n                  playSound(\"/sounds/click2.mp3\");\r\n                }}\r\n                onPointerUp={() => {\r\n                  playSound(\"/sounds/click1.mp3\");\r\n                }}\r\n                as={Link}\r\n                to=\"/signup\"\r\n                style={{\r\n                  color: location.pathname === \"/signup\" ? \"white\" : \"\",\r\n                }}\r\n              >\r\n                Sign Up\r\n              </Nav.Link>\r\n            </>\r\n          )}\r\n        </Nav>\r\n      </Navbar>\r\n      <div\r\n        style={{ height: navbarsize.height + (isElectron() ? 30 : 0) }}\r\n      ></div>\r\n    </>\r\n  );\r\n};\r\nexport default PageNav;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { useState, useEffect, useRef } from \"react\";\r\n\r\ninterface userApiInterface<T> {\r\n  loading: boolean;\r\n  data: T | undefined;\r\n  setData: Function;\r\n  error: string | undefined;\r\n  reload: Function;\r\n}\r\n\r\nfunction useApi<T>(url: string | null): userApiInterface<T> {\r\n  const [data, setData] = useState<T | undefined>(undefined);\r\n  const [loading, setLoading] = useState<boolean>(true);\r\n  const [request, setrequest] = useState<number>(0);\r\n  const [error, setError] = useState<string | undefined>(undefined);\r\n  const laststamp = useRef<number | null>(null);\r\n  function reload() {\r\n    setrequest(request + 1);\r\n    setLoading(true);\r\n    setError(undefined);\r\n    setData(undefined);\r\n  }\r\n  useEffect(() => {\r\n    if (url) {\r\n      (async () => {\r\n        try {\r\n          const time = new Date().getTime();\r\n          const result = await (await fetch(url)).json();\r\n          if (!laststamp.current || time - laststamp.current > 0) {\r\n            laststamp.current = time;\r\n            setData(result);\r\n          }\r\n        } catch (e) {\r\n          setError(String(e));\r\n        }\r\n        setLoading(false);\r\n      })();\r\n    }\r\n  }, [url, request]);\r\n\r\n  return { loading, data, setData, error, reload };\r\n}\r\n\r\nexport default useApi;\r\n","import { useData } from \"../hooks/datahook\";\r\nimport { useState } from \"react\";\r\nimport Loader from \"./loader\";\r\nimport { useHistory, Link, useLocation } from \"react-router-dom\";\r\nimport logo from \"../images/logos/TS.svg\";\r\nimport { RouterForm } from \"./RouterForm\";\r\nimport cookies from \"../cookies\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faAddressCard } from \"@fortawesome/free-solid-svg-icons\";\r\nimport Avatar from \"react-avatar-edit\";\r\nimport { parse } from \"querystring\";\r\nimport { GoogleReCaptcha } from \"react-google-recaptcha-v3\";\r\n\r\nfunction validateEmail(email: string) {\r\n  const re =\r\n    /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n  return re.test(String(email).toLowerCase());\r\n}\r\n\r\nfunction Signup() {\r\n  const { rechecklogged, loggedin } = useData();\r\n  const [error, seterror] = useState(\"\");\r\n  const [profile, setprofile] = useState<Blob | null>(null);\r\n  const history = useHistory();\r\n  const [recapToken, setRecapToken] = useState<null | string>(null);\r\n  const [loading, setloading] = useState(false);\r\n  const location = useLocation();\r\n  const query: { [key: string]: string | string[] } = parse(\r\n    location.search.slice(1)\r\n  );\r\n  const redirect = query.to\r\n    ? Array.isArray(query.to)\r\n      ? query.to[0]\r\n      : query.to\r\n    : \"/\";\r\n  if (loggedin) {\r\n    history.push(redirect);\r\n    return <></>;\r\n  }\r\n  return (\r\n    <>\r\n      <div style={{ display: loading ? \"\" : \"none\" }}>\r\n        <Loader></Loader>\r\n      </div>\r\n      <div\r\n        style={{\r\n          margin: \"5rem 0\",\r\n          textAlign: \"center\",\r\n          display: !loading ? \"\" : \"none\",\r\n        }}\r\n      >\r\n        <img\r\n          src={logo}\r\n          alt=\"logo\"\r\n          style={{ width: \"150px\", borderRadius: \"10px\" }}\r\n        ></img>\r\n        <h1\r\n          style={{\r\n            fontSize: \"20px\",\r\n            fontFamily: \"'Source Sans Pro', sans-serif\",\r\n          }}\r\n        >\r\n          <FontAwesomeIcon icon={faAddressCard}></FontAwesomeIcon> Sign Up\r\n        </h1>\r\n        <div>\r\n          <RouterForm\r\n            action={\"/signup\"}\r\n            beforecallback={(e: any) => {\r\n              if (recapToken) {\r\n                if (\r\n                  e.target[0].value !== \"\" &&\r\n                  e.target[1].value !== \"\" &&\r\n                  e.target[2].value !== \"\" &&\r\n                  profile\r\n                ) {\r\n                  if (validateEmail(e.target[0].value)) {\r\n                    setloading(true);\r\n                    return true;\r\n                  } else {\r\n                    seterror(\"input a valid email!\");\r\n                  }\r\n                } else {\r\n                  seterror(\"input a profile, username, email and password!\");\r\n                }\r\n              } else {\r\n                seterror(\"waiting for recaptcha token... try again later.\");\r\n              }\r\n            }}\r\n            appendtoformdata={(fd: FormData) => {\r\n              if (recapToken) fd.append(\"g-recaptcha-response\", recapToken);\r\n              fd.append(\"profile\", profile ? profile : \"\");\r\n              return fd;\r\n            }}\r\n            style={{ width: \"fit-content\", margin: \"auto\", maxWidth: \"300px\" }}\r\n            callback={(resp: any) => {\r\n              if (resp.resp) {\r\n                cookies.set(\"token\", resp.token, {\r\n                  path: \"/\",\r\n                  expires: new Date(Date.now() + 3.154e12),\r\n                });\r\n                rechecklogged();\r\n              } else {\r\n                setloading(false);\r\n                seterror(resp.err);\r\n              }\r\n            }}\r\n          >\r\n            <GoogleReCaptcha\r\n              onVerify={(token) => {\r\n                setRecapToken(token);\r\n              }}\r\n            />{\" \"}\r\n            <p\r\n              style={{\r\n                textAlign: \"end\",\r\n                margin: \"0\",\r\n              }}\r\n            >\r\n              profile\r\n            </p>\r\n            <Avatar\r\n              width={300}\r\n              height={0}\r\n              imageWidth={300}\r\n              onCrop={(dataURL) => {\r\n                fetch(dataURL).then((fetched) =>\r\n                  fetched.blob().then((blob) => setprofile(blob))\r\n                );\r\n              }}\r\n              labelStyle={{ color: \"white\" }}\r\n              onClose={() => {\r\n                setprofile(null);\r\n              }}\r\n              exportMimeType=\"image/jpeg\"\r\n              exportSize={500}\r\n              exportQuality={0.75}\r\n              exportAsSquare\r\n            />{\" \"}\r\n            <p\r\n              style={{\r\n                textAlign: \"end\",\r\n                margin: \"0\",\r\n              }}\r\n            >\r\n              Email\r\n            </p>{\" \"}\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"Email\"\r\n              name=\"email\"\r\n              style={{\r\n                background: \"transparent\",\r\n                borderTop: \"none\",\r\n                borderRight: \"none\",\r\n                borderBottom: \"1px solid white\",\r\n                borderLeft: \"none\",\r\n                borderImage: \"initial\",\r\n                marginBottom: \"1rem\",\r\n                width: \"100%\",\r\n                paddingBottom: \"0.5rem\",\r\n                fontFamily: \"'Source Sans Pro', sans-serif\",\r\n                fontSize: \"17px\",\r\n                color: \"white\",\r\n                borderRadius: \"0px\",\r\n              }}\r\n              autoComplete=\"new-password\"\r\n            />\r\n            <p\r\n              style={{\r\n                textAlign: \"end\",\r\n                margin: \"0\",\r\n              }}\r\n            >\r\n              Username\r\n            </p>{\" \"}\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Username\"\r\n              name=\"uname\"\r\n              style={{\r\n                background: \"transparent\",\r\n                borderTop: \"none\",\r\n                borderRight: \"none\",\r\n                borderBottom: \"1px solid white\",\r\n                borderLeft: \"none\",\r\n                borderImage: \"initial\",\r\n                marginBottom: \"1rem\",\r\n                width: \"100%\",\r\n                paddingBottom: \"0.5rem\",\r\n                fontFamily: \"'Source Sans Pro', sans-serif\",\r\n                fontSize: \"17px\",\r\n                color: \"white\",\r\n                borderRadius: \"0px\",\r\n              }}\r\n              autoComplete=\"new-password\"\r\n            />{\" \"}\r\n            <p\r\n              style={{\r\n                textAlign: \"end\",\r\n                margin: \"0\",\r\n              }}\r\n            >\r\n              Password\r\n            </p>\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              name=\"pass\"\r\n              style={{\r\n                background: \"transparent\",\r\n                borderTop: \"none\",\r\n                borderRight: \"none\",\r\n                borderBottom: \"1px solid white\",\r\n                borderLeft: \"none\",\r\n                borderImage: \"initial\",\r\n                marginBottom: \"1rem\",\r\n                width: \"100%\",\r\n                paddingBottom: \"0.5rem\",\r\n                fontFamily: \"'Source Sans Pro', sans-serif\",\r\n                fontSize: \"17px\",\r\n                color: \"white\",\r\n                borderRadius: \"0px\",\r\n              }}\r\n              autoComplete=\"new-password\"\r\n            />\r\n            <input\r\n              type=\"submit\"\r\n              value=\"Sign up\"\r\n              style={{\r\n                padding: \"1rem\",\r\n                width: \"100%\",\r\n                border: \"none\",\r\n                borderRadius: \"50px\",\r\n                background:\r\n                  \"linear-gradient(45deg, var(--dark-bg-colour) 0%, var(--light-bg-colour) 100%)\",\r\n                color: \"white\",\r\n                fontFamily: '\"Source Sans Pro\", sans-serif',\r\n                fontSize: \"20px\",\r\n                boxShadow: \"rgb(0, 0, 0) 0px 6px 5px 0px\",\r\n              }}\r\n            />\r\n            <p style={{ margin: \"1rem 0\", color: \"red\" }}>{error}</p>\r\n            <p style={{ margin: \"1rem 0\", color: \"white\" }}>\r\n              already have an account?{\" \"}\r\n              <span>\r\n                <Link\r\n                  to={\"/login\" + location.search}\r\n                  style={{ color: \"var(--secondary-text-colour)\" }}\r\n                >\r\n                  Login\r\n                </Link>\r\n              </span>\r\n            </p>\r\n          </RouterForm>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Signup;\r\n","import { Dispatch, SetStateAction, useEffect, useState } from \"react\";\r\n\r\nfunction useLocalStorage<T>(\r\n  key: string,\r\n  initialValue: T | (() => T)\r\n): [T, Dispatch<SetStateAction<T>>] {\r\n  // Get from local storage then\r\n  // parse stored json or return initialValue\r\n  const readValue = () => {\r\n    // Prevent build error \"window is undefined\" but keep keep working\r\n    if (typeof window === \"undefined\") {\r\n      return initialValue;\r\n    }\r\n\r\n    try {\r\n      const item = window.localStorage.getItem(key);\r\n      return item ? JSON.parse(item) : initialValue;\r\n    } catch (error) {\r\n      console.warn(`Error reading localStorage key “${key}”:`, error);\r\n      return initialValue;\r\n    }\r\n  };\r\n\r\n  // State to store our value\r\n  // Pass initial state function to useState so logic is only executed once\r\n  const [storedValue, setStoredValue] = useState<T>(readValue);\r\n\r\n  // Return a wrapped version of useState's setter function that ...\r\n  // ... persists the new value to localStorage.\r\n  const setValue: Dispatch<SetStateAction<T>> = (value) => {\r\n    // Prevent build error \"window is undefined\" but keeps working\r\n    if (typeof window == \"undefined\") {\r\n      console.warn(\r\n        `Tried setting localStorage key “${key}” even though environment is not a client`\r\n      );\r\n    }\r\n\r\n    try {\r\n      // Allow value to be a function so we have the same API as useState\r\n      const newValue = value instanceof Function ? value(storedValue) : value;\r\n\r\n      // Save to local storage\r\n      window.localStorage.setItem(key, JSON.stringify(newValue));\r\n\r\n      // Save state\r\n      setStoredValue(newValue);\r\n\r\n      // We dispatch a custom event so every useLocalStorage hook are notified\r\n      window.dispatchEvent(new Event(\"local-storage\"));\r\n    } catch (error) {\r\n      console.warn(`Error setting localStorage key “${key}”:`, error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setStoredValue(readValue());\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const handleStorageChange = () => {\r\n      setStoredValue(readValue());\r\n    };\r\n\r\n    // this only works for other documents, not the current one\r\n    window.addEventListener(\"storage\", handleStorageChange);\r\n\r\n    // this is a custom event, triggered in writeValueToLocalStorage\r\n    window.addEventListener(\"local-storage\", handleStorageChange);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"storage\", handleStorageChange);\r\n      window.removeEventListener(\"local-storage\", handleStorageChange);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  return [storedValue, setValue];\r\n}\r\n\r\nexport default useLocalStorage;\r\n","const emoji = [\r\n  \"😀\",\r\n  \"😁\",\r\n  \"😂\",\r\n  \"🤣\",\r\n  \"😃\",\r\n  \"😄\",\r\n  \"😅\",\r\n  \"😆\",\r\n  \"😉\",\r\n  \"😊\",\r\n  \"😋\",\r\n  \"😎\",\r\n  \"😍\",\r\n  \"😘\",\r\n  \"😗\",\r\n  \"😙\",\r\n  \"😚\",\r\n  \"☺\",\r\n  \"🙂\",\r\n  \"🤗\",\r\n  \"🤔\",\r\n  \"😐\",\r\n  \"😑\",\r\n  \"😶\",\r\n  \"🙄\",\r\n  \"😏\",\r\n  \"😣\",\r\n  \"😥\",\r\n  \"😮\",\r\n  \"🤐\",\r\n  \"😯\",\r\n  \"😪\",\r\n  \"😫\",\r\n  \"😴\",\r\n  \"😌\",\r\n  \"🤓\",\r\n  \"😛\",\r\n  \"😜\",\r\n  \"😝\",\r\n  \"🤤\",\r\n  \"😒\",\r\n  \"😓\",\r\n  \"😔\",\r\n  \"😕\",\r\n  \"🙃\",\r\n  \"🤑\",\r\n  \"😲\",\r\n  \"☹\",\r\n  \"🙁\",\r\n  \"😖\",\r\n  \"😞\",\r\n  \"😟\",\r\n  \"😤\",\r\n  \"😢\",\r\n  \"😭\",\r\n  \"😦\",\r\n  \"😧\",\r\n  \"😨\",\r\n  \"😩\",\r\n  \"😬\",\r\n  \"😰\",\r\n  \"😱\",\r\n  \"😳\",\r\n  \"😵\",\r\n  \"😡\",\r\n  \"😠\",\r\n  \"😇\",\r\n  \"🤠\",\r\n  \"🤡\",\r\n  \"🤥\",\r\n  \"😷\",\r\n  \"🤒\",\r\n  \"🤕\",\r\n  \"🤢\",\r\n  \"🤧\",\r\n  \"😈\",\r\n  \"👿\",\r\n  \"👹\",\r\n  \"👺\",\r\n  \"💀\",\r\n  \"☠\",\r\n  \"👻\",\r\n  \"👽\",\r\n  \"👾\",\r\n  \"🤖\",\r\n  \"💩\",\r\n  \"😺\",\r\n  \"😸\",\r\n  \"😹\",\r\n  \"😻\",\r\n  \"😼\",\r\n  \"😽\",\r\n  \"🙀\",\r\n  \"😿\",\r\n  \"😾\",\r\n  \"🙈\",\r\n  \"🙉\",\r\n  \"🙊\",\r\n  \"👦\",\r\n  \"👦🏻\",\r\n  \"👦🏼\",\r\n  \"👦🏽\",\r\n  \"👦🏾\",\r\n  \"👦🏿\",\r\n  \"👧\",\r\n  \"👧🏻\",\r\n  \"👧🏼\",\r\n  \"👧🏽\",\r\n  \"👧🏾\",\r\n  \"👧🏿\",\r\n  \"👨\",\r\n  \"👨🏻\",\r\n  \"👨🏼\",\r\n  \"👨🏽\",\r\n  \"👨🏾\",\r\n  \"👨🏿\",\r\n  \"👩\",\r\n  \"👩🏻\",\r\n  \"👩🏼\",\r\n  \"👩🏽\",\r\n  \"👩🏾\",\r\n  \"👩🏿\",\r\n  \"👴\",\r\n  \"👴🏻\",\r\n  \"👴🏼\",\r\n  \"👴🏽\",\r\n  \"👴🏾\",\r\n  \"👴🏿\",\r\n  \"👵\",\r\n  \"👵🏻\",\r\n  \"👵🏼\",\r\n  \"👵🏽\",\r\n  \"👵🏾\",\r\n  \"👵🏿\",\r\n  \"👶\",\r\n  \"👶🏻\",\r\n  \"👶🏼\",\r\n  \"👶🏽\",\r\n  \"👶🏾\",\r\n  \"👶🏿\",\r\n  \"👼\",\r\n  \"👼🏻\",\r\n  \"👼🏼\",\r\n  \"👼🏽\",\r\n  \"👼🏾\",\r\n  \"👼🏿\",\r\n  \"👮\",\r\n  \"👮🏻\",\r\n  \"👮🏼\",\r\n  \"👮🏽\",\r\n  \"👮🏾\",\r\n  \"👮🏿\",\r\n  \"🕵\",\r\n  \"🕵🏻\",\r\n  \"🕵🏼\",\r\n  \"🕵🏽\",\r\n  \"🕵🏾\",\r\n  \"🕵🏿\",\r\n  \"💂\",\r\n  \"💂🏻\",\r\n  \"💂🏼\",\r\n  \"💂🏽\",\r\n  \"💂🏾\",\r\n  \"💂🏿\",\r\n  \"👷\",\r\n  \"👷🏻\",\r\n  \"👷🏼\",\r\n  \"👷🏽\",\r\n  \"👷🏾\",\r\n  \"👷🏿\",\r\n  \"👳\",\r\n  \"👳🏻\",\r\n  \"👳🏼\",\r\n  \"👳🏽\",\r\n  \"👳🏾\",\r\n  \"👳🏿\",\r\n  \"👱\",\r\n  \"👱🏻\",\r\n  \"👱🏼\",\r\n  \"👱🏽\",\r\n  \"👱🏾\",\r\n  \"👱🏿\",\r\n  \"🎅\",\r\n  \"🎅🏻\",\r\n  \"🎅🏼\",\r\n  \"🎅🏽\",\r\n  \"🎅🏾\",\r\n  \"🎅🏿\",\r\n  \"🤶\",\r\n  \"🤶🏻\",\r\n  \"🤶🏼\",\r\n  \"🤶🏽\",\r\n  \"🤶🏾\",\r\n  \"🤶🏿\",\r\n  \"👸\",\r\n  \"👸🏻\",\r\n  \"👸🏼\",\r\n  \"👸🏽\",\r\n  \"👸🏾\",\r\n  \"👸🏿\",\r\n  \"🤴\",\r\n  \"🤴🏻\",\r\n  \"🤴🏼\",\r\n  \"🤴🏽\",\r\n  \"🤴🏾\",\r\n  \"🤴🏿\",\r\n  \"👰\",\r\n  \"👰🏻\",\r\n  \"👰🏼\",\r\n  \"👰🏽\",\r\n  \"👰🏾\",\r\n  \"👰🏿\",\r\n  \"🤵\",\r\n  \"🤵🏻\",\r\n  \"🤵🏼\",\r\n  \"🤵🏽\",\r\n  \"🤵🏾\",\r\n  \"🤵🏿\",\r\n  \"🤰\",\r\n  \"🤰🏻\",\r\n  \"🤰🏼\",\r\n  \"🤰🏽\",\r\n  \"🤰🏾\",\r\n  \"🤰🏿\",\r\n  \"👲\",\r\n  \"👲🏻\",\r\n  \"👲🏼\",\r\n  \"👲🏽\",\r\n  \"👲🏾\",\r\n  \"👲🏿\",\r\n  \"🙍\",\r\n  \"🙍🏻\",\r\n  \"🙍🏼\",\r\n  \"🙍🏽\",\r\n  \"🙍🏾\",\r\n  \"🙍🏿\",\r\n  \"🙎\",\r\n  \"🙎🏻\",\r\n  \"🙎🏼\",\r\n  \"🙎🏽\",\r\n  \"🙎🏾\",\r\n  \"🙎🏿\",\r\n  \"🙅\",\r\n  \"🙅🏻\",\r\n  \"🙅🏼\",\r\n  \"🙅🏽\",\r\n  \"🙅🏾\",\r\n  \"🙅🏿\",\r\n  \"🙆\",\r\n  \"🙆🏻\",\r\n  \"🙆🏼\",\r\n  \"🙆🏽\",\r\n  \"🙆🏾\",\r\n  \"🙆🏿\",\r\n  \"💁\",\r\n  \"💁🏻\",\r\n  \"💁🏼\",\r\n  \"💁🏽\",\r\n  \"💁🏾\",\r\n  \"💁🏿\",\r\n  \"🙋\",\r\n  \"🙋🏻\",\r\n  \"🙋🏼\",\r\n  \"🙋🏽\",\r\n  \"🙋🏾\",\r\n  \"🙋🏿\",\r\n  \"🙇\",\r\n  \"🙇🏻\",\r\n  \"🙇🏼\",\r\n  \"🙇🏽\",\r\n  \"🙇🏾\",\r\n  \"🙇🏿\",\r\n  \"🤦\",\r\n  \"🤦🏻\",\r\n  \"🤦🏼\",\r\n  \"🤦🏽\",\r\n  \"🤦🏾\",\r\n  \"🤦🏿\",\r\n  \"🤷\",\r\n  \"🤷🏻\",\r\n  \"🤷🏼\",\r\n  \"🤷🏽\",\r\n  \"🤷🏾\",\r\n  \"🤷🏿\",\r\n  \"💆\",\r\n  \"💆🏻\",\r\n  \"💆🏼\",\r\n  \"💆🏽\",\r\n  \"💆🏾\",\r\n  \"💆🏿\",\r\n  \"💇\",\r\n  \"💇🏻\",\r\n  \"💇🏼\",\r\n  \"💇🏽\",\r\n  \"💇🏾\",\r\n  \"💇🏿\",\r\n  \"🚶\",\r\n  \"🚶🏻\",\r\n  \"🚶🏼\",\r\n  \"🚶🏽\",\r\n  \"🚶🏾\",\r\n  \"🚶🏿\",\r\n  \"🏃\",\r\n  \"🏃🏻\",\r\n  \"🏃🏼\",\r\n  \"🏃🏽\",\r\n  \"🏃🏾\",\r\n  \"🏃🏿\",\r\n  \"💃\",\r\n  \"💃🏻\",\r\n  \"💃🏼\",\r\n  \"💃🏽\",\r\n  \"💃🏾\",\r\n  \"💃🏿\",\r\n  \"🕺\",\r\n  \"🕺🏻\",\r\n  \"🕺🏼\",\r\n  \"🕺🏽\",\r\n  \"🕺🏾\",\r\n  \"🕺🏿\",\r\n  \"👯\",\r\n  \"🕴\",\r\n  \"🗣\",\r\n  \"👤\",\r\n  \"👥\",\r\n  \"🤺\",\r\n  \"🏇\",\r\n  \"⛷\",\r\n  \"🏂\",\r\n  \"🏌\",\r\n  \"🏄\",\r\n  \"🏄🏻\",\r\n  \"🏄🏼\",\r\n  \"🏄🏽\",\r\n  \"🏄🏾\",\r\n  \"🏄🏿\",\r\n  \"🚣\",\r\n  \"🚣🏻\",\r\n  \"🚣🏼\",\r\n  \"🚣🏽\",\r\n  \"🚣🏾\",\r\n  \"🚣🏿\",\r\n  \"🏊\",\r\n  \"🏊🏻\",\r\n  \"🏊🏼\",\r\n  \"🏊🏽\",\r\n  \"🏊🏾\",\r\n  \"🏊🏿\",\r\n  \"⛹\",\r\n  \"⛹🏻\",\r\n  \"⛹🏼\",\r\n  \"⛹🏽\",\r\n  \"⛹🏾\",\r\n  \"⛹🏿\",\r\n  \"🏋\",\r\n  \"🏋🏻\",\r\n  \"🏋🏼\",\r\n  \"🏋🏽\",\r\n  \"🏋🏾\",\r\n  \"🏋🏿\",\r\n  \"🚴\",\r\n  \"🚴🏻\",\r\n  \"🚴🏼\",\r\n  \"🚴🏽\",\r\n  \"🚴🏾\",\r\n  \"🚴🏿\",\r\n  \"🚵\",\r\n  \"🚵🏻\",\r\n  \"🚵🏼\",\r\n  \"🚵🏽\",\r\n  \"🚵🏾\",\r\n  \"🚵🏿\",\r\n  \"🏎\",\r\n  \"🏍\",\r\n  \"🤸\",\r\n  \"🤸🏻\",\r\n  \"🤸🏼\",\r\n  \"🤸🏽\",\r\n  \"🤸🏾\",\r\n  \"🤸🏿\",\r\n  \"🤼\",\r\n  \"🤼🏻\",\r\n  \"🤼🏼\",\r\n  \"🤼🏽\",\r\n  \"🤼🏾\",\r\n  \"🤼🏿\",\r\n  \"🤽\",\r\n  \"🤽🏻\",\r\n  \"🤽🏼\",\r\n  \"🤽🏽\",\r\n  \"🤽🏾\",\r\n  \"🤽🏿\",\r\n  \"🤾\",\r\n  \"🤾🏻\",\r\n  \"🤾🏼\",\r\n  \"🤾🏽\",\r\n  \"🤾🏾\",\r\n  \"🤾🏿\",\r\n  \"🤹\",\r\n  \"🤹🏻\",\r\n  \"🤹🏼\",\r\n  \"🤹🏽\",\r\n  \"🤹🏾\",\r\n  \"🤹🏿\",\r\n  \"👫\",\r\n  \"👬\",\r\n  \"👭\",\r\n  \"💏\",\r\n  \"👩‍❤️‍💋‍👨\",\r\n  \"👨‍❤️‍💋‍👨\",\r\n  \"👩‍❤️‍💋‍👩\",\r\n  \"💑\",\r\n  \"👩‍❤️‍👨\",\r\n  \"👨‍❤️‍👨\",\r\n  \"👩‍❤️‍👩\",\r\n  \"👪\",\r\n  \"👨‍👩‍👦\",\r\n  \"👨‍👩‍👧\",\r\n  \"👨‍👩‍👧‍👦\",\r\n  \"👨‍👩‍👦‍👦\",\r\n  \"👨‍👩‍👧‍👧\",\r\n  \"👨‍👨‍👦\",\r\n  \"👨‍👨‍👧\",\r\n  \"👨‍👨‍👧‍👦\",\r\n  \"👨‍👨‍👦‍👦\",\r\n  \"👨‍👨‍👧‍👧\",\r\n  \"👩‍👩‍👦\",\r\n  \"👩‍👩‍👧\",\r\n  \"👩‍👩‍👧‍👦\",\r\n  \"👩‍👩‍👦‍👦\",\r\n  \"👩‍👩‍👧‍👧\",\r\n  \"🏻\",\r\n  \"🏼\",\r\n  \"🏽\",\r\n  \"🏾\",\r\n  \"🏿\",\r\n  \"💪\",\r\n  \"💪🏻\",\r\n  \"💪🏼\",\r\n  \"💪🏽\",\r\n  \"💪🏾\",\r\n  \"💪🏿\",\r\n  \"🤳\",\r\n  \"🤳🏻\",\r\n  \"🤳🏼\",\r\n  \"🤳🏽\",\r\n  \"🤳🏾\",\r\n  \"🤳🏿\",\r\n  \"👈\",\r\n  \"👈🏻\",\r\n  \"👈🏼\",\r\n  \"👈🏽\",\r\n  \"👈🏾\",\r\n  \"👈🏿\",\r\n  \"👉\",\r\n  \"👉🏻\",\r\n  \"👉🏼\",\r\n  \"👉🏽\",\r\n  \"👉🏾\",\r\n  \"👉🏿\",\r\n  \"☝\",\r\n  \"☝🏻\",\r\n  \"☝🏼\",\r\n  \"☝🏽\",\r\n  \"☝🏾\",\r\n  \"☝🏿\",\r\n  \"👆\",\r\n  \"👆🏻\",\r\n  \"👆🏼\",\r\n  \"👆🏽\",\r\n  \"👆🏾\",\r\n  \"👆🏿\",\r\n  \"🖕\",\r\n  \"🖕🏻\",\r\n  \"🖕🏼\",\r\n  \"🖕🏽\",\r\n  \"🖕🏾\",\r\n  \"🖕🏿\",\r\n  \"👇\",\r\n  \"👇🏻\",\r\n  \"👇🏼\",\r\n  \"👇🏽\",\r\n  \"👇🏾\",\r\n  \"👇🏿\",\r\n  \"✌\",\r\n  \"✌🏻\",\r\n  \"✌🏼\",\r\n  \"✌🏽\",\r\n  \"✌🏾\",\r\n  \"✌🏿\",\r\n  \"🤞\",\r\n  \"🤞🏻\",\r\n  \"🤞🏼\",\r\n  \"🤞🏽\",\r\n  \"🤞🏾\",\r\n  \"🤞🏿\",\r\n  \"🖖\",\r\n  \"🖖🏻\",\r\n  \"🖖🏼\",\r\n  \"🖖🏽\",\r\n  \"🖖🏾\",\r\n  \"🖖🏿\",\r\n  \"🤘\",\r\n  \"🤘🏻\",\r\n  \"🤘🏼\",\r\n  \"🤘🏽\",\r\n  \"🤘🏾\",\r\n  \"🤘🏿\",\r\n  \"🤙\",\r\n  \"🤙🏻\",\r\n  \"🤙🏼\",\r\n  \"🤙🏽\",\r\n  \"🤙🏾\",\r\n  \"🤙🏿\",\r\n  \"🖐\",\r\n  \"🖐🏻\",\r\n  \"🖐🏼\",\r\n  \"🖐🏽\",\r\n  \"🖐🏾\",\r\n  \"🖐🏿\",\r\n  \"✋\",\r\n  \"✋🏻\",\r\n  \"✋🏼\",\r\n  \"✋🏽\",\r\n  \"✋🏾\",\r\n  \"✋🏿\",\r\n  \"👌\",\r\n  \"👌🏻\",\r\n  \"👌🏼\",\r\n  \"👌🏽\",\r\n  \"👌🏾\",\r\n  \"👌🏿\",\r\n  \"👍\",\r\n  \"👍🏻\",\r\n  \"👍🏼\",\r\n  \"👍🏽\",\r\n  \"👍🏾\",\r\n  \"👍🏿\",\r\n  \"👎\",\r\n  \"👎🏻\",\r\n  \"👎🏼\",\r\n  \"👎🏽\",\r\n  \"👎🏾\",\r\n  \"👎🏿\",\r\n  \"✊\",\r\n  \"✊🏻\",\r\n  \"✊🏼\",\r\n  \"✊🏽\",\r\n  \"✊🏾\",\r\n  \"✊🏿\",\r\n  \"👊\",\r\n  \"👊🏻\",\r\n  \"👊🏼\",\r\n  \"👊🏽\",\r\n  \"👊🏾\",\r\n  \"👊🏿\",\r\n  \"🤛\",\r\n  \"🤛🏻\",\r\n  \"🤛🏼\",\r\n  \"🤛🏽\",\r\n  \"🤛🏾\",\r\n  \"🤛🏿\",\r\n  \"🤜\",\r\n  \"🤜🏻\",\r\n  \"🤜🏼\",\r\n  \"🤜🏽\",\r\n  \"🤜🏾\",\r\n  \"🤜🏿\",\r\n  \"🤚\",\r\n  \"🤚🏻\",\r\n  \"🤚🏼\",\r\n  \"🤚🏽\",\r\n  \"🤚🏾\",\r\n  \"🤚🏿\",\r\n  \"👋\",\r\n  \"👋🏻\",\r\n  \"👋🏼\",\r\n  \"👋🏽\",\r\n  \"👋🏾\",\r\n  \"👋🏿\",\r\n  \"👏\",\r\n  \"👏🏻\",\r\n  \"👏🏼\",\r\n  \"👏🏽\",\r\n  \"👏🏾\",\r\n  \"👏🏿\",\r\n  \"✍\",\r\n  \"✍🏻\",\r\n  \"✍🏼\",\r\n  \"✍🏽\",\r\n  \"✍🏾\",\r\n  \"✍🏿\",\r\n  \"👐\",\r\n  \"👐🏻\",\r\n  \"👐🏼\",\r\n  \"👐🏽\",\r\n  \"👐🏾\",\r\n  \"👐🏿\",\r\n  \"🙌\",\r\n  \"🙌🏻\",\r\n  \"🙌🏼\",\r\n  \"🙌🏽\",\r\n  \"🙌🏾\",\r\n  \"🙌🏿\",\r\n  \"🙏\",\r\n  \"🙏🏻\",\r\n  \"🙏🏼\",\r\n  \"🙏🏽\",\r\n  \"🙏🏾\",\r\n  \"🙏🏿\",\r\n  \"🤝\",\r\n  \"🤝🏻\",\r\n  \"🤝🏼\",\r\n  \"🤝🏽\",\r\n  \"🤝🏾\",\r\n  \"🤝🏿\",\r\n  \"💅\",\r\n  \"💅🏻\",\r\n  \"💅🏼\",\r\n  \"💅🏽\",\r\n  \"💅🏾\",\r\n  \"💅🏿\",\r\n  \"👂\",\r\n  \"👂🏻\",\r\n  \"👂🏼\",\r\n  \"👂🏽\",\r\n  \"👂🏾\",\r\n  \"👂🏿\",\r\n  \"👃\",\r\n  \"👃🏻\",\r\n  \"👃🏼\",\r\n  \"👃🏽\",\r\n  \"👃🏾\",\r\n  \"👃🏿\",\r\n  \"👣\",\r\n  \"👀\",\r\n  \"👁\",\r\n  \"👁‍🗨\",\r\n  \"👅\",\r\n  \"👄\",\r\n  \"💋\",\r\n  \"💘\",\r\n  \"❤\",\r\n  \"💓\",\r\n  \"💔\",\r\n  \"💕\",\r\n  \"💖\",\r\n  \"💗\",\r\n  \"💙\",\r\n  \"💚\",\r\n  \"💛\",\r\n  \"💜\",\r\n  \"🖤\",\r\n  \"💝\",\r\n  \"💞\",\r\n  \"💟\",\r\n  \"❣\",\r\n  \"💌\",\r\n  \"💤\",\r\n  \"💢\",\r\n  \"💣\",\r\n  \"💥\",\r\n  \"💦\",\r\n  \"💨\",\r\n  \"💫\",\r\n  \"💬\",\r\n  \"🗨\",\r\n  \"🗯\",\r\n  \"💭\",\r\n  \"🕳\",\r\n  \"👓\",\r\n  \"🕶\",\r\n  \"👔\",\r\n  \"👕\",\r\n  \"👖\",\r\n  \"👗\",\r\n  \"👘\",\r\n  \"👙\",\r\n  \"👚\",\r\n  \"👛\",\r\n  \"👜\",\r\n  \"👝\",\r\n  \"🛍\",\r\n  \"🎒\",\r\n  \"👞\",\r\n  \"👟\",\r\n  \"👠\",\r\n  \"👡\",\r\n  \"👢\",\r\n  \"👑\",\r\n  \"👒\",\r\n  \"🎩\",\r\n  \"🎓\",\r\n  \"⛑\",\r\n  \"📿\",\r\n  \"💄\",\r\n  \"💍\",\r\n  \"💎\",\r\n  \"🐵\",\r\n  \"🐒\",\r\n  \"🦍\",\r\n  \"🐶\",\r\n  \"🐕\",\r\n  \"🐩\",\r\n  \"🐺\",\r\n  \"🦊\",\r\n  \"🐱\",\r\n  \"🐈\",\r\n  \"🦁\",\r\n  \"🐯\",\r\n  \"🐅\",\r\n  \"🐆\",\r\n  \"🐴\",\r\n  \"🐎\",\r\n  \"🦌\",\r\n  \"🦄\",\r\n  \"🐮\",\r\n  \"🐂\",\r\n  \"🐃\",\r\n  \"🐄\",\r\n  \"🐷\",\r\n  \"🐖\",\r\n  \"🐗\",\r\n  \"🐽\",\r\n  \"🐏\",\r\n  \"🐑\",\r\n  \"🐐\",\r\n  \"🐪\",\r\n  \"🐫\",\r\n  \"🐘\",\r\n  \"🦏\",\r\n  \"🐭\",\r\n  \"🐁\",\r\n  \"🐀\",\r\n  \"🐹\",\r\n  \"🐰\",\r\n  \"🐇\",\r\n  \"🐿\",\r\n  \"🦇\",\r\n  \"🐻\",\r\n  \"🐨\",\r\n  \"🐼\",\r\n  \"🐾\",\r\n  \"🦃\",\r\n  \"🐔\",\r\n  \"🐓\",\r\n  \"🐣\",\r\n  \"🐤\",\r\n  \"🐥\",\r\n  \"🐦\",\r\n  \"🐧\",\r\n  \"🕊\",\r\n  \"🦅\",\r\n  \"🦆\",\r\n  \"🦉\",\r\n  \"🐸\",\r\n  \"🐊\",\r\n  \"🐢\",\r\n  \"🦎\",\r\n  \"🐍\",\r\n  \"🐲\",\r\n  \"🐉\",\r\n  \"🐳\",\r\n  \"🐋\",\r\n  \"🐬\",\r\n  \"🐟\",\r\n  \"🐠\",\r\n  \"🐡\",\r\n  \"🦈\",\r\n  \"🐙\",\r\n  \"🐚\",\r\n  \"🦀\",\r\n  \"🦐\",\r\n  \"🦑\",\r\n  \"🦋\",\r\n  \"🐌\",\r\n  \"🐛\",\r\n  \"🐜\",\r\n  \"🐝\",\r\n  \"🐞\",\r\n  \"🕷\",\r\n  \"🕸\",\r\n  \"🦂\",\r\n  \"💐\",\r\n  \"🌸\",\r\n  \"💮\",\r\n  \"🏵\",\r\n  \"🌹\",\r\n  \"🥀\",\r\n  \"🌺\",\r\n  \"🌻\",\r\n  \"🌼\",\r\n  \"🌷\",\r\n  \"🌱\",\r\n  \"🌲\",\r\n  \"🌳\",\r\n  \"🌴\",\r\n  \"🌵\",\r\n  \"🌾\",\r\n  \"🌿\",\r\n  \"☘\",\r\n  \"🍀\",\r\n  \"🍁\",\r\n  \"🍂\",\r\n  \"🍃\",\r\n  \"🍇\",\r\n  \"🍈\",\r\n  \"🍉\",\r\n  \"🍊\",\r\n  \"🍋\",\r\n  \"🍌\",\r\n  \"🍍\",\r\n  \"🍎\",\r\n  \"🍏\",\r\n  \"🍐\",\r\n  \"🍑\",\r\n  \"🍒\",\r\n  \"🍓\",\r\n  \"🥝\",\r\n  \"🍅\",\r\n  \"🥑\",\r\n  \"🍆\",\r\n  \"🥔\",\r\n  \"🥕\",\r\n  \"🌽\",\r\n  \"🌶\",\r\n  \"🥒\",\r\n  \"🍄\",\r\n  \"🥜\",\r\n  \"🌰\",\r\n  \"🍞\",\r\n  \"🥐\",\r\n  \"🥖\",\r\n  \"🥞\",\r\n  \"🧀\",\r\n  \"🍖\",\r\n  \"🍗\",\r\n  \"🥓\",\r\n  \"🍔\",\r\n  \"🍟\",\r\n  \"🍕\",\r\n  \"🌭\",\r\n  \"🌮\",\r\n  \"🌯\",\r\n  \"🥙\",\r\n  \"🥚\",\r\n  \"🍳\",\r\n  \"🥘\",\r\n  \"🍲\",\r\n  \"🥗\",\r\n  \"🍿\",\r\n  \"🍱\",\r\n  \"🍘\",\r\n  \"🍙\",\r\n  \"🍚\",\r\n  \"🍛\",\r\n  \"🍜\",\r\n  \"🍝\",\r\n  \"🍠\",\r\n  \"🍢\",\r\n  \"🍣\",\r\n  \"🍤\",\r\n  \"🍥\",\r\n  \"🍡\",\r\n  \"🍦\",\r\n  \"🍧\",\r\n  \"🍨\",\r\n  \"🍩\",\r\n  \"🍪\",\r\n  \"🎂\",\r\n  \"🍰\",\r\n  \"🍫\",\r\n  \"🍬\",\r\n  \"🍭\",\r\n  \"🍮\",\r\n  \"🍯\",\r\n  \"🍼\",\r\n  \"🥛\",\r\n  \"☕\",\r\n  \"🍵\",\r\n  \"🍶\",\r\n  \"🍾\",\r\n  \"🍷\",\r\n  \"🍸\",\r\n  \"🍹\",\r\n  \"🍺\",\r\n  \"🍻\",\r\n  \"🥂\",\r\n  \"🥃\",\r\n  \"🍽\",\r\n  \"🍴\",\r\n  \"🥄\",\r\n  \"🔪\",\r\n  \"🏺\",\r\n  \"🌍\",\r\n  \"🌎\",\r\n  \"🌏\",\r\n  \"🌐\",\r\n  \"🗺\",\r\n  \"🗾\",\r\n  \"🏔\",\r\n  \"⛰\",\r\n  \"🌋\",\r\n  \"🗻\",\r\n  \"🏕\",\r\n  \"🏖\",\r\n  \"🏜\",\r\n  \"🏝\",\r\n  \"🏞\",\r\n  \"🏟\",\r\n  \"🏛\",\r\n  \"🏗\",\r\n  \"🏘\",\r\n  \"🏙\",\r\n  \"🏚\",\r\n  \"🏠\",\r\n  \"🏡\",\r\n  \"🏢\",\r\n  \"🏣\",\r\n  \"🏤\",\r\n  \"🏥\",\r\n  \"🏦\",\r\n  \"🏨\",\r\n  \"🏩\",\r\n  \"🏪\",\r\n  \"🏫\",\r\n  \"🏬\",\r\n  \"🏭\",\r\n  \"🏯\",\r\n  \"🏰\",\r\n  \"💒\",\r\n  \"🗼\",\r\n  \"🗽\",\r\n  \"⛪\",\r\n  \"🕌\",\r\n  \"🕍\",\r\n  \"⛩\",\r\n  \"🕋\",\r\n  \"⛲\",\r\n  \"⛺\",\r\n  \"🌁\",\r\n  \"🌃\",\r\n  \"🌄\",\r\n  \"🌅\",\r\n  \"🌆\",\r\n  \"🌇\",\r\n  \"🌉\",\r\n  \"♨\",\r\n  \"🌌\",\r\n  \"🎠\",\r\n  \"🎡\",\r\n  \"🎢\",\r\n  \"💈\",\r\n  \"🎪\",\r\n  \"🎭\",\r\n  \"🖼\",\r\n  \"🎨\",\r\n  \"🎰\",\r\n  \"🚂\",\r\n  \"🚃\",\r\n  \"🚄\",\r\n  \"🚅\",\r\n  \"🚆\",\r\n  \"🚇\",\r\n  \"🚈\",\r\n  \"🚉\",\r\n  \"🚊\",\r\n  \"🚝\",\r\n  \"🚞\",\r\n  \"🚋\",\r\n  \"🚌\",\r\n  \"🚍\",\r\n  \"🚎\",\r\n  \"🚐\",\r\n  \"🚑\",\r\n  \"🚒\",\r\n  \"🚓\",\r\n  \"🚔\",\r\n  \"🚕\",\r\n  \"🚖\",\r\n  \"🚗\",\r\n  \"🚘\",\r\n  \"🚙\",\r\n  \"🚚\",\r\n  \"🚛\",\r\n  \"🚜\",\r\n  \"🚲\",\r\n  \"🛴\",\r\n  \"🛵\",\r\n  \"🚏\",\r\n  \"🛣\",\r\n  \"🛤\",\r\n  \"⛽\",\r\n  \"🚨\",\r\n  \"🚥\",\r\n  \"🚦\",\r\n  \"🚧\",\r\n  \"🛑\",\r\n  \"⚓\",\r\n  \"⛵\",\r\n  \"🛶\",\r\n  \"🚤\",\r\n  \"🛳\",\r\n  \"⛴\",\r\n  \"🛥\",\r\n  \"🚢\",\r\n  \"✈\",\r\n  \"🛩\",\r\n  \"🛫\",\r\n  \"🛬\",\r\n  \"💺\",\r\n  \"🚁\",\r\n  \"🚟\",\r\n  \"🚠\",\r\n  \"🚡\",\r\n  \"🚀\",\r\n  \"🛰\",\r\n  \"🛎\",\r\n  \"🚪\",\r\n  \"🛌\",\r\n  \"🛏\",\r\n  \"🛋\",\r\n  \"🚽\",\r\n  \"🚿\",\r\n  \"🛀\",\r\n  \"🛀🏻\",\r\n  \"🛀🏼\",\r\n  \"🛀🏽\",\r\n  \"🛀🏾\",\r\n  \"🛀🏿\",\r\n  \"🛁\",\r\n  \"⌛\",\r\n  \"⏳\",\r\n  \"⌚\",\r\n  \"⏰\",\r\n  \"⏱\",\r\n  \"⏲\",\r\n  \"🕰\",\r\n  \"🕛\",\r\n  \"🕧\",\r\n  \"🕐\",\r\n  \"🕜\",\r\n  \"🕑\",\r\n  \"🕝\",\r\n  \"🕒\",\r\n  \"🕞\",\r\n  \"🕓\",\r\n  \"🕟\",\r\n  \"🕔\",\r\n  \"🕠\",\r\n  \"🕕\",\r\n  \"🕡\",\r\n  \"🕖\",\r\n  \"🕢\",\r\n  \"🕗\",\r\n  \"🕣\",\r\n  \"🕘\",\r\n  \"🕤\",\r\n  \"🕙\",\r\n  \"🕥\",\r\n  \"🕚\",\r\n  \"🕦\",\r\n  \"🌑\",\r\n  \"🌒\",\r\n  \"🌓\",\r\n  \"🌔\",\r\n  \"🌕\",\r\n  \"🌖\",\r\n  \"🌗\",\r\n  \"🌘\",\r\n  \"🌙\",\r\n  \"🌚\",\r\n  \"🌛\",\r\n  \"🌜\",\r\n  \"🌡\",\r\n  \"☀\",\r\n  \"🌝\",\r\n  \"🌞\",\r\n  \"⭐\",\r\n  \"🌟\",\r\n  \"🌠\",\r\n  \"☁\",\r\n  \"⛅\",\r\n  \"⛈\",\r\n  \"🌤\",\r\n  \"🌥\",\r\n  \"🌦\",\r\n  \"🌧\",\r\n  \"🌨\",\r\n  \"🌩\",\r\n  \"🌪\",\r\n  \"🌫\",\r\n  \"🌬\",\r\n  \"🌀\",\r\n  \"🌈\",\r\n  \"🌂\",\r\n  \"☂\",\r\n  \"☔\",\r\n  \"⛱\",\r\n  \"⚡\",\r\n  \"❄\",\r\n  \"☃\",\r\n  \"⛄\",\r\n  \"☄\",\r\n  \"🔥\",\r\n  \"💧\",\r\n  \"🌊\",\r\n  \"🎃\",\r\n  \"🎄\",\r\n  \"🎆\",\r\n  \"🎇\",\r\n  \"✨\",\r\n  \"🎈\",\r\n  \"🎉\",\r\n  \"🎊\",\r\n  \"🎋\",\r\n  \"🎍\",\r\n  \"🎎\",\r\n  \"🎏\",\r\n  \"🎐\",\r\n  \"🎑\",\r\n  \"🎀\",\r\n  \"🎁\",\r\n  \"🎗\",\r\n  \"🎟\",\r\n  \"🎫\",\r\n  \"🎖\",\r\n  \"🏆\",\r\n  \"🏅\",\r\n  \"🥇\",\r\n  \"🥈\",\r\n  \"🥉\",\r\n  \"⚽\",\r\n  \"⚾\",\r\n  \"🏀\",\r\n  \"🏐\",\r\n  \"🏈\",\r\n  \"🏉\",\r\n  \"🎾\",\r\n  \"🎱\",\r\n  \"🎳\",\r\n  \"🏏\",\r\n  \"🏑\",\r\n  \"🏒\",\r\n  \"🏓\",\r\n  \"🏸\",\r\n  \"🥊\",\r\n  \"🥋\",\r\n  \"🥅\",\r\n  \"🎯\",\r\n  \"⛳\",\r\n  \"⛸\",\r\n  \"🎣\",\r\n  \"🎽\",\r\n  \"🎿\",\r\n  \"🎮\",\r\n  \"🕹\",\r\n  \"🎲\",\r\n  \"♠\",\r\n  \"♥\",\r\n  \"♦\",\r\n  \"♣\",\r\n  \"🃏\",\r\n  \"🀄\",\r\n  \"🎴\",\r\n  \"🔇\",\r\n  \"🔈\",\r\n  \"🔉\",\r\n  \"🔊\",\r\n  \"📢\",\r\n  \"📣\",\r\n  \"📯\",\r\n  \"🔔\",\r\n  \"🔕\",\r\n  \"🎼\",\r\n  \"🎵\",\r\n  \"🎶\",\r\n  \"🎙\",\r\n  \"🎚\",\r\n  \"🎛\",\r\n  \"🎤\",\r\n  \"🎧\",\r\n  \"📻\",\r\n  \"🎷\",\r\n  \"🎸\",\r\n  \"🎹\",\r\n  \"🎺\",\r\n  \"🎻\",\r\n  \"🥁\",\r\n  \"📱\",\r\n  \"📲\",\r\n  \"☎\",\r\n  \"📞\",\r\n  \"📟\",\r\n  \"📠\",\r\n  \"🔋\",\r\n  \"🔌\",\r\n  \"💻\",\r\n  \"🖥\",\r\n  \"🖨\",\r\n  \"⌨\",\r\n  \"🖱\",\r\n  \"🖲\",\r\n  \"💽\",\r\n  \"💾\",\r\n  \"💿\",\r\n  \"📀\",\r\n  \"🎥\",\r\n  \"🎞\",\r\n  \"📽\",\r\n  \"🎬\",\r\n  \"📺\",\r\n  \"📷\",\r\n  \"📸\",\r\n  \"📹\",\r\n  \"📼\",\r\n  \"🔍\",\r\n  \"🔎\",\r\n  \"🔬\",\r\n  \"🔭\",\r\n  \"📡\",\r\n  \"🕯\",\r\n  \"💡\",\r\n  \"🔦\",\r\n  \"🏮\",\r\n  \"📔\",\r\n  \"📕\",\r\n  \"📖\",\r\n  \"📗\",\r\n  \"📘\",\r\n  \"📙\",\r\n  \"📚\",\r\n  \"📓\",\r\n  \"📒\",\r\n  \"📃\",\r\n  \"📜\",\r\n  \"📄\",\r\n  \"📰\",\r\n  \"🗞\",\r\n  \"📑\",\r\n  \"🔖\",\r\n  \"🏷\",\r\n  \"💰\",\r\n  \"💴\",\r\n  \"💵\",\r\n  \"💶\",\r\n  \"💷\",\r\n  \"💸\",\r\n  \"💳\",\r\n  \"💹\",\r\n  \"💱\",\r\n  \"💲\",\r\n  \"✉\",\r\n  \"📧\",\r\n  \"📨\",\r\n  \"📩\",\r\n  \"📤\",\r\n  \"📥\",\r\n  \"📦\",\r\n  \"📫\",\r\n  \"📪\",\r\n  \"📬\",\r\n  \"📭\",\r\n  \"📮\",\r\n  \"🗳\",\r\n  \"✏\",\r\n  \"✒\",\r\n  \"🖋\",\r\n  \"🖊\",\r\n  \"🖌\",\r\n  \"🖍\",\r\n  \"📝\",\r\n  \"💼\",\r\n  \"📁\",\r\n  \"📂\",\r\n  \"🗂\",\r\n  \"📅\",\r\n  \"📆\",\r\n  \"🗒\",\r\n  \"🗓\",\r\n  \"📇\",\r\n  \"📈\",\r\n  \"📉\",\r\n  \"📊\",\r\n  \"📋\",\r\n  \"📌\",\r\n  \"📍\",\r\n  \"📎\",\r\n  \"🖇\",\r\n  \"📏\",\r\n  \"📐\",\r\n  \"✂\",\r\n  \"🗃\",\r\n  \"🗄\",\r\n  \"🗑\",\r\n  \"🔒\",\r\n  \"🔓\",\r\n  \"🔏\",\r\n  \"🔐\",\r\n  \"🔑\",\r\n  \"🗝\",\r\n  \"🔨\",\r\n  \"⛏\",\r\n  \"⚒\",\r\n  \"🛠\",\r\n  \"🗡\",\r\n  \"⚔\",\r\n  \"🔫\",\r\n  \"🏹\",\r\n  \"🛡\",\r\n  \"🔧\",\r\n  \"🔩\",\r\n  \"⚙\",\r\n  \"🗜\",\r\n  \"⚗\",\r\n  \"⚖\",\r\n  \"🔗\",\r\n  \"⛓\",\r\n  \"💉\",\r\n  \"💊\",\r\n  \"🚬\",\r\n  \"⚰\",\r\n  \"⚱\",\r\n  \"🗿\",\r\n  \"🛢\",\r\n  \"🔮\",\r\n  \"🛒\",\r\n  \"🏧\",\r\n  \"🚮\",\r\n  \"🚰\",\r\n  \"♿\",\r\n  \"🚹\",\r\n  \"🚺\",\r\n  \"🚻\",\r\n  \"🚼\",\r\n  \"🚾\",\r\n  \"🛂\",\r\n  \"🛃\",\r\n  \"🛄\",\r\n  \"🛅\",\r\n  \"⚠\",\r\n  \"🚸\",\r\n  \"⛔\",\r\n  \"🚫\",\r\n  \"🚳\",\r\n  \"🚭\",\r\n  \"🚯\",\r\n  \"🚱\",\r\n  \"🚷\",\r\n  \"📵\",\r\n  \"🔞\",\r\n  \"☢\",\r\n  \"☣\",\r\n  \"⬆\",\r\n  \"↗\",\r\n  \"➡\",\r\n  \"↘\",\r\n  \"⬇\",\r\n  \"↙\",\r\n  \"⬅\",\r\n  \"↖\",\r\n  \"↕\",\r\n  \"↔\",\r\n  \"↩\",\r\n  \"↪\",\r\n  \"⤴\",\r\n  \"⤵\",\r\n  \"🔃\",\r\n  \"🔄\",\r\n  \"🔙\",\r\n  \"🔚\",\r\n  \"🔛\",\r\n  \"🔜\",\r\n  \"🔝\",\r\n  \"🛐\",\r\n  \"⚛\",\r\n  \"🕉\",\r\n  \"✡\",\r\n  \"☸\",\r\n  \"☯\",\r\n  \"✝\",\r\n  \"☦\",\r\n  \"☪\",\r\n  \"☮\",\r\n  \"🕎\",\r\n  \"🔯\",\r\n  \"♈\",\r\n  \"♉\",\r\n  \"♊\",\r\n  \"♋\",\r\n  \"♌\",\r\n  \"♍\",\r\n  \"♎\",\r\n  \"♏\",\r\n  \"♐\",\r\n  \"♑\",\r\n  \"♒\",\r\n  \"♓\",\r\n  \"⛎\",\r\n  \"🔀\",\r\n  \"🔁\",\r\n  \"🔂\",\r\n  \"▶\",\r\n  \"⏩\",\r\n  \"⏭\",\r\n  \"⏯\",\r\n  \"◀\",\r\n  \"⏪\",\r\n  \"⏮\",\r\n  \"🔼\",\r\n  \"⏫\",\r\n  \"🔽\",\r\n  \"⏬\",\r\n  \"⏸\",\r\n  \"⏹\",\r\n  \"⏺\",\r\n  \"⏏\",\r\n  \"🎦\",\r\n  \"🔅\",\r\n  \"🔆\",\r\n  \"📶\",\r\n  \"📳\",\r\n  \"📴\",\r\n  \"♻\",\r\n  \"📛\",\r\n  \"⚜\",\r\n  \"🔰\",\r\n  \"🔱\",\r\n  \"⭕\",\r\n  \"✅\",\r\n  \"☑\",\r\n  \"✔\",\r\n  \"✖\",\r\n  \"❌\",\r\n  \"❎\",\r\n  \"➕\",\r\n  \"➖\",\r\n  \"➗\",\r\n  \"➰\",\r\n  \"➿\",\r\n  \"〽\",\r\n  \"✳\",\r\n  \"✴\",\r\n  \"❇\",\r\n  \"‼\",\r\n  \"⁉\",\r\n  \"❓\",\r\n  \"❔\",\r\n  \"❕\",\r\n  \"❗\",\r\n  \"〰\",\r\n  \"©\",\r\n  \"®\",\r\n  \"™\",\r\n  \"#️⃣\",\r\n  \"*️⃣\",\r\n  \"0️⃣\",\r\n  \"1️⃣\",\r\n  \"2️⃣\",\r\n  \"3️⃣\",\r\n  \"4️⃣\",\r\n  \"5️⃣\",\r\n  \"6️⃣\",\r\n  \"7️⃣\",\r\n  \"8️⃣\",\r\n  \"9️⃣\",\r\n  \"🔟\",\r\n  \"💯\",\r\n  \"🔠\",\r\n  \"🔡\",\r\n  \"🔢\",\r\n  \"🔣\",\r\n  \"🔤\",\r\n  \"🅰\",\r\n  \"🆎\",\r\n  \"🅱\",\r\n  \"🆑\",\r\n  \"🆒\",\r\n  \"🆓\",\r\n  \"ℹ\",\r\n  \"🆔\",\r\n  \"Ⓜ\",\r\n  \"🆕\",\r\n  \"🆖\",\r\n  \"🅾\",\r\n  \"🆗\",\r\n  \"🅿\",\r\n  \"🆘\",\r\n  \"🆙\",\r\n  \"🆚\",\r\n  \"🈁\",\r\n  \"🈂\",\r\n  \"🈷\",\r\n  \"🈶\",\r\n  \"🈯\",\r\n  \"🉐\",\r\n  \"🈹\",\r\n  \"🈚\",\r\n  \"🈲\",\r\n  \"🉑\",\r\n  \"🈸\",\r\n  \"🈴\",\r\n  \"🈳\",\r\n  \"㊗\",\r\n  \"㊙\",\r\n  \"🈺\",\r\n  \"🈵\",\r\n  \"▪\",\r\n  \"▫\",\r\n  \"◻\",\r\n  \"◼\",\r\n  \"◽\",\r\n  \"◾\",\r\n  \"⬛\",\r\n  \"⬜\",\r\n  \"🔶\",\r\n  \"🔷\",\r\n  \"🔸\",\r\n  \"🔹\",\r\n  \"🔺\",\r\n  \"🔻\",\r\n  \"💠\",\r\n  \"🔘\",\r\n  \"🔲\",\r\n  \"🔳\",\r\n  \"⚪\",\r\n  \"⚫\",\r\n  \"🔴\",\r\n  \"🔵\",\r\n  \"🏁\",\r\n  \"🚩\",\r\n  \"🎌\",\r\n  \"🏴\",\r\n  \"🏳\",\r\n  \"🇦🇨\",\r\n  \"🇦🇩\",\r\n  \"🇦🇪\",\r\n  \"🇦🇫\",\r\n  \"🇦🇬\",\r\n  \"🇦🇮\",\r\n  \"🇦🇱\",\r\n  \"🇦🇲\",\r\n  \"🇦🇴\",\r\n  \"🇦🇶\",\r\n  \"🇦🇷\",\r\n  \"🇦🇸\",\r\n  \"🇦🇹\",\r\n  \"🇦🇺\",\r\n  \"🇦🇼\",\r\n  \"🇦🇽\",\r\n  \"🇦🇿\",\r\n  \"🇧🇦\",\r\n  \"🇧🇧\",\r\n  \"🇧🇩\",\r\n  \"🇧🇪\",\r\n  \"🇧🇫\",\r\n  \"🇧🇬\",\r\n  \"🇧🇭\",\r\n  \"🇧🇮\",\r\n  \"🇧🇯\",\r\n  \"🇧🇱\",\r\n  \"🇧🇲\",\r\n  \"🇧🇳\",\r\n  \"🇧🇴\",\r\n  \"🇧🇶\",\r\n  \"🇧🇷\",\r\n  \"🇧🇸\",\r\n  \"🇧🇹\",\r\n  \"🇧🇻\",\r\n  \"🇧🇼\",\r\n  \"🇧🇾\",\r\n  \"🇧🇿\",\r\n  \"🇨🇦\",\r\n  \"🇨🇨\",\r\n  \"🇨🇩\",\r\n  \"🇨🇫\",\r\n  \"🇨🇬\",\r\n  \"🇨🇭\",\r\n  \"🇨🇮\",\r\n  \"🇨🇰\",\r\n  \"🇨🇱\",\r\n  \"🇨🇲\",\r\n  \"🇨🇳\",\r\n  \"🇨🇴\",\r\n  \"🇨🇵\",\r\n  \"🇨🇷\",\r\n  \"🇨🇺\",\r\n  \"🇨🇻\",\r\n  \"🇨🇼\",\r\n  \"🇨🇽\",\r\n  \"🇨🇾\",\r\n  \"🇨🇿\",\r\n  \"🇩🇪\",\r\n  \"🇩🇬\",\r\n  \"🇩🇯\",\r\n  \"🇩🇰\",\r\n  \"🇩🇲\",\r\n  \"🇩🇴\",\r\n  \"🇩🇿\",\r\n  \"🇪🇦\",\r\n  \"🇪🇨\",\r\n  \"🇪🇪\",\r\n  \"🇪🇬\",\r\n  \"🇪🇭\",\r\n  \"🇪🇷\",\r\n  \"🇪🇸\",\r\n  \"🇪🇹\",\r\n  \"🇪🇺\",\r\n  \"🇫🇮\",\r\n  \"🇫🇯\",\r\n  \"🇫🇰\",\r\n  \"🇫🇲\",\r\n  \"🇫🇴\",\r\n  \"🇫🇷\",\r\n  \"🇬🇦\",\r\n  \"🇬🇧\",\r\n  \"🇬🇩\",\r\n  \"🇬🇪\",\r\n  \"🇬🇫\",\r\n  \"🇬🇬\",\r\n  \"🇬🇭\",\r\n  \"🇬🇮\",\r\n  \"🇬🇱\",\r\n  \"🇬🇲\",\r\n  \"🇬🇳\",\r\n  \"🇬🇵\",\r\n  \"🇬🇶\",\r\n  \"🇬🇷\",\r\n  \"🇬🇸\",\r\n  \"🇬🇹\",\r\n  \"🇬🇺\",\r\n  \"🇬🇼\",\r\n  \"🇬🇾\",\r\n  \"🇭🇰\",\r\n  \"🇭🇲\",\r\n  \"🇭🇳\",\r\n  \"🇭🇷\",\r\n  \"🇭🇹\",\r\n  \"🇭🇺\",\r\n  \"🇮🇨\",\r\n  \"🇮🇩\",\r\n  \"🇮🇪\",\r\n  \"🇮🇱\",\r\n  \"🇮🇲\",\r\n  \"🇮🇳\",\r\n  \"🇮🇴\",\r\n  \"🇮🇶\",\r\n  \"🇮🇷\",\r\n  \"🇮🇸\",\r\n  \"🇮🇹\",\r\n  \"🇯🇪\",\r\n  \"🇯🇲\",\r\n  \"🇯🇴\",\r\n  \"🇯🇵\",\r\n  \"🇰🇪\",\r\n  \"🇰🇬\",\r\n  \"🇰🇭\",\r\n  \"🇰🇮\",\r\n  \"🇰🇲\",\r\n  \"🇰🇳\",\r\n  \"🇰🇵\",\r\n  \"🇰🇷\",\r\n  \"🇰🇼\",\r\n  \"🇰🇾\",\r\n  \"🇰🇿\",\r\n  \"🇱🇦\",\r\n  \"🇱🇧\",\r\n  \"🇱🇨\",\r\n  \"🇱🇮\",\r\n  \"🇱🇰\",\r\n  \"🇱🇷\",\r\n  \"🇱🇸\",\r\n  \"🇱🇹\",\r\n  \"🇱🇺\",\r\n  \"🇱🇻\",\r\n  \"🇱🇾\",\r\n  \"🇲🇦\",\r\n  \"🇲🇨\",\r\n  \"🇲🇩\",\r\n  \"🇲🇪\",\r\n  \"🇲🇫\",\r\n  \"🇲🇬\",\r\n  \"🇲🇭\",\r\n  \"🇲🇰\",\r\n  \"🇲🇱\",\r\n  \"🇲🇲\",\r\n  \"🇲🇳\",\r\n  \"🇲🇴\",\r\n  \"🇲🇵\",\r\n  \"🇲🇶\",\r\n  \"🇲🇷\",\r\n  \"🇲🇸\",\r\n  \"🇲🇹\",\r\n  \"🇲🇺\",\r\n  \"🇲🇻\",\r\n  \"🇲🇼\",\r\n  \"🇲🇽\",\r\n  \"🇲🇾\",\r\n  \"🇲🇿\",\r\n  \"🇳🇦\",\r\n  \"🇳🇨\",\r\n  \"🇳🇪\",\r\n  \"🇳🇫\",\r\n  \"🇳🇬\",\r\n  \"🇳🇮\",\r\n  \"🇳🇱\",\r\n  \"🇳🇴\",\r\n  \"🇳🇵\",\r\n  \"🇳🇷\",\r\n  \"🇳🇺\",\r\n  \"🇳🇿\",\r\n  \"🇴🇲\",\r\n  \"🇵🇦\",\r\n  \"🇵🇪\",\r\n  \"🇵🇫\",\r\n  \"🇵🇬\",\r\n  \"🇵🇭\",\r\n  \"🇵🇰\",\r\n  \"🇵🇱\",\r\n  \"🇵🇲\",\r\n  \"🇵🇳\",\r\n  \"🇵🇷\",\r\n  \"🇵🇸\",\r\n  \"🇵🇹\",\r\n  \"🇵🇼\",\r\n  \"🇵🇾\",\r\n  \"🇶🇦\",\r\n  \"🇷🇪\",\r\n  \"🇷🇴\",\r\n  \"🇷🇸\",\r\n  \"🇷🇺\",\r\n  \"🇷🇼\",\r\n  \"🇸🇦\",\r\n  \"🇸🇧\",\r\n  \"🇸🇨\",\r\n  \"🇸🇩\",\r\n  \"🇸🇪\",\r\n  \"🇸🇬\",\r\n  \"🇸🇭\",\r\n  \"🇸🇮\",\r\n  \"🇸🇯\",\r\n  \"🇸🇰\",\r\n  \"🇸🇱\",\r\n  \"🇸🇲\",\r\n  \"🇸🇳\",\r\n  \"🇸🇴\",\r\n  \"🇸🇷\",\r\n  \"🇸🇸\",\r\n  \"🇸🇹\",\r\n  \"🇸🇻\",\r\n  \"🇸🇽\",\r\n  \"🇸🇾\",\r\n  \"🇸🇿\",\r\n  \"🇹🇦\",\r\n  \"🇹🇨\",\r\n  \"🇹🇩\",\r\n  \"🇹🇫\",\r\n  \"🇹🇬\",\r\n  \"🇹🇭\",\r\n  \"🇹🇯\",\r\n  \"🇹🇰\",\r\n  \"🇹🇱\",\r\n  \"🇹🇲\",\r\n  \"🇹🇳\",\r\n  \"🇹🇴\",\r\n  \"🇹🇷\",\r\n  \"🇹🇹\",\r\n  \"🇹🇻\",\r\n  \"🇹🇼\",\r\n  \"🇹🇿\",\r\n  \"🇺🇦\",\r\n  \"🇺🇬\",\r\n  \"🇺🇲\",\r\n  \"🇺🇸\",\r\n  \"🇺🇾\",\r\n  \"🇺🇿\",\r\n  \"🇻🇦\",\r\n  \"🇻🇨\",\r\n  \"🇻🇪\",\r\n  \"🇻🇬\",\r\n  \"🇻🇮\",\r\n  \"🇻🇳\",\r\n  \"🇻🇺\",\r\n  \"🇼🇫\",\r\n  \"🇼🇸\",\r\n  \"🇽🇰\",\r\n  \"🇾🇪\",\r\n  \"🇾🇹\",\r\n  \"🇿🇦\",\r\n  \"🇿🇲\",\r\n  \"🇿🇼\",\r\n];\r\nexport default emoji;\r\n","async function notify(title: string, message: string, onclick: () => void) {\r\n  const resp = await (\r\n    await fetch(`notify://app/?${new URLSearchParams({ title, message })}`)\r\n  ).text();\r\n  if (resp === \"click\") {\r\n    onclick();\r\n  }\r\n}\r\n\r\nexport default notify;\r\n","import {\r\n  faCommentSlash,\r\n  faCopy,\r\n  faDesktop,\r\n  faEyeSlash,\r\n  faFile,\r\n  faMobileAlt,\r\n  faPaperPlane,\r\n  faPencilAlt,\r\n  faPlus,\r\n  faSadCry,\r\n  faTimes,\r\n  faTrash,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faMinusCircle, faPlusCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport React, {\r\n  useEffect,\r\n  useMemo,\r\n  useRef,\r\n  useState,\r\n  createContext,\r\n  useContext,\r\n} from \"react\";\r\nimport {\r\n  Link,\r\n  Redirect,\r\n  useHistory,\r\n  useLocation,\r\n  useParams,\r\n} from \"react-router-dom\";\r\nimport \"./css/message.css\";\r\nimport { useData } from \"../hooks/datahook\";\r\nimport Loader from \"./loader\";\r\nimport useWebSocket, { ReadyState } from \"react-use-websocket\";\r\nimport KeyboardEventHandler from \"react-keyboard-event-handler\";\r\nimport TextareaAutosize from \"react-textarea-autosize\";\r\nimport SyntaxHighlighter from \"react-syntax-highlighter\";\r\nimport playSound from \"../playsound\";\r\nimport useLocalStorage from \"../hooks/useLocalStorage\";\r\nimport emoji from \"../emojis\";\r\nimport useWindowFocus from \"use-window-focus\";\r\nimport useWindowSize from \"../hooks/usescreensize\";\r\nimport isElectron from \"is-electron\";\r\nimport notify from \"../notifier\";\r\nimport Linkify from \"react-linkify\";\r\nimport ReactPlayer from \"react-player/lazy\";\r\nimport useApi from \"../hooks/useapi\";\r\nimport { ContextMenu, MenuItem, ContextMenuTrigger } from \"react-contextmenu\";\r\n\r\nconst chatSettings = createContext({ isGroupChat: false, time: 0 });\r\nconst usersContext = createContext<{\r\n  exists: boolean;\r\n  users: { [key: string]: any };\r\n}>({ exists: false, users: {} });\r\n\r\nfunction onlyContainsEmojis(str: string) {\r\n  const ranges = emoji.join(\"|\");\r\n\r\n  const removeEmoji = (str: string) =>\r\n    str.replace(new RegExp(\"[\" + ranges + \"]\", \"g\"), \"\");\r\n\r\n  return !removeEmoji(str).length;\r\n}\r\n\r\nconst truncate = (input: string, limit: number) =>\r\n  input.length > limit ? `${input.substring(0, limit)}...` : input;\r\n\r\nfunction random(seed: number) {\r\n  var x = Math.sin(seed) * 10000;\r\n  return x - Math.floor(x);\r\n}\r\nfunction numToSSColumn(num: number) {\r\n  let s = \"\",\r\n    t;\r\n\r\n  while (num > 0) {\r\n    t = (num - 1) % 26;\r\n    s = String.fromCharCode(66 + t) + s;\r\n    num = ((num - t) / 26) | 0;\r\n  }\r\n  return s || undefined;\r\n}\r\n\r\ninterface messageTypes {\r\n  ID?: string;\r\n  tempid?: number;\r\n  time: number;\r\n  from: string;\r\n  edited: boolean;\r\n}\r\n\r\ninterface messageWithText extends messageTypes {\r\n  message: string;\r\n  file: undefined;\r\n  mimetype: undefined;\r\n}\r\ninterface messageWithFile extends messageTypes {\r\n  file: string;\r\n  message: undefined;\r\n  mimetype: string;\r\n}\r\n\r\nconst videoSites = [\r\n  \"youtube.com\",\r\n  \"www.youtube.com\",\r\n  \"twitch.tv\",\r\n  \"www.twitch.tv\",\r\n  \"youtu.be\",\r\n  \"soundcloud.com\",\r\n  \"www.soundcloud.com\",\r\n  \"dailymotion.com\",\r\n  \"www.dailymotion.com\",\r\n  \"facebook.com\",\r\n  \"www.facebook.com\",\r\n  \"vimeo.com\",\r\n  \"www.vimeo.com\",\r\n];\r\n\r\nfunction MetaPage({\r\n  url,\r\n  decoratedText,\r\n  decoratedHref,\r\n  mine,\r\n}: {\r\n  url: string;\r\n  decoratedText: string;\r\n  decoratedHref: string;\r\n  mine: boolean;\r\n}) {\r\n  const urldata = new URL(decoratedHref);\r\n  const { data } = useApi<{\r\n    url: string;\r\n    canonical: string;\r\n    title: string;\r\n    image: string;\r\n    author: string;\r\n    description: string;\r\n    keywords: string;\r\n    source: string;\r\n    price: string;\r\n    priceCurrency: string;\r\n    availability: string;\r\n    robots: string;\r\n    \"og:url\": string;\r\n    \"og:locale\": string;\r\n    \"og:locale:alternate\": string;\r\n    \"og:title\": string;\r\n    \"og:type\": string;\r\n    \"og:description\": string;\r\n    \"og:determiner\": string;\r\n    \"og:site_name\": string;\r\n    \"og:image\": string;\r\n    \"og:image:secure_url\": string;\r\n    \"og:image:type\": string;\r\n    \"og:image:width\": string;\r\n    \"og:image:height\": string;\r\n    \"twitter:title\": string;\r\n    \"twitter:image\": string;\r\n    \"twitter:image:alt\": string;\r\n    \"twitter:card\": string;\r\n    \"twitter:site\": string;\r\n    \"twitter:site:id\": string;\r\n    \"twitter:account_id\": string;\r\n    \"twitter:creator\": string;\r\n    \"twitter:creator:id\": string;\r\n    \"twitter:player\": string;\r\n    \"twitter:player:width\": string;\r\n    \"twitter:player:height\": string;\r\n    \"twitter:player:stream\": string;\r\n    jsonld: {};\r\n  }>(\"/api/getmetadata?\" + new URLSearchParams({ url }));\r\n  return data ? (\r\n    <div\r\n      style={{\r\n        padding: \"1rem\",\r\n        border: `solid 1px ${mine ? \"var(--main-bg-colour)\" : \"#d0d0d0\"}`,\r\n        backgroundColor: mine ? \"var(--main-bg-colour)\" : \"#dadada\",\r\n        borderRadius: \"10px\",\r\n        maxWidth: \"350px\",\r\n        margin: \"auto\",\r\n      }}\r\n    >\r\n      <a\r\n        href={decoratedHref}\r\n        target=\"blank\"\r\n        style={{\r\n          fontSize: \"24px\",\r\n        }}\r\n      >\r\n        <img\r\n          alt={urldata.hostname}\r\n          style={{\r\n            marginRight: \"5px\",\r\n            aspectRatio: \"1/1\",\r\n            height: \"100%\",\r\n            minHeight: \"24px\",\r\n          }}\r\n          src={`https://www.google.com/s2/favicons?${new URLSearchParams({\r\n            size: \"24\",\r\n            domain: urldata.hostname,\r\n          })}`}\r\n        />\r\n        {data.title ? data.title : decoratedText}\r\n      </a>\r\n      <p>{data.description}</p>\r\n      {data.image.length > 0 ? (\r\n        <img\r\n          src={new URL(data.image, url).href}\r\n          style={{ width: \"100%\", borderRadius: \"10px\" }}\r\n          alt={data.title ? data.title : decoratedText}\r\n        ></img>\r\n      ) : (\r\n        <></>\r\n      )}\r\n    </div>\r\n  ) : (\r\n    <div\r\n      style={{\r\n        padding: \"1rem\",\r\n        border: `solid 1px ${mine ? \"var(--main-bg-colour)\" : \"#d0d0d0\"}`,\r\n        backgroundColor: mine ? \"var(--main-bg-colour)\" : \"#dadada\",\r\n        borderRadius: \"10px\",\r\n        margin: \"5px\",\r\n      }}\r\n    >\r\n      <a\r\n        href={decoratedHref}\r\n        target=\"blank\"\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"space-between\",\r\n          margin: 0,\r\n        }}\r\n      >\r\n        <img\r\n          alt={urldata.hostname}\r\n          style={{\r\n            marginRight: \"5px\",\r\n            aspectRatio: \"1/1\",\r\n            height: \"100%\",\r\n            minHeight: \"24px\",\r\n          }}\r\n          src={`https://www.google.com/s2/favicons?${new URLSearchParams({\r\n            size: \"24\",\r\n            domain: urldata.hostname,\r\n          })}`}\r\n        />\r\n        <p style={{ maxWidth: \"90%\" }}>{decoratedText}</p>\r\n      </a>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction MessageFaviconOrVideoRenderer({\r\n  links,\r\n  mine,\r\n}: {\r\n  links: {\r\n    decoratedHref: string;\r\n    decoratedText: string;\r\n    key: number;\r\n  }[];\r\n  mine: boolean;\r\n}) {\r\n  return (\r\n    <>\r\n      {links.map(\r\n        ({\r\n          decoratedHref,\r\n          decoratedText,\r\n          key,\r\n        }: {\r\n          decoratedHref: string;\r\n          decoratedText: string;\r\n          key: number;\r\n        }) => {\r\n          const url = new URL(decoratedHref);\r\n          return (\r\n            <React.Fragment key={key}>\r\n              {videoSites.includes(url.hostname) ? (\r\n                <ReactPlayer\r\n                  url={decoratedHref}\r\n                  width=\"100%\"\r\n                  height=\"100%\"\r\n                  controls={true}\r\n                  style={{ aspectRatio: \"16/9\" }}\r\n                />\r\n              ) : (\r\n                <MetaPage\r\n                  url={decoratedHref}\r\n                  decoratedText={decoratedText}\r\n                  decoratedHref={decoratedHref}\r\n                  mine={mine}\r\n                ></MetaPage>\r\n              )}\r\n            </React.Fragment>\r\n          );\r\n        }\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nfunction Message({\r\n  messages,\r\n  i,\r\n  toscroll,\r\n  scrolltobottom,\r\n  user,\r\n  sendJsonMessage,\r\n  deleteFromID,\r\n  editFromID,\r\n}: {\r\n  messages: Array<messageWithText | messageWithFile>;\r\n  i: number;\r\n  toscroll: any;\r\n  user: any;\r\n  scrolltobottom: Function;\r\n  deleteFromID: Function;\r\n  editFromID: Function;\r\n  sendJsonMessage: Function;\r\n}) {\r\n  const message = messages[i].message;\r\n  const messagecharlist = message ? Array.from(message) : undefined;\r\n  const [editing, setediting] = useState(false);\r\n  const [fullyopened, setfullyopened] = useState(false);\r\n  const file = messages[i].file;\r\n  const mimetype = messages[i].mimetype;\r\n  const onlyemojis = message\r\n    ? Array.from(message).length > 3 || !onlyContainsEmojis(message)\r\n    : false;\r\n  const links: {\r\n    decoratedHref: string;\r\n    decoratedText: string;\r\n    key: number;\r\n  }[] = [];\r\n  const donekeys: number[] = [];\r\n  const shiftkey = useRef(false);\r\n  const key = useRef(null);\r\n  const submitref = useRef<any>();\r\n  const longmessage = messagecharlist && messagecharlist.length > 500;\r\n  const messageref = useRef(message);\r\n  return (\r\n    <>\r\n      <ContextMenuTrigger\r\n        id={String(messages[i].ID ? messages[i].ID : messages[i].tempid)}\r\n      >\r\n        <div\r\n          style={{ opacity: !messages[i].ID ? 0.5 : undefined }}\r\n          className={\r\n            onlyemojis || file\r\n              ? `message message-${\r\n                  messages[i].from === user.id ? \"mine\" : \"yours\"\r\n                } ${\r\n                  !messages[i + 1] ||\r\n                  messages[i + 1].from !== messages[i].from ||\r\n                  (messages[i + 1] &&\r\n                    messages[i + 1].time - messages[i].time > 300000)\r\n                    ? `last-${messages[i].from === user.id ? \"mine\" : \"yours\"}`\r\n                    : \"\"\r\n                }`\r\n              : `emojimessage-${\r\n                  messages[i].from === user.id ? \"mine\" : \"yours\"\r\n                }`\r\n          }\r\n        >\r\n          {message ? (\r\n            editing ? (\r\n              <>\r\n                <form\r\n                  onSubmit={(e: any) => {\r\n                    e.preventDefault();\r\n                    setediting(false);\r\n                    const tempmessage = messageref.current;\r\n                    if (tempmessage === \"\") {\r\n                      sendJsonMessage({ type: \"delete\", id: messages[i].ID });\r\n                      deleteFromID(messages[i].ID);\r\n                    } else if (message !== tempmessage) {\r\n                      sendJsonMessage({\r\n                        type: \"edit\",\r\n                        id: messages[i].ID,\r\n                        message: tempmessage,\r\n                      });\r\n                      editFromID(messages[i].ID, tempmessage);\r\n                    }\r\n                  }}\r\n                >\r\n                  <TextareaAutosize\r\n                    onInput={(e: any) => {\r\n                      if (key.current === 13 && !shiftkey.current) {\r\n                        submitref.current.click();\r\n                      } else {\r\n                        const message = e.target.value.trim();\r\n                        messageref.current = message;\r\n                      }\r\n                      const messagetoarray: string[] = Array.from(message);\r\n                      e.target.value = Array.from(e.target.value)\r\n                        .slice(0, 3000)\r\n                        .join(\"\");\r\n                      if (messagetoarray.length <= 3000) {\r\n                        e.target.value = Array.from(e.target.value)\r\n                          .slice(0, 3000)\r\n                          .join(\"\");\r\n                      }\r\n                    }}\r\n                    onKeyDown={(e: any) => {\r\n                      key.current = e.keyCode;\r\n                      shiftkey.current = e.shiftKey;\r\n                    }}\r\n                    autoFocus\r\n                    style={{\r\n                      backgroundColor: \"var(--dark-bg-colour)\",\r\n                      padding: \"5px\",\r\n                      borderRadius: \"20px\",\r\n                      border: \"solid 1px var(--light-bg-colour)\",\r\n                      color: \"white\",\r\n                      resize: \"none\",\r\n                      width: \"100%\",\r\n                    }}\r\n                    maxRows={10}\r\n                    placeholder=\"Type Something...\"\r\n                    defaultValue={message}\r\n                  />\r\n                  <input\r\n                    type=\"submit\"\r\n                    ref={submitref}\r\n                    style={{ display: \"none\" }}\r\n                  ></input>\r\n                </form>\r\n              </>\r\n            ) : (\r\n              <>\r\n                {onlyemojis ? (\r\n                  (longmessage && messagecharlist && !fullyopened\r\n                    ? messagecharlist.slice(0, 500).join(\"\")\r\n                    : message\r\n                  )\r\n                    .split(\"```\")\r\n                    .map((value: string, index: number) =>\r\n                      index % 2 === 0 ? (\r\n                        <React.Fragment key={index}>\r\n                          <Linkify\r\n                            componentDecorator={(\r\n                              decoratedHref,\r\n                              decoratedText,\r\n                              key\r\n                            ) => {\r\n                              if (!donekeys.includes(key)) {\r\n                                links.push({\r\n                                  decoratedHref,\r\n                                  decoratedText,\r\n                                  key,\r\n                                });\r\n                                donekeys.push(key);\r\n                              }\r\n                              return (\r\n                                <a\r\n                                  target=\"blank\"\r\n                                  href={decoratedHref}\r\n                                  key={key}\r\n                                >\r\n                                  {decoratedText}\r\n                                </a>\r\n                              );\r\n                            }}\r\n                          >\r\n                            {value.trim()}\r\n                          </Linkify>\r\n                        </React.Fragment>\r\n                      ) : (\r\n                        <SyntaxHighlighter key={index}>\r\n                          {value.trim()}\r\n                        </SyntaxHighlighter>\r\n                      )\r\n                    )\r\n                ) : (\r\n                  <h1 className=\"emojimessage\">{message}</h1>\r\n                )}\r\n                {longmessage && !fullyopened ? \"...\" : \"\"}\r\n                {!longmessage || fullyopened ? (\r\n                  <MessageFaviconOrVideoRenderer\r\n                    links={links}\r\n                    mine={messages[i].from === user.id}\r\n                  ></MessageFaviconOrVideoRenderer>\r\n                ) : (\r\n                  <></>\r\n                )}\r\n                {longmessage ? (\r\n                  <p\r\n                    onClick={() => setfullyopened(!fullyopened)}\r\n                    style={{\r\n                      color:\r\n                        messages[i].from === user.id ? \"lightgray\" : \"gray\",\r\n                      fontSize: \"12px\",\r\n                    }}\r\n                  >\r\n                    show {fullyopened ? \"less\" : \"more\"}\r\n                  </p>\r\n                ) : (\r\n                  <></>\r\n                )}\r\n                {messages[i].edited ? (\r\n                  <p\r\n                    style={{\r\n                      color:\r\n                        messages[i].from === user.id ? \"lightgray\" : \"gray\",\r\n                      fontSize: \"10px\",\r\n                      float: \"right\",\r\n                    }}\r\n                  >\r\n                    edited\r\n                  </p>\r\n                ) : (\r\n                  <></>\r\n                )}\r\n              </>\r\n            )\r\n          ) : file ? (\r\n            <div>\r\n              {mimetype ? (\r\n                mimetype.split(\"/\")[0] === \"image\" ? (\r\n                  <img\r\n                    alt={file}\r\n                    src={`/files/${file}`}\r\n                    style={{\r\n                      maxWidth: \"100%\",\r\n                      maxHeight: \"300px\",\r\n                      borderRadius: \"20px\",\r\n                    }}\r\n                    loading=\"lazy\"\r\n                    onLoad={() => {\r\n                      if (toscroll.current) {\r\n                        scrolltobottom();\r\n                      }\r\n                    }}\r\n                  ></img>\r\n                ) : mimetype.split(\"/\")[0] === \"video\" ? (\r\n                  <video\r\n                    src={`/files/${file}`}\r\n                    style={{ width: \"100%\", maxHeight: \"300px\" }}\r\n                    controls\r\n                    playsInline\r\n                    onLoad={() => {\r\n                      if (toscroll.current) {\r\n                        scrolltobottom();\r\n                      }\r\n                    }}\r\n                  ></video>\r\n                ) : mimetype.split(\"/\")[0] === \"audio\" ? (\r\n                  <audio\r\n                    src={`/files/${file}`}\r\n                    style={{ width: \"100%\", maxHeight: \"300px\" }}\r\n                    controls\r\n                    playsInline\r\n                    onLoad={() => {\r\n                      if (toscroll.current) {\r\n                        scrolltobottom();\r\n                      }\r\n                    }}\r\n                  ></audio>\r\n                ) : (\r\n                  <div\r\n                    onClick={() => {\r\n                      window.open(\r\n                        `/files/${file}`,\r\n                        file,\r\n                        \"width=600,height=400\"\r\n                      );\r\n                    }}\r\n                    style={{\r\n                      color: \"var(--secondary-text-colour)\",\r\n                      cursor: \"pointer\",\r\n                    }}\r\n                  >\r\n                    <FontAwesomeIcon icon={faFile}></FontAwesomeIcon> File\r\n                  </div>\r\n                )\r\n              ) : (\r\n                <div\r\n                  onClick={() => {\r\n                    window.open(`/files/${file}`, file, \"width=600,height=400\");\r\n                  }}\r\n                  style={{\r\n                    color: \"var(--secondary-text-colour)\",\r\n                    cursor: \"pointer\",\r\n                  }}\r\n                >\r\n                  <FontAwesomeIcon icon={faFile}></FontAwesomeIcon> File\r\n                </div>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <></>\r\n          )}\r\n        </div>\r\n      </ContextMenuTrigger>\r\n\r\n      <ContextMenu\r\n        id={String(messages[i].ID ? messages[i].ID : messages[i].tempid)}\r\n      >\r\n        <p style={{ textAlign: \"center\" }}>\r\n          {new Date(messages[i].time).toLocaleString()}\r\n        </p>\r\n        <MenuItem\r\n          onClick={() => {\r\n            navigator.clipboard.writeText(\r\n              message\r\n                ? message\r\n                : `${window.location.protocol}://${\r\n                    !process.env.NODE_ENV ||\r\n                    process.env.NODE_ENV === \"development\"\r\n                      ? window.location.hostname + \":5000\"\r\n                      : window.location.host\r\n                  }/files/${file}`\r\n            );\r\n          }}\r\n        >\r\n          <span>\r\n            <FontAwesomeIcon icon={faCopy} /> Copy\r\n          </span>\r\n        </MenuItem>\r\n        {messages[i].from === user.id && messages[i].ID ? (\r\n          <>\r\n            <MenuItem\r\n              onClick={() => {\r\n                sendJsonMessage({ type: \"delete\", id: messages[i].ID });\r\n                deleteFromID(messages[i].ID);\r\n              }}\r\n            >\r\n              <span>\r\n                <FontAwesomeIcon icon={faTrash} /> Delete\r\n              </span>\r\n            </MenuItem>\r\n            {message ? (\r\n              <MenuItem\r\n                onClick={() => {\r\n                  setediting(!editing);\r\n                }}\r\n              >\r\n                <span>\r\n                  {editing ? (\r\n                    <>\r\n                      <FontAwesomeIcon icon={faTimes} /> Cancel Edit\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <FontAwesomeIcon icon={faPencilAlt} /> Edit\r\n                    </>\r\n                  )}\r\n                </span>\r\n              </MenuItem>\r\n            ) : (\r\n              <></>\r\n            )}\r\n          </>\r\n        ) : (\r\n          <></>\r\n        )}\r\n        {longmessage ? (\r\n          <MenuItem\r\n            onClick={() => {\r\n              setfullyopened(!fullyopened);\r\n            }}\r\n          >\r\n            <span>\r\n              <FontAwesomeIcon\r\n                icon={fullyopened ? faMinusCircle : faPlusCircle}\r\n              />{\" \"}\r\n              Show {fullyopened ? \"less\" : \"more\"}\r\n            </span>\r\n          </MenuItem>\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </ContextMenu>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction MessageMaker({\r\n  messages,\r\n  typingdata,\r\n  scrollref,\r\n  toscroll,\r\n  canloadmore,\r\n  loadingmore,\r\n  loadmore,\r\n  chatUpdateID,\r\n  scrolltobottom,\r\n  deleteFromID,\r\n  editFromID,\r\n  sendJsonMessage,\r\n}: {\r\n  messages: Array<messageWithText | messageWithFile>;\r\n  typingdata: {\r\n    typing: Boolean;\r\n    length: Number;\r\n    specialchars: { [key: number]: any };\r\n  };\r\n  scrollref: React.RefObject<any>;\r\n  toscroll: any;\r\n  canloadmore: boolean;\r\n  loadingmore: boolean;\r\n  loadmore: Function;\r\n  chatUpdateID: number | null;\r\n  scrolltobottom: Function;\r\n  deleteFromID: Function;\r\n  editFromID: Function;\r\n  sendJsonMessage: Function;\r\n}) {\r\n  const { user } = useData();\r\n  const { users } = useContext(usersContext);\r\n  const output = useMemo(() => {\r\n    console.time(\"chatrender\");\r\n    const output = [];\r\n    let lastmessage: messageWithText | messageWithFile | null = null;\r\n    for (let i = 0; i < messages.length; i++) {\r\n      if (\r\n        (!lastmessage && !canloadmore) ||\r\n        (lastmessage && messages[i].time - lastmessage.time > 300000)\r\n      ) {\r\n        output.push(\r\n          <p\r\n            key={messages[i].time}\r\n            style={{\r\n              margin: \"0\",\r\n              color: `lightgray`,\r\n              fontSize: \"10px\",\r\n              textAlign: \"center\",\r\n            }}\r\n          >\r\n            {new Date(messages[i].time).toLocaleString()}\r\n          </p>\r\n        );\r\n      }\r\n      if (!lastmessage || messages[i].from !== lastmessage.from) {\r\n        output.push(\r\n          messages[i].from === user.id || users[messages[i].from] ? (\r\n            <div\r\n              key={messages[i].ID + \"topname\"}\r\n              style={{\r\n                alignSelf:\r\n                  messages[i].from === user.id ? \"flex-end\" : \"flex-start\",\r\n              }}\r\n            >\r\n              {messages[i].from === user.id ? (\r\n                <span style={{ marginRight: \"5px\" }}>{user.username}</span>\r\n              ) : (\r\n                <></>\r\n              )}\r\n              <img\r\n                src={`/files/${\r\n                  messages[i].from === user.id\r\n                    ? user.profilePic\r\n                    : users[messages[i].from].profilePic\r\n                }`}\r\n                style={{\r\n                  width: \"25px\",\r\n                  height: \"25px\",\r\n                  margin: \"3px\",\r\n                  borderRadius: \"50%\",\r\n                }}\r\n                alt=\"\"\r\n              />\r\n              {users[messages[i].from] ? (\r\n                <span style={{ marginLeft: \"5px\" }}>\r\n                  {users[messages[i].from].username}\r\n                </span>\r\n              ) : (\r\n                <></>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <></>\r\n          )\r\n        );\r\n      }\r\n      output.push(\r\n        <Message\r\n          key={messages[i].ID ? messages[i].ID : messages[i].tempid}\r\n          messages={messages}\r\n          deleteFromID={deleteFromID}\r\n          i={i}\r\n          user={user}\r\n          toscroll={toscroll}\r\n          scrolltobottom={scrolltobottom}\r\n          sendJsonMessage={sendJsonMessage}\r\n          editFromID={editFromID}\r\n        ></Message>\r\n      );\r\n      lastmessage = messages[i];\r\n    }\r\n    console.timeEnd(\"chatrender\");\r\n    return output;\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [messages, canloadmore, loadingmore, chatUpdateID]);\r\n  const { id: chattingto } = useParams<{ id: string }>();\r\n  const location = useLocation();\r\n  const faketext = useMemo(() => {\r\n    let output = [];\r\n    for (let i = 0; i <= typingdata.length; i++) {\r\n      output.push(\r\n        typingdata.specialchars && i - 1 in typingdata.specialchars\r\n          ? typingdata.specialchars[i - 1]\r\n          : numToSSColumn(random(i) * 26)\r\n      );\r\n    }\r\n    return output.join(\"\").toLowerCase();\r\n  }, [typingdata]);\r\n  // const [isMessageMenuOpen, setIsMessageMenuOpen] = useState(false);\r\n  window.onscroll = () => {\r\n    if (location.pathname === `/chat/${chattingto}`) {\r\n      toscroll.current =\r\n        document.documentElement.scrollHeight -\r\n          document.documentElement.scrollTop -\r\n          document.documentElement.clientHeight <=\r\n        200;\r\n      if (canloadmore) {\r\n        if (document.documentElement.scrollTop < 10) {\r\n          loadmore(messages);\r\n        }\r\n      }\r\n    }\r\n  };\r\n  return (\r\n    <div\r\n      style={{\r\n        width: \"100%\",\r\n        height: `100%`,\r\n        overflow: \"overlay\",\r\n      }}\r\n      ref={scrollref}\r\n    >\r\n      <div\r\n        className=\"chat\"\r\n        style={{\r\n          margin: `90px auto 3rem auto`,\r\n          maxWidth: \"900px\",\r\n        }}\r\n      >\r\n        {messages.length > 0 ? (\r\n          <>\r\n            {canloadmore && loadingmore ? (\r\n              <Loader key={\"loader\"}></Loader>\r\n            ) : (\r\n              <></>\r\n            )}\r\n            {output}\r\n          </>\r\n        ) : (\r\n          <p style={{ color: \"gray\", textAlign: \"center\" }}>\r\n            this chat is empty... say hi!\r\n          </p>\r\n        )}\r\n        {typingdata.typing ? (\r\n          <div\r\n            className=\"message message-yours last-yours\"\r\n            style={{\r\n              opacity: 0.5,\r\n              textShadow: \"0 0 7px black\",\r\n              color: \"transparent\",\r\n            }}\r\n          >\r\n            {faketext}\r\n          </div>\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ChatNotFound() {\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"absolute\",\r\n        top: \"50%\",\r\n        left: \"50%\",\r\n        transform: \"translate(-50%, -50%)\",\r\n        textAlign: \"center\",\r\n        color: \"gray\",\r\n      }}\r\n    >\r\n      <div style={{ fontSize: \"50px\" }}>\r\n        <FontAwesomeIcon icon={faSadCry} />\r\n        <FontAwesomeIcon icon={faCommentSlash} />\r\n      </div>\r\n      <h1>No Chat Found!</h1>\r\n      <p>\r\n        go to{\" \"}\r\n        <span>\r\n          <Link\r\n            to=\"/contacts\"\r\n            style={{ color: \"var(--secondary-text-colour)\" }}\r\n          >\r\n            contacts\r\n          </Link>\r\n          !\r\n        </span>\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ChatPage() {\r\n  const bypassChars: string[] = [\r\n    ...emoji,\r\n    \" \",\r\n    \"?\",\r\n    \"!\",\r\n    \"#\",\r\n    \"$\",\r\n    \"£\",\r\n    \"*\",\r\n    '\"',\r\n    \"'\",\r\n    \"(\",\r\n    \")\",\r\n    \":\",\r\n    \";\",\r\n    \"[\",\r\n    \"]\",\r\n    \"{\",\r\n    \"}\",\r\n    \"1\",\r\n    \"2\",\r\n    \"3\",\r\n    \"4\",\r\n    \"5\",\r\n    \"6\",\r\n    \"7\",\r\n    \"8\",\r\n    \"9\",\r\n    \"0\",\r\n  ];\r\n  const [chats, setchats] = useState<Array<messageWithText | messageWithFile>>(\r\n    []\r\n  );\r\n  const isFocussed = useWindowFocus();\r\n  const history = useHistory();\r\n  const { id: chattingto } = useParams<{ id: string }>();\r\n  const { notifications, user, NotificationAPI } = useData();\r\n\r\n  const { isGroupChat } = useContext(chatSettings);\r\n  const [usersdata, setusersdata] = useState<\r\n    undefined | { exists: boolean; users: { [key: string]: any } }\r\n  >();\r\n  const [groupchatdata /*setgroupchatdata*/] = useState({\r\n    picture: \"\",\r\n    name: \"\",\r\n  });\r\n  const [oldmetypingdata, setoldmetypingdata] = useState({\r\n    type: \"typing\",\r\n    typing: false,\r\n    length: 0,\r\n    specialchars: {},\r\n  });\r\n  const [metypingdata, setmetypingdata] = useState({\r\n    type: \"typing\",\r\n    typing: false,\r\n    length: 0,\r\n    specialchars: {},\r\n  });\r\n  const [socketUrl] = useState(\r\n    `ws${window.location.protocol === \"https:\" ? \"s\" : \"\"}://${\r\n      !process.env.NODE_ENV || process.env.NODE_ENV === \"development\"\r\n        ? window.location.hostname + \":5000\"\r\n        : window.location.host\r\n    }/chat`\r\n  );\r\n  const size = useWindowSize();\r\n  const [typingdata, settypingdata] = useState<{\r\n    typing: Boolean;\r\n    length: Number;\r\n    specialchars: { [key: number]: any };\r\n  }>({ typing: false, length: 0, specialchars: {} });\r\n  const [isonline, setisonline] = useState(\"0\");\r\n  const metypinglengthref = useRef<number>(0);\r\n  const metypingref = useRef<any>(false);\r\n  const typingTimer = useRef<any>(null);\r\n  const inputref = useRef<any>(null);\r\n  const scrollerref = useRef<any>(null);\r\n  const bottomref = useRef<any>(null);\r\n  const toscroll = useRef(true);\r\n  const [loadingchatmessages, setloadingchatmessages] = useState(true);\r\n  const [canloadmore, setcanloadmore] = useState(true);\r\n  const [loadingmore, setloadingmore] = useState(false);\r\n  const isLoadMore = useRef<boolean>(false);\r\n  const [chatUpdateID, setChatUpdateID] = useState<number | null>(null);\r\n  const [personaltyping] = useLocalStorage(\"Keyboard Typing Sound\", true);\r\n  const [Recipienttyping] = useLocalStorage(\"Recipient Typing Sound\", true);\r\n  const [SendSound] = useLocalStorage(\"Send Sound\", true);\r\n  const [ReceiveSound] = useLocalStorage(\"Receive Sound\", true);\r\n  const [localchats, setlocalchats] = useLocalStorage<{\r\n    [key: string]: Array<messageWithText | messageWithFile>;\r\n  }>(\"chats\", {});\r\n  async function sendFile(file: any) {\r\n    const id = Math.random();\r\n    notifications.addNotification({\r\n      title: \"File\",\r\n      message: \"Uploading...\",\r\n      type: \"warning\",\r\n      insert: \"top\",\r\n      id,\r\n      container: \"top-right\",\r\n      animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n      animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n    });\r\n    try {\r\n      const formdata = new FormData();\r\n      formdata.append(\"file\", file);\r\n      const resp = await (\r\n        await fetch(\"/api/uploadfile\", {\r\n          method: \"POST\",\r\n          body: formdata,\r\n        })\r\n      ).json();\r\n      if (resp.resp) {\r\n        notifications.removeNotification(id);\r\n        const time = new Date().getTime();\r\n        const tempid = Math.random();\r\n        sendJsonMessage({\r\n          type: \"file\",\r\n          file: resp.id,\r\n          mimetype: file.type,\r\n          tempid,\r\n        });\r\n        setchats((chats) =>\r\n          chats.concat({\r\n            from: user.id,\r\n            message: undefined,\r\n            mimetype: file.type,\r\n            file: resp.id,\r\n            time,\r\n            tempid,\r\n            edited: false,\r\n          })\r\n        );\r\n        notifications.removeNotification(id);\r\n      } else {\r\n        notifications.removeNotification(id);\r\n        notifications.addNotification({\r\n          title: \"Upload Error\",\r\n          message: resp.err,\r\n          type: \"danger\",\r\n          insert: \"top\",\r\n          container: \"top-right\",\r\n          animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n          animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n        });\r\n      }\r\n    } catch (e) {\r\n      notifications.removeNotification(id);\r\n      notifications.addNotification({\r\n        title: \"Upload Error\",\r\n        message: String(e),\r\n        type: \"danger\",\r\n        insert: \"top\",\r\n        container: \"top-right\",\r\n        animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n        animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n      });\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    localStorage.setItem(\"chattingto\", JSON.stringify(chattingto));\r\n    const listenerfunction = function (event: any) {\r\n      const items = (event.clipboardData || event.originalEvent.clipboardData)\r\n        .items;\r\n      for (const index in items) {\r\n        const item = items[index];\r\n        if (item.kind === \"file\") {\r\n          const blob = item.getAsFile();\r\n          console.log(blob);\r\n          sendFile(blob);\r\n        }\r\n      }\r\n    };\r\n    window.addEventListener(\"paste\", listenerfunction);\r\n    return () => {\r\n      window.removeEventListener(\"paste\", listenerfunction);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  useEffect(() => {\r\n    if (usersdata) {\r\n      document.title = `${usersdata.users[chattingto].username} - TypeChat`;\r\n    }\r\n    return () => {\r\n      document.title = \"TypeChat\";\r\n    };\r\n  }, [chattingto, usersdata]);\r\n  const [oldmessagsize, setoldmessagesize] = useState(chats.length > 0);\r\n  const messagesize = chats.length > 0;\r\n  useEffect(() => {\r\n    if (messagesize !== oldmessagsize) {\r\n      scrolltobottom();\r\n      setoldmessagesize(messagesize);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [messagesize]);\r\n  const doneTypingInterval = 5000;\r\n  const StartMessagesLength = Math.ceil(size.height / 40 + 5);\r\n  function doneTyping() {\r\n    if (metypingref.current) {\r\n      metypingref.current = false;\r\n      setmetypingdata({\r\n        type: \"typing\",\r\n        typing: false,\r\n        length: 0,\r\n        specialchars: {},\r\n      });\r\n    }\r\n  }\r\n  function deleteFromID(id: string) {\r\n    for (let i = 0; i <= chats.length; i++) {\r\n      if (chats[i].ID === id) {\r\n        chats.splice(i, 1);\r\n        setchats(chats);\r\n        setChatUpdateID(Math.random());\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  function editFromID(id: string, message: string) {\r\n    for (let i = 0; i <= chats.length; i++) {\r\n      if (chats[i].ID === id) {\r\n        chats[i].message = message;\r\n        chats[i].edited = true;\r\n        setchats(chats);\r\n        setChatUpdateID(Math.random());\r\n        break;\r\n      }\r\n    }\r\n  }\r\n  const { sendJsonMessage, lastJsonMessage, readyState } = useWebSocket(\r\n    socketUrl,\r\n    {\r\n      shouldReconnect: () => true,\r\n      reconnectInterval: 1,\r\n    }\r\n  );\r\n  const scrolltobottom = () => {\r\n    const scrollingElement = document.scrollingElement || document.body;\r\n    if (window.innerHeight + window.scrollY < document.body.offsetHeight) {\r\n      scrollingElement.scrollTo(0, scrollingElement.scrollHeight);\r\n    }\r\n  };\r\n  const fileref = useRef<HTMLInputElement>(null);\r\n  const submitref = useRef<any>(null);\r\n  const formref = useRef<any>(null);\r\n  const shiftkey = useRef(false);\r\n  const key = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (lastJsonMessage) {\r\n      if (lastJsonMessage.type === \"message\") {\r\n        if (lastJsonMessage.message.from !== user.id && ReceiveSound) {\r\n          playSound(\"/sounds/newmessage.mp3\");\r\n        }\r\n        setchats((chats) => chats.concat(lastJsonMessage.message));\r\n\r\n        settypingdata({\r\n          typing: false,\r\n          length: 0,\r\n          specialchars: {},\r\n        });\r\n        if (usersdata) {\r\n          if (toscroll.current) {\r\n            setcanloadmore(true);\r\n            isLoadMore.current = false;\r\n            setloadingchatmessages(false);\r\n            setchats((chats) =>\r\n              chats.slice(Math.max(chats.length - StartMessagesLength, 0))\r\n            );\r\n            setTimeout(scrolltobottom, 0);\r\n            if (\r\n              lastJsonMessage.message.from !== user.id &&\r\n              !isFocussed &&\r\n              isElectron()\r\n            ) {\r\n              notify(\r\n                `${usersdata.users[lastJsonMessage.message.from].username}`,\r\n                lastJsonMessage.message.message,\r\n                () => {\r\n                  history.push(`/chat/${chattingto}`);\r\n                  scrolltobottom();\r\n                }\r\n              );\r\n            }\r\n          } else if (lastJsonMessage.message.from !== user.id) {\r\n            NotificationAPI(\r\n              {\r\n                title: `${\r\n                  usersdata.users[lastJsonMessage.message.from].username\r\n                }`,\r\n                message: lastJsonMessage.message.message\r\n                  ? truncate(lastJsonMessage.message.message, 25)\r\n                  : \"file\",\r\n                type: \"default\",\r\n                onRemoval: (_: number, type: string) => {\r\n                  if (type === \"click\") {\r\n                    history.push(`/chat/${chattingto}`);\r\n                    scrolltobottom();\r\n                  }\r\n                },\r\n                insert: \"top\",\r\n                container: \"top-right\",\r\n                animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n                animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n                dismiss: {\r\n                  pauseOnHover: true,\r\n                  duration: 5000,\r\n                  onScreen: true,\r\n                },\r\n              },\r\n              () => {\r\n                history.push(`/chat/${chattingto}`);\r\n                scrolltobottom();\r\n              }\r\n            );\r\n          }\r\n        }\r\n      } else if (lastJsonMessage.type === \"delete\") {\r\n        if (lastJsonMessage.from !== user.id && ReceiveSound) {\r\n          playSound(\"/sounds/delete.mp3\");\r\n        }\r\n        deleteFromID(lastJsonMessage.id);\r\n      } else if (lastJsonMessage.type === \"edit\") {\r\n        if (lastJsonMessage.from !== user.id && ReceiveSound) {\r\n          playSound(\"/sounds/edit.mp3\");\r\n        }\r\n        editFromID(lastJsonMessage.id, lastJsonMessage.message);\r\n      } else if (lastJsonMessage.type === \"start\") {\r\n        setcanloadmore(false);\r\n        isLoadMore.current = true;\r\n        setloadingchatmessages(true);\r\n        sendJsonMessage({\r\n          type: \"start\",\r\n          to: chattingto,\r\n          limit: StartMessagesLength,\r\n          mobile:\r\n            /Android|webOS|iPhone|iPad|Mac|Macintosh|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n              navigator.userAgent\r\n            ),\r\n        });\r\n      } else if (lastJsonMessage.type === \"ping\") {\r\n        sendJsonMessage({ type: \"pong\" });\r\n      } else if (lastJsonMessage.type === \"sent\") {\r\n        for (const message of chats) {\r\n          if (message.tempid === lastJsonMessage.tempid) {\r\n            delete message.tempid;\r\n            message.ID = lastJsonMessage.id;\r\n          }\r\n        }\r\n        setChatUpdateID(Math.random());\r\n        setchats(chats);\r\n      } else if (lastJsonMessage.type === \"online\") {\r\n        if (!lastJsonMessage.online && (isonline === \"M\" || isonline === \"1\")) {\r\n          playSound(\"/sounds/leave.mp3\");\r\n        } else if (lastJsonMessage.online && isonline === \"0\") {\r\n          playSound(\"/sounds/join.mp3\");\r\n        }\r\n        setisonline(\r\n          lastJsonMessage.online ? (lastJsonMessage.mobile ? \"M\" : \"1\") : \"0\"\r\n        );\r\n      } else if (lastJsonMessage.type === \"typing\") {\r\n        if (Recipienttyping) {\r\n          if (lastJsonMessage.length > typingdata.length) {\r\n            playSound(`/sounds/click${Math.floor(Math.random() * 3 + 1)}.mp3`);\r\n          } else if (lastJsonMessage.length < typingdata.length) {\r\n            playSound(`/sounds/click3.mp3`);\r\n          }\r\n        }\r\n        if (toscroll.current) {\r\n          setTimeout(scrolltobottom, 0);\r\n        }\r\n        settypingdata({\r\n          typing: lastJsonMessage.typing,\r\n          length: lastJsonMessage.length,\r\n          specialchars: lastJsonMessage.specialchars,\r\n        });\r\n      } else if (lastJsonMessage.type === \"setmessages\") {\r\n        setchats(lastJsonMessage.messages);\r\n        setusersdata({ exists: true, users: lastJsonMessage.users });\r\n        setcanloadmore(true);\r\n        isLoadMore.current = false;\r\n        setloadingchatmessages(false);\r\n      } else if (lastJsonMessage.type === \"prependmessages\") {\r\n        setchats([...lastJsonMessage.messages, ...chats]);\r\n        if (lastJsonMessage.messages.length > 0) {\r\n          const lastheight = document.documentElement.offsetHeight;\r\n          setTimeout(() => {\r\n            document.documentElement.scrollTop =\r\n              document.documentElement.scrollHeight - lastheight;\r\n            isLoadMore.current = false;\r\n\r\n            setloadingmore(false);\r\n          }, 0);\r\n        }\r\n        setcanloadmore(lastJsonMessage.messages.length > 0);\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [lastJsonMessage]);\r\n  useEffect(() => {\r\n    if (\r\n      /Android|webOS|iPhone|iPad|Mac|Macintosh|iPod|BlackBerry|IEMobile|Opera Mini/i.test(\r\n        navigator.userAgent\r\n      )\r\n    ) {\r\n      sendJsonMessage({ type: \"setFocus\", focus: isFocussed });\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isFocussed]);\r\n  useEffect(() => {\r\n    if (JSON.stringify(oldmetypingdata) !== JSON.stringify(metypingdata)) {\r\n      sendJsonMessage(metypingdata);\r\n      setoldmetypingdata(metypingdata);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [metypingdata]);\r\n  window.onload = () => setTimeout(scrolltobottom, 0);\r\n  useEffect(() => {\r\n    setTimeout(scrolltobottom, 0);\r\n  }, [usersdata, readyState]);\r\n  useEffect(() => {\r\n    if (toscroll.current) {\r\n      setTimeout(scrolltobottom, 0);\r\n    }\r\n    if (!loadingchatmessages) {\r\n      localchats[chattingto] = chats.slice(\r\n        Math.max(chats.length - StartMessagesLength, 0)\r\n      );\r\n      setlocalchats(localchats);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [chats, chatUpdateID]);\r\n  useEffect(() => {\r\n    if (usersdata && !usersdata.exists) {\r\n      setloadingchatmessages(false);\r\n    }\r\n  }, [usersdata]);\r\n  const loadmore = () => {\r\n    if (!isLoadMore.current) {\r\n      isLoadMore.current = true;\r\n      setloadingmore(true);\r\n      sendJsonMessage({\r\n        type: \"getmessages\",\r\n        start: chats.length,\r\n        max: 50,\r\n      });\r\n    }\r\n  };\r\n  if (\r\n    (!usersdata ||\r\n      (readyState !== ReadyState.OPEN &&\r\n        readyState !== ReadyState.UNINSTANTIATED) ||\r\n      loadingchatmessages) &&\r\n    !localchats[chattingto]\r\n  ) {\r\n    return <Loader />;\r\n  } else if (!localchats[chattingto] || (usersdata && !usersdata.exists)) {\r\n    return <ChatNotFound></ChatNotFound>;\r\n  }\r\n  return (\r\n    <usersContext.Provider\r\n      value={usersdata ? usersdata : { exists: false, users: {} }}\r\n    >\r\n      <div>\r\n        <div>\r\n          <div\r\n            style={{\r\n              position: \"fixed\",\r\n              width: \"100%\",\r\n              height: \"90px\",\r\n              padding: \"10px\",\r\n              zIndex: 10,\r\n              background:\r\n                \"linear-gradient(0deg, transparent, var(--dark-mode))\",\r\n            }}\r\n          >\r\n            {usersdata && readyState === ReadyState.OPEN ? (\r\n              <>\r\n                {\" \"}\r\n                <img\r\n                  src={\r\n                    \"/files/\" +\r\n                    String(\r\n                      isGroupChat\r\n                        ? groupchatdata.picture\r\n                        : usersdata.users[chattingto].profilePic\r\n                    )\r\n                  }\r\n                  style={{\r\n                    display: \"block\",\r\n                    height: \"65%\",\r\n                    margin: \"auto\",\r\n                    borderRadius: \"100%\",\r\n                  }}\r\n                  alt={usersdata.users[chattingto].username}\r\n                />\r\n                <p style={{ textAlign: \"center\" }}>\r\n                  {usersdata.users[chattingto].username}{\" \"}\r\n                  <FontAwesomeIcon\r\n                    style={{\r\n                      color:\r\n                        isonline === \"0\" ? \"var(--offline)\" : \"var(--online)\",\r\n                    }}\r\n                    icon={\r\n                      isonline === \"1\"\r\n                        ? faDesktop\r\n                        : isonline === \"M\"\r\n                        ? faMobileAlt\r\n                        : faEyeSlash\r\n                    }\r\n                  ></FontAwesomeIcon>\r\n                </p>\r\n              </>\r\n            ) : (\r\n              <p style={{ margin: \"1rem\", textAlign: \"center\" }}>\r\n                {ReadyState[readyState]}\r\n              </p>\r\n            )}\r\n          </div>\r\n          <KeyboardEventHandler\r\n            handleKeys={[\"alphanumeric\", \"space\", \"shift\", \"cap\"]}\r\n            onKeyEvent={() => {\r\n              inputref.current.focus();\r\n            }}\r\n          />\r\n          <MessageMaker\r\n            deleteFromID={deleteFromID}\r\n            editFromID={editFromID}\r\n            scrolltobottom={scrolltobottom}\r\n            scrollref={scrollerref}\r\n            messages={loadingchatmessages ? localchats[chattingto] : chats}\r\n            typingdata={typingdata}\r\n            toscroll={toscroll}\r\n            canloadmore={canloadmore && readyState === ReadyState.OPEN}\r\n            loadingmore={loadingmore}\r\n            loadmore={loadmore}\r\n            chatUpdateID={chatUpdateID}\r\n            sendJsonMessage={sendJsonMessage}\r\n          />\r\n          <div ref={bottomref}></div>\r\n          <div\r\n            style={{\r\n              position: \"fixed\",\r\n              padding: \"1rem\",\r\n              width: \"100%\",\r\n              bottom: \"0px\",\r\n              background:\r\n                \"linear-gradient(180deg, transparent, var(--dark-mode))\",\r\n              display: \"flex\",\r\n            }}\r\n          >\r\n            <div\r\n              style={{\r\n                margin: \"auto\",\r\n                width: \"100%\",\r\n                maxWidth: \"800px\",\r\n                display: \"flex\",\r\n              }}\r\n            >\r\n              <input\r\n                type=\"file\"\r\n                style={{ display: \"none\" }}\r\n                ref={fileref}\r\n                onInput={async (e: any) => {\r\n                  if (e.target.files.length > 0) {\r\n                    const file = e.target.files[0];\r\n                    e.target.value = \"\";\r\n                    sendFile(file);\r\n                  }\r\n                }}\r\n              />\r\n\r\n              <button\r\n                style={{\r\n                  width: \"37px\",\r\n                  marginRight: \"5px\",\r\n                  backgroundColor: \"var(--dark-bg-colour)\",\r\n                  padding: \"5px\",\r\n                  borderRadius: \"20px\",\r\n                  border: \"solid 1px var(--light-bg-colour)\",\r\n                  color: \"white\",\r\n                  textAlign: \"center\",\r\n                }}\r\n                onClick={() => {\r\n                  if (fileref.current) fileref.current.click();\r\n                }}\r\n              >\r\n                <FontAwesomeIcon icon={faPlus} />\r\n              </button>\r\n              <form\r\n                onSubmit={(e: any) => {\r\n                  e.preventDefault();\r\n                  const message = e.target[0].value.trim();\r\n                  if (message !== \"\") {\r\n                    e.target[0].value = \"\";\r\n                    const time = new Date().getTime();\r\n                    if (SendSound) {\r\n                      playSound(\"/sounds/send.mp3\");\r\n                    }\r\n                    const tempid = Math.random();\r\n                    sendJsonMessage({\r\n                      type: \"message\",\r\n                      message,\r\n                      tempid,\r\n                    });\r\n                    setcanloadmore(true);\r\n                    isLoadMore.current = false;\r\n                    setloadingchatmessages(false);\r\n                    setchats(\r\n                      chats\r\n                        .slice(Math.max(chats.length - StartMessagesLength, 0))\r\n                        .concat({\r\n                          from: user.id,\r\n                          file: undefined,\r\n                          mimetype: undefined,\r\n                          message,\r\n                          time,\r\n                          tempid,\r\n                          edited: false,\r\n                        })\r\n                    );\r\n                    setTimeout(scrolltobottom, 0);\r\n                    metypingref.current = false;\r\n                    setmetypingdata({\r\n                      type: \"typing\",\r\n                      typing: metypingref.current,\r\n                      length: 0,\r\n                      specialchars: {},\r\n                    });\r\n                  }\r\n                }}\r\n                ref={formref}\r\n                style={{\r\n                  width: \"100%\",\r\n                  display: \"flex\",\r\n                }}\r\n              >\r\n                <TextareaAutosize\r\n                  ref={inputref}\r\n                  onInput={(e: any) => {\r\n                    if (key.current === 13 && !shiftkey.current) {\r\n                      submitref.current.click();\r\n                      inputref.current.value = \"\";\r\n                    }\r\n                    const message = e.target.value.trim();\r\n                    const messagetoarray: string[] = Array.from(message);\r\n                    if (\r\n                      messagetoarray.length <= 3000 &&\r\n                      !(key.current === 13 && !shiftkey.current)\r\n                    ) {\r\n                      if (personaltyping) {\r\n                        playSound(\r\n                          `/sounds/click${Math.floor(\r\n                            Math.random() * 3 + 1\r\n                          )}.mp3`\r\n                        );\r\n                      }\r\n                      metypinglengthref.current = messagetoarray.length;\r\n                      if (metypinglengthref.current > 0) {\r\n                        metypingref.current = true;\r\n                        const specialchars: { [key: string]: any } = {};\r\n                        for (let i = 0; i < messagetoarray.length; i++) {\r\n                          if (bypassChars.includes(messagetoarray[i])) {\r\n                            specialchars[i] = messagetoarray[i];\r\n                          }\r\n                        }\r\n                        setmetypingdata({\r\n                          type: \"typing\",\r\n                          typing: metypingref.current,\r\n                          length: metypinglengthref.current,\r\n                          specialchars,\r\n                        });\r\n                        clearTimeout(typingTimer.current);\r\n                        typingTimer.current = setTimeout(\r\n                          doneTyping,\r\n                          doneTypingInterval\r\n                        );\r\n                      } else {\r\n                        metypingref.current = false;\r\n                        setmetypingdata({\r\n                          type: \"typing\",\r\n                          typing: false,\r\n                          length: 0,\r\n                          specialchars: {},\r\n                        });\r\n                      }\r\n                    } else {\r\n                      e.target.value = Array.from(e.target.value)\r\n                        .slice(0, 3000)\r\n                        .join(\"\");\r\n                    }\r\n                  }}\r\n                  onKeyDown={(e: any) => {\r\n                    key.current = e.keyCode;\r\n                    shiftkey.current = e.shiftKey;\r\n                    clearTimeout(typingTimer.current);\r\n                  }}\r\n                  autoFocus\r\n                  style={{\r\n                    backgroundColor: \"var(--dark-bg-colour)\",\r\n                    padding: \"5px\",\r\n                    borderRadius: \"20px\",\r\n                    width: \"calc(100% - 65px)\",\r\n                    border: \"solid 1px var(--light-bg-colour)\",\r\n                    color: \"white\",\r\n                    resize: \"none\",\r\n                  }}\r\n                  maxRows={10}\r\n                  placeholder=\"Type Something...\"\r\n                />\r\n                <button\r\n                  ref={submitref}\r\n                  style={{\r\n                    width: \"60px\",\r\n                    marginLeft: \"5px\",\r\n                    backgroundColor: \"var(--dark-bg-colour)\",\r\n                    padding: \"5px\",\r\n                    borderRadius: \"20px\",\r\n                    border: \"solid 1px var(--light-bg-colour)\",\r\n                    color: \"white\",\r\n                    textAlign: \"center\",\r\n                  }}\r\n                  type=\"submit\"\r\n                  onClick={() => {\r\n                    inputref.current.focus();\r\n                  }}\r\n                >\r\n                  <FontAwesomeIcon icon={faPaperPlane} />\r\n                </button>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </usersContext.Provider>\r\n  );\r\n}\r\n\r\nfunction Chat({ isGroupChat }: { isGroupChat: boolean }) {\r\n  const { loggedin, user } = useData();\r\n  const { id: chattingto } = useParams<{ id: string }>();\r\n  const time = useMemo(() => new Date().getTime(), []);\r\n  if (!loggedin) {\r\n    return <Redirect to=\"/\"></Redirect>;\r\n  } else if (chattingto && chattingto !== user.id) {\r\n    return (\r\n      <chatSettings.Provider value={{ isGroupChat, time }}>\r\n        <ChatPage />\r\n      </chatSettings.Provider>\r\n    );\r\n  }\r\n  return <ChatNotFound></ChatNotFound>;\r\n}\r\n\r\nexport default Chat;\r\n","import { faFileCode } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Error404() {\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"absolute\",\r\n        top: \"50%\",\r\n        left: \"50%\",\r\n        transform: \"translate(-50%, -50%)\",\r\n        textAlign: \"center\",\r\n        color: \"gray\",\r\n      }}\r\n    >\r\n      <div style={{ fontSize: \"50px\" }}>\r\n        <FontAwesomeIcon icon={faFileCode} />\r\n      </div>\r\n      <h1>Page Not Found!</h1>\r\n      <p>\r\n        go to the{\" \"}\r\n        <span>\r\n          <Link to=\"/\" style={{ color: \"var(--secondary-text-colour)\" }}>\r\n            Home Page\r\n          </Link>\r\n          !\r\n        </span>\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Error404;\r\n","import { SecureLink } from \"react-secure-link\";\r\nimport Linkify from \"react-linkify\";\r\nimport { useState } from \"react\";\r\nimport ColorThief from \"colorthief\";\r\n\r\nfunction ProfilePage({\r\n  user,\r\n}: {\r\n  user: {\r\n    profilePic: string;\r\n    username: string;\r\n    tag: string;\r\n    backgroundImage: string | null;\r\n    aboutme: string;\r\n    [key: string]: any;\r\n  };\r\n}) {\r\n  const [backgroundcolour, setbackgroundcolour] = useState({\r\n    r: 86,\r\n    g: 86,\r\n    b: 255,\r\n  });\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundImage: user.backgroundImage\r\n          ? `url(/files/${user.backgroundImage})`\r\n          : \"\",\r\n        backgroundColor: `rgb(${backgroundcolour.r}, ${backgroundcolour.g}, ${backgroundcolour.b})`,\r\n        padding: \"1rem\",\r\n        backgroundRepeat: user.backgroundImage ? \"no-repeat\" : \"\",\r\n        backgroundSize: user.backgroundImage ? \"cover\" : \"\",\r\n        borderRadius: \"10px\",\r\n        border: \"solid 1px var(--light-bg-colour)\",\r\n        width: \"100%\",\r\n        height: \"100%\",\r\n        backgroundPosition: user.backgroundImage ? \"center\" : \"\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          textAlign: \"center\",\r\n        }}\r\n      >\r\n        <img\r\n          alt=\"profile\"\r\n          src={\"/files/\" + user.profilePic}\r\n          style={{\r\n            maxHeight: \"75px\",\r\n            maxWidth: \"100%\",\r\n            height: \"auto\",\r\n            width: \"auto\",\r\n            borderRadius: \"50%\",\r\n          }}\r\n          onLoad={(e: any) => {\r\n            const colorThief = new ColorThief();\r\n            const resp = colorThief.getColor(e.target);\r\n            setbackgroundcolour({ r: resp[0], g: resp[1], b: resp[2] });\r\n          }}\r\n        />\r\n        <h4>\r\n          <span\r\n            style={{\r\n              color: \"white\",\r\n              WebkitTextStroke: \"1px black\",\r\n              fontWeight: \"bold\",\r\n            }}\r\n          >\r\n            {user.username}\r\n            <span\r\n              style={{\r\n                color: \"lightgray\",\r\n                fontWeight: \"normal\",\r\n              }}\r\n            >\r\n              #{user.tag}\r\n            </span>\r\n          </span>\r\n        </h4>\r\n      </div>\r\n      {user.aboutme ? (\r\n        <div\r\n          style={{\r\n            padding: \"1rem\",\r\n            backgroundColor: \"var(--dark-bg-colour)\",\r\n            borderRadius: \"10px\",\r\n            border: \"solid 1px var(--light-bg-colour)\",\r\n          }}\r\n        >\r\n          <b>About Me</b>\r\n          <div>\r\n            <Linkify\r\n              componentDecorator={(\r\n                decoratedHref: string,\r\n                decoratedText: string,\r\n                key: any\r\n              ) => (\r\n                <SecureLink\r\n                  href={decoratedHref}\r\n                  key={key}\r\n                  style={{ color: \"var(--secondary-text-colour)\" }}\r\n                >\r\n                  {decoratedText}\r\n                </SecureLink>\r\n              )}\r\n            >\r\n              {user.aboutme}\r\n            </Linkify>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <></>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ProfilePage;\r\n","function humanFileSize(bytes: number, si: boolean = false, dp: number = 1) {\r\n    const thresh = si ? 1000 : 1024;\r\n\r\n    if (Math.abs(bytes) < thresh) {\r\n        return bytes + ' B';\r\n    }\r\n\r\n    const units = si\r\n        ? ['kB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\r\n        : ['KiB', 'MiB', 'GiB', 'TiB', 'PiB', 'EiB', 'ZiB', 'YiB'];\r\n    let u = -1;\r\n    const r = 10 ** dp;\r\n\r\n    do {\r\n        bytes /= thresh;\r\n        ++u;\r\n    } while (Math.round(Math.abs(bytes) * r) / r >= thresh && u < units.length - 1);\r\n\r\n\r\n    return bytes.toFixed(dp) + ' ' + units[u];\r\n}\r\nexport default humanFileSize  ","import { Redirect } from \"react-router-dom\";\r\nimport { useData } from \"../hooks/datahook\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faPen } from \"@fortawesome/free-solid-svg-icons\";\r\nimport \"./css/usersettings.css\";\r\nimport ProfilePage from \"./profilePage\";\r\nimport { useState, useRef } from \"react\";\r\nimport Modal from \"react-modal\";\r\nimport { RouterForm } from \"./RouterForm\";\r\nimport Avatar from \"react-avatar-edit\";\r\nimport useApi from \"../hooks/useapi\";\r\nimport humanFileSize from \"../bytesToHumanReadable\";\r\n\r\nfunction ReactTimeago({ date }: { date: number }) {\r\n  const days = Math.floor(date / (1000 * 60 * 60 * 24));\r\n  const hours = Math.floor((date % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\r\n  const minutes = Math.floor((date % (1000 * 60 * 60)) / (1000 * 60));\r\n  const seconds = Math.floor((date % (1000 * 60)) / 1000);\r\n\r\n  return (\r\n    <p>{days + \"d \" + hours + \"h \" + minutes + \"m \" + seconds + \"s\"} left</p>\r\n  );\r\n}\r\n\r\nfunction Changebutton({\r\n  name,\r\n  children,\r\n  onClick = () => {},\r\n  clickable,\r\n}: {\r\n  name: string;\r\n  children: any;\r\n  onClick?: (e: any) => void;\r\n  clickable: boolean;\r\n}) {\r\n  return (\r\n    <div\r\n      style={{\r\n        border: \"solid 1px var(--light-bg-colour)\",\r\n        borderRadius: \"10px\",\r\n        backgroundColor: \"var(--main-bg-colour)\",\r\n        padding: \"1rem\",\r\n        margin: \"1rem\",\r\n      }}\r\n    >\r\n      <p style={{ margin: \"0\", color: \"lightgray\" }}>{name}</p>\r\n      {clickable ? (\r\n        <div\r\n          onClick={onClick}\r\n          className={\"changebutton\"}\r\n          style={{ color: \"white\" }}\r\n        >\r\n          {children}\r\n        </div>\r\n      ) : (\r\n        <div>{children}</div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nModal.setAppElement(\"#app\");\r\nfunction UserSettings() {\r\n  const { loggedin, user, rechecklogged } = useData();\r\n  const [error, seterror] = useState(\"\");\r\n  const backgroundinputref = useRef<any>(null);\r\n  const {\r\n    data: uploadlimitdata,\r\n    loading: uploadlimitloading,\r\n    error: uploadlimiterror,\r\n  } = useApi<{ filelimit: number; limitused: number; timeleft: number }>(\r\n    \"/api/uploadlimit\"\r\n  );\r\n  const [uploading, setuploading] = useState(false);\r\n  const [backgroundImage, setbackgroundImage] = useState<string | undefined>(\r\n    undefined\r\n  );\r\n  const [profile, setprofile] = useState<Blob | null>(null);\r\n  const [UsernameModelIsOpen, setUsernameModelIsOpen] = useState(false);\r\n  const [ProfileModelIsOpen, setProfileModelIsOpen] = useState(false);\r\n  if (!loggedin) {\r\n    return <Redirect to=\"/\" />;\r\n  }\r\n  return (\r\n    <div\r\n      style={{\r\n        margin: \"1rem\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          margin: \"auto\",\r\n          border: \"solid 1px var(--light-bg-colour)\",\r\n          borderRadius: \"10px\",\r\n          backgroundColor: \"var(--dark-bg-colour)\",\r\n          padding: \"1rem\",\r\n          maxWidth: \"700px\",\r\n        }}\r\n      >\r\n        <h1 style={{ textAlign: \"center\" }}>User Settings</h1>\r\n        <ProfilePage user={user} />\r\n        <Changebutton name=\"Upload Limit\" clickable={false}>\r\n          {uploadlimitloading || uploadlimiterror ? (\r\n            \"loading\"\r\n          ) : (\r\n            <>\r\n              <p>\r\n                {humanFileSize(Number(uploadlimitdata?.limitused), true)} /{\" \"}\r\n                {humanFileSize(Number(uploadlimitdata?.filelimit), true, 0)} (\r\n                {humanFileSize(\r\n                  Number(uploadlimitdata?.filelimit) -\r\n                    Number(uploadlimitdata?.limitused),\r\n                  true\r\n                )}{\" \"}\r\n                left)\r\n              </p>\r\n              <ReactTimeago date={Number(uploadlimitdata?.timeleft)} />\r\n            </>\r\n          )}\r\n        </Changebutton>\r\n        <div style={{ textAlign: \"center\" }}>EDIT</div>\r\n        <button\r\n          style={{\r\n            color: \"white\",\r\n            backgroundColor: \"var(--dark-bg-colour)\",\r\n            border: \"solid 2px var(--light-bg-colour)\",\r\n            borderRadius: \"5px\",\r\n            margin: \"0 1rem\",\r\n          }}\r\n          onClick={() => {\r\n            rechecklogged();\r\n          }}\r\n        >\r\n          update\r\n        </button>\r\n        <Changebutton\r\n          name=\"Profile Picture\"\r\n          onClick={() => {\r\n            setProfileModelIsOpen(true);\r\n          }}\r\n          clickable={true}\r\n        >\r\n          <img\r\n            alt=\"profile\"\r\n            src={\"/files/\" + user.profilePic}\r\n            style={{\r\n              height: \"75px\",\r\n              margin: \"0 1rem 0 0\",\r\n              borderRadius: \"50%\",\r\n            }}\r\n          />\r\n          <FontAwesomeIcon icon={faPen} />\r\n        </Changebutton>\r\n        <Modal\r\n          isOpen={ProfileModelIsOpen}\r\n          onRequestClose={() => {\r\n            setProfileModelIsOpen(false);\r\n          }}\r\n          onAfterOpen={() => {\r\n            seterror(\"\");\r\n          }}\r\n          style={{\r\n            overlay: { backgroundColor: \"rgb(18 18 18 / 50%)\" },\r\n            content: {\r\n              backgroundColor: \"var(--main-bg-colour)\",\r\n              border: \"1px solid var(--dark-bg-colour)\",\r\n              top: \"50%\",\r\n              left: \"50%\",\r\n              right: \"auto\",\r\n              bottom: \"auto\",\r\n              marginRight: \"-50%\",\r\n              transform: \"translate(-50%, -50%)\",\r\n            },\r\n          }}\r\n          contentLabel=\"Username Change\"\r\n        >\r\n          <form\r\n            onSubmit={async (e: any) => {\r\n              e.preventDefault();\r\n              setuploading(true);\r\n              if (profile) {\r\n                const fd = new FormData();\r\n                fd.append(\"profilepic\", profile);\r\n                const resp = await (\r\n                  await fetch(\"/api/setprofilepic\", {\r\n                    method: \"POST\",\r\n                    body: fd,\r\n                  })\r\n                ).json();\r\n                if (resp.resp) {\r\n                  setProfileModelIsOpen(false);\r\n                } else {\r\n                  seterror(resp.err);\r\n                }\r\n              } else {\r\n                seterror(\"input a profile picture!\");\r\n              }\r\n              setuploading(false);\r\n            }}\r\n          >\r\n            PROFILE PICTURE\r\n            <Avatar\r\n              width={300}\r\n              height={0}\r\n              imageWidth={300}\r\n              onCrop={(dataURL) => {\r\n                fetch(dataURL).then((fetched) =>\r\n                  fetched.blob().then((blob) => setprofile(blob))\r\n                );\r\n              }}\r\n              labelStyle={{ color: \"white\" }}\r\n              onClose={() => {\r\n                setprofile(null);\r\n              }}\r\n              exportMimeType=\"image/jpeg\"\r\n              exportSize={500}\r\n              exportQuality={0.75}\r\n              exportAsSquare\r\n            />\r\n            <p style={{ color: \"red\" }}>{error}</p>\r\n            {!uploading ? (\r\n              <button\r\n                style={{\r\n                  float: \"right\",\r\n                  marginTop: \"1rem\",\r\n                  color: \"white\",\r\n                  backgroundColor: \"var(--dark-bg-colour)\",\r\n                  border: \"solid 2px var(--light-bg-colour)\",\r\n                  borderRadius: \"5px\",\r\n                }}\r\n                type=\"submit\"\r\n              >\r\n                Save\r\n              </button>\r\n            ) : (\r\n              <></>\r\n            )}\r\n          </form>\r\n        </Modal>\r\n        <Changebutton name=\"Background Image\" clickable={false}>\r\n          <RouterForm\r\n            action=\"/api/setbackgroundimage\"\r\n            beforecallback={(e: any) => {\r\n              setuploading(true);\r\n              return true;\r\n            }}\r\n            callback={() => {\r\n              if (backgroundinputref.current) {\r\n                backgroundinputref.current.value = \"\";\r\n                setbackgroundImage(undefined);\r\n              }\r\n              setuploading(false);\r\n            }}\r\n          >\r\n            {backgroundImage ? (\r\n              <img\r\n                src={backgroundImage}\r\n                alt=\"background\"\r\n                style={{\r\n                  maxHeight: \"100px\",\r\n                  maxWidth: \"100px\",\r\n                }}\r\n              />\r\n            ) : (\r\n              <></>\r\n            )}\r\n            <input\r\n              type=\"file\"\r\n              name=\"backgroundImage\"\r\n              style={{ maxWidth: \"100%\" }}\r\n              onChange={(e: any) => {\r\n                setbackgroundImage(\r\n                  e.target.files[0]\r\n                    ? URL.createObjectURL(e.target.files[0])\r\n                    : undefined\r\n                );\r\n              }}\r\n              accept=\"image/*\"\r\n              ref={backgroundinputref}\r\n            />{\" \"}\r\n            {!uploading ? (\r\n              <button\r\n                style={{\r\n                  color: \"white\",\r\n                  backgroundColor: \"var(--dark-bg-colour)\",\r\n                  border: \"solid 2px var(--light-bg-colour)\",\r\n                  borderRadius: \"5px\",\r\n                }}\r\n                type=\"submit\"\r\n              >\r\n                Save\r\n              </button>\r\n            ) : (\r\n              <></>\r\n            )}\r\n          </RouterForm>\r\n        </Changebutton>\r\n        <Changebutton\r\n          name=\"Username\"\r\n          onClick={() => {\r\n            setUsernameModelIsOpen(true);\r\n          }}\r\n          clickable={true}\r\n        >\r\n          <span style={{ color: \"white\" }}>\r\n            {user.username}\r\n            <span style={{ color: \"lightgray\" }}>#{user.tag}</span>\r\n            <FontAwesomeIcon icon={faPen} />\r\n          </span>\r\n        </Changebutton>\r\n        <Modal\r\n          isOpen={UsernameModelIsOpen}\r\n          onRequestClose={() => {\r\n            setUsernameModelIsOpen(false);\r\n          }}\r\n          onAfterOpen={() => {\r\n            seterror(\"\");\r\n          }}\r\n          style={{\r\n            overlay: { backgroundColor: \"rgb(18 18 18 / 50%)\" },\r\n            content: {\r\n              backgroundColor: \"var(--main-bg-colour)\",\r\n              border: \"1px solid var(--dark-bg-colour)\",\r\n              top: \"50%\",\r\n              left: \"50%\",\r\n              right: \"auto\",\r\n              bottom: \"auto\",\r\n              marginRight: \"-50%\",\r\n              transform: \"translate(-50%, -50%)\",\r\n            },\r\n          }}\r\n          contentLabel=\"Username Change\"\r\n        >\r\n          <form\r\n            onSubmit={async (e: any) => {\r\n              e.preventDefault();\r\n              setuploading(true);\r\n              if (\r\n                e.target[0].value.trim() !== \"\" &&\r\n                e.target[1].value.trim() !== \"\"\r\n              ) {\r\n                const fd = new FormData();\r\n                fd.append(\"username\", e.target[0].value);\r\n                fd.append(\"pass\", e.target[1].value);\r\n                const resp = await (\r\n                  await fetch(\"/api/setusername\", { method: \"POST\", body: fd })\r\n                ).json();\r\n                if (resp.resp) {\r\n                  setUsernameModelIsOpen(false);\r\n                } else {\r\n                  seterror(resp.err);\r\n                }\r\n              } else {\r\n                seterror(\"input a username and password!\");\r\n              }\r\n              setuploading(false);\r\n            }}\r\n          >\r\n            Username\r\n            <div\r\n              style={{\r\n                border: \"solid 1px gray\",\r\n                backgroundColor: \"var(--dark-mode)\",\r\n                borderRadius: \"5px\",\r\n                width: \"100%\",\r\n              }}\r\n            >\r\n              <input\r\n                onInput={(e: any) => {\r\n                  e.target.value = e.target.value.trimStart();\r\n                  if (e.target.value.length > 30) {\r\n                    e.target.value = e.target.value.substring(0, 30);\r\n                  }\r\n                }}\r\n                style={{\r\n                  color: \"white\",\r\n                  backgroundColor: \"transparent\",\r\n                  border: \"none\",\r\n                  borderRight: \"solid 1px white\",\r\n                  borderRadius: \"0px\",\r\n                }}\r\n                placeholder=\"Username\"\r\n                autoComplete=\"new-password\"\r\n                type=\"text\"\r\n                defaultValue={user.username}\r\n              ></input>\r\n              <span\r\n                style={{\r\n                  color: \"lightgray\",\r\n                  padding: \"0 1rem\",\r\n                  float: \"right\",\r\n                }}\r\n              >\r\n                #{user.tag}\r\n              </span>\r\n            </div>\r\n            <input\r\n              style={{\r\n                width: \"100%\",\r\n                color: \"white\",\r\n                backgroundColor: \"var(--dark-mode)\",\r\n                border: \"solid 1px gray\",\r\n                borderRadius: \"5px\",\r\n              }}\r\n              placeholder=\"Current Password\"\r\n              autoComplete=\"new-password\"\r\n              type=\"password\"\r\n            />\r\n            <p style={{ color: \"red\" }}>{error}</p>\r\n            {!uploading ? (\r\n              <button\r\n                style={{\r\n                  float: \"right\",\r\n                  marginTop: \"1rem\",\r\n                  color: \"white\",\r\n                  backgroundColor: \"var(--dark-bg-colour)\",\r\n                  border: \"solid 2px var(--light-bg-colour)\",\r\n                  borderRadius: \"5px\",\r\n                }}\r\n                type=\"submit\"\r\n              >\r\n                Save\r\n              </button>\r\n            ) : (\r\n              <></>\r\n            )}\r\n          </form>\r\n        </Modal>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default UserSettings;\r\n","const snooze = (milliseconds: number) =>\r\n  new Promise((resolve) => setTimeout(resolve, milliseconds));\r\nexport default snooze;\r\n","import { faExclamationTriangle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport playSound from \"../playsound\";\r\nimport errordataurl from \"../errordataurl.json\";\r\n\r\nfunction LoadError({ error }: { error: String }) {\r\n  useEffect(() => {\r\n    playSound(errordataurl);\r\n  }, []);\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"absolute\",\r\n        top: \"50%\",\r\n        left: \"50%\",\r\n        transform: \"translate(-50%, -50%)\",\r\n        textAlign: \"center\",\r\n        color: \"red\",\r\n      }}\r\n    >\r\n      <div style={{ fontSize: \"50px\" }}>\r\n        <FontAwesomeIcon icon={faExclamationTriangle} />\r\n      </div>\r\n      <h1>ERROR</h1>\r\n      <p>{error}</p>\r\n      <p>\r\n        go to the{\" \"}\r\n        <span>\r\n          <Link to=\"/\" style={{ color: \"var(--secondary-text-colour)\" }}>\r\n            Home Page\r\n          </Link>\r\n          !\r\n        </span>\r\n      </p>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoadError;\r\n","import { useEffect, useState } from \"react\";\r\nimport { useData } from \"../hooks/datahook\";\r\nimport ColorThief from \"colorthief\";\r\nimport { Link, Redirect, useHistory } from \"react-router-dom\";\r\nimport useApi from \"../hooks/useapi\";\r\nimport Loader from \"./loader\";\r\nimport LoadError from \"./error\";\r\nimport { useRef } from \"react\";\r\nimport \"./css/contacts.css\";\r\nimport Modal from \"react-modal\";\r\nimport ProfilePage from \"./profilePage\";\r\nimport playSound from \"../playsound\";\r\nimport useLocalStorage from \"../hooks/useLocalStorage\";\r\nconst colorThief = new ColorThief();\r\n\r\nfunction Contact({\r\n  user,\r\n}: {\r\n  user: {\r\n    profilePic: string;\r\n    username: string;\r\n    id: string;\r\n    tag: string;\r\n    backgroundImage: string | null;\r\n    aboutme: string;\r\n    [key: string]: any;\r\n  };\r\n}) {\r\n  const [backgroundcolour, setbackgroundcolour] = useState({\r\n    r: 86,\r\n    g: 86,\r\n    b: 255,\r\n  });\r\n  const history = useHistory();\r\n  const holdref = useRef<any>();\r\n  const [UserModelIsOpen, setUserModelIsOpen] = useState(false);\r\n  return (\r\n    <>\r\n      <div\r\n        onPointerDown={(e: any) => {\r\n          holdref.current = setTimeout(() => {\r\n            holdref.current = undefined;\r\n            playSound(\"/sounds/click1.mp3\");\r\n            setUserModelIsOpen(true);\r\n          }, 500);\r\n          playSound(\"/sounds/click3.mp3\");\r\n        }}\r\n        onTouchMove={() => {\r\n          if (holdref.current) {\r\n            clearInterval(holdref.current);\r\n            holdref.current = undefined;\r\n          }\r\n        }}\r\n        onClick={() => {\r\n          if (holdref.current) {\r\n            clearInterval(holdref.current);\r\n            playSound(\"/sounds/click1.mp3\");\r\n            history.push(`/chat/${user.id}`);\r\n          }\r\n        }}\r\n        style={{\r\n          backgroundImage: user.backgroundImage\r\n            ? `url(/files/${user.backgroundImage})`\r\n            : \"\",\r\n          backgroundColor: `rgb(${backgroundcolour.r}, ${backgroundcolour.g}, ${backgroundcolour.b})`,\r\n          padding: \"1rem\",\r\n          marginBottom: \"1rem\",\r\n          backgroundRepeat: user.backgroundImage ? \"no-repeat\" : \"\",\r\n          backgroundSize: user.backgroundImage ? \"cover\" : \"\",\r\n          borderRadius: \"10px\",\r\n          backgroundPosition: user.backgroundImage ? \"center\" : \"\",\r\n          textOverflow: \"ellipsis\",\r\n          overflow: \"hidden\",\r\n          whiteSpace: \"nowrap\",\r\n          cursor: \"pointer\",\r\n\r\n          minHeight: \"82px\",\r\n        }}\r\n        className={\"contactbutton noselect\"}\r\n      >\r\n        <img\r\n          alt=\"profile\"\r\n          loading=\"lazy\"\r\n          src={\"/files/\" + user.profilePic}\r\n          style={{\r\n            maxHeight: \"50px\",\r\n            maxWidth: \"100%\",\r\n            height: \"auto\",\r\n            width: \"auto\",\r\n            borderRadius: \"50%\",\r\n          }}\r\n          onLoad={(e: any) => {\r\n            const resp = colorThief.getColor(e.target);\r\n            setbackgroundcolour({ r: resp[0], g: resp[1], b: resp[2] });\r\n          }}\r\n        />\r\n        <span>\r\n          <span\r\n            style={{\r\n              color: \"white\",\r\n              WebkitTextStroke: \"1px black\",\r\n              fontWeight: \"bold\",\r\n              fontSize: \"20px\",\r\n              marginLeft: \"5px\",\r\n            }}\r\n          >\r\n            {user.username}\r\n          </span>\r\n        </span>\r\n        <div\r\n          style={{\r\n            float: \"right\",\r\n            marginLeft: \"3px\",\r\n            background: \"var(--main-bg-colour)\",\r\n            padding: \"5px\",\r\n            borderRadius: \"10px\",\r\n            cursor: \"pointer\",\r\n          }}\r\n        >\r\n          Hold for Profile\r\n        </div>\r\n      </div>\r\n      <Modal\r\n        isOpen={UserModelIsOpen}\r\n        onRequestClose={() => {\r\n          setUserModelIsOpen(false);\r\n        }}\r\n        style={{\r\n          overlay: {\r\n            backgroundColor: \"rgb(18 18 18 / 50%)\",\r\n            zIndex: 10,\r\n          },\r\n          content: {\r\n            backgroundColor: \"transparent\",\r\n            zIndex: 11,\r\n            border: \"none\",\r\n            top: \"50%\",\r\n            left: \"50%\",\r\n            right: \"auto\",\r\n            bottom: \"auto\",\r\n            marginRight: \"-50%\",\r\n            padding: undefined,\r\n            transform: \"translate(-50%, -50%)\",\r\n            width: \"75%\",\r\n            height: \"50%\",\r\n            maxWidth: \"750px\",\r\n\r\n            maxHeight: \"500px\",\r\n          },\r\n        }}\r\n        contentLabel=\"Username Change\"\r\n      >\r\n        <ProfilePage user={user}></ProfilePage>\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction Contacts() {\r\n  const { loggedin } = useData();\r\n  const { data, loading, error } = useApi<any>(\"/api/getallcontacts\");\r\n  const [search, setsearch] = useState(\"\");\r\n  const [localcontacts, setlocalcontacts] = useLocalStorage<undefined | any>(\r\n    \"contacts\",\r\n    undefined\r\n  );\r\n  useEffect(() => {\r\n    document.documentElement.scrollTop = 0;\r\n  }, []);\r\n  useEffect(() => {\r\n    if (data && data.contacts) {\r\n      setlocalcontacts(data.contacts);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [data]);\r\n  if (!loggedin) {\r\n    return <Redirect to=\"/\"></Redirect>;\r\n  }\r\n  return (loading || error) && !localcontacts ? (\r\n    error ? (\r\n      <LoadError error={String(error)}></LoadError>\r\n    ) : (\r\n      <Loader></Loader>\r\n    )\r\n  ) : (\r\n    <div\r\n      style={{\r\n        margin: \"1rem 0\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          margin: \"auto\",\r\n          borderRadius: \"10px\",\r\n          padding: \"1rem\",\r\n          maxWidth: \"700px\",\r\n        }}\r\n      >\r\n        <h1 style={{ textAlign: \"center\" }}>Contacts</h1>\r\n        <div>\r\n          {localcontacts || data.resp ? (\r\n            (data && data.contacts.length > 0) ||\r\n            (localcontacts && localcontacts.length > 0) ? (\r\n              <>\r\n                <input\r\n                  type=\"text\"\r\n                  style={{\r\n                    width: \"100%\",\r\n                    backgroundColor: \"var(--dark-bg-colour)\",\r\n                    padding: \"5px\",\r\n                    borderRadius: \"20px\",\r\n                    border: \"solid 1px var(--light-bg-colour)\",\r\n                    color: \"white\",\r\n                    marginBottom: \"1rem\",\r\n                  }}\r\n                  placeholder={\"search contacts\"}\r\n                  onKeyUp={(e: any) => {\r\n                    setsearch(e.target.value.trim());\r\n                  }}\r\n                ></input>\r\n                {(data ? data.contacts : localcontacts).map((contact: any) =>\r\n                  (contact.username + \"#\" + contact.tag)\r\n                    .toUpperCase()\r\n                    .includes(search.toUpperCase()) ? (\r\n                    <Contact key={contact.id} user={contact}></Contact>\r\n                  ) : (\r\n                    <></>\r\n                  )\r\n                )}\r\n              </>\r\n            ) : (\r\n              <p style={{ textAlign: \"center\" }}>\r\n                You have no contacts,{\" \"}\r\n                <span>\r\n                  <Link\r\n                    style={{ color: \"var(--secondary-text-colour)\" }}\r\n                    to=\"/add\"\r\n                  >\r\n                    add people\r\n                  </Link>\r\n                </span>{\" \"}\r\n                or wait for them to add you back!\r\n              </p>\r\n            )\r\n          ) : (\r\n            <p style={{ color: \"red\", textAlign: \"center\" }}>{data.err}</p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Contacts;\r\n","import { useEffect } from \"react\";\r\nimport { useState } from \"react\";\r\nimport useApi from \"../hooks/useapi\";\r\nimport ColorThief from \"colorthief\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faUserPlus } from \"@fortawesome/free-solid-svg-icons\";\r\nimport Loader from \"./loader\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useData } from \"../hooks/datahook\";\r\nimport QRCode from \"qrcode.react\";\r\nimport QrReader from \"react-qr-reader\";\r\n\r\nconst colorThief = new ColorThief();\r\n\r\nfunction UserListing({\r\n  user,\r\n  setloading,\r\n}: {\r\n  user: {\r\n    profilePic: string;\r\n    username: string;\r\n    id: string;\r\n    tag: string;\r\n    backgroundImage: string | null;\r\n    [key: string]: any;\r\n  };\r\n  setloading: Function;\r\n}) {\r\n  const [backgroundcolour, setbackgroundcolour] = useState({\r\n    r: 86,\r\n    g: 86,\r\n    b: 255,\r\n  });\r\n  const history = useHistory();\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundImage: user.backgroundImage\r\n          ? `url(/files/${user.backgroundImage})`\r\n          : \"\",\r\n        backgroundColor: `rgb(${backgroundcolour.r}, ${backgroundcolour.g}, ${backgroundcolour.b})`,\r\n        padding: \"1rem\",\r\n        backgroundRepeat: user.backgroundImage ? \"no-repeat\" : \"\",\r\n        backgroundSize: user.backgroundImage ? \"cover\" : \"\",\r\n        borderRadius: \"10px\",\r\n        border: \"solid 1px var(--light-bg-colour)\",\r\n        margin: \"1rem\",\r\n        backgroundPosition: user.backgroundImage ? \"center\" : \"\",\r\n        textOverflow: \"ellipsis\",\r\n        overflow: \"hidden\",\r\n        whiteSpace: \"nowrap\",\r\n      }}\r\n    >\r\n      <img\r\n        alt=\"profile\"\r\n        loading=\"lazy\"\r\n        src={\"/files/\" + user.profilePic}\r\n        style={{\r\n          maxHeight: \"75px\",\r\n          maxWidth: \"100%\",\r\n          height: \"auto\",\r\n          width: \"auto\",\r\n          borderRadius: \"50%\",\r\n        }}\r\n        onLoad={async (e: any) => {\r\n          const resp = colorThief.getColor(e.target);\r\n          setbackgroundcolour({ r: resp[0], g: resp[1], b: resp[2] });\r\n        }}\r\n      />\r\n      <span>\r\n        <span\r\n          style={{\r\n            color: \"white\",\r\n            WebkitTextStroke: \"1px black\",\r\n            fontWeight: \"bold\",\r\n            fontSize: \"20px\",\r\n            marginLeft: \"5px\",\r\n          }}\r\n        >\r\n          {user.username}\r\n          <span\r\n            style={{\r\n              color: \"lightgray\",\r\n              fontWeight: \"normal\",\r\n            }}\r\n          >\r\n            #{user.tag}\r\n          </span>\r\n        </span>\r\n      </span>\r\n      <div\r\n        style={{\r\n          float: \"right\",\r\n          background: \"var(--main-bg-colour)\",\r\n          padding: \"5px\",\r\n          borderRadius: \"10px\",\r\n          cursor: \"pointer\",\r\n        }}\r\n        onClick={async () => {\r\n          setloading(true);\r\n          const formdata = new FormData();\r\n          formdata.append(\"user\", user.id);\r\n          const resp = await (\r\n            await fetch(\"/api/frienduserfromid\", {\r\n              method: \"POST\",\r\n              body: formdata,\r\n            })\r\n          ).json();\r\n          if (resp.friends) {\r\n            history.push(`/chat/${user.id}`);\r\n          } else {\r\n            history.push(`/contacts`);\r\n          }\r\n          setloading(false);\r\n        }}\r\n      >\r\n        <FontAwesomeIcon icon={faUserPlus}></FontAwesomeIcon>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction AddPeople() {\r\n  const [search, setsearch] = useState(\"\");\r\n  const { loggedin, user } = useData();\r\n  const { data, setData } = useApi<any>(\r\n    search\r\n      ? \"/api/searchusers?\" + new URLSearchParams({ q: search }).toString()\r\n      : null\r\n  );\r\n  const { data: friendrequests } = useApi<any>(\"/api/getallfriendrequests\");\r\n  const history = useHistory();\r\n  const [loading, setloading] = useState(false);\r\n  useEffect(() => {\r\n    if (!search) setData(undefined);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [search]);\r\n  if (!loggedin) {\r\n    history.push(\"/\");\r\n  }\r\n  return loading ? (\r\n    <Loader></Loader>\r\n  ) : (\r\n    <div\r\n      style={{\r\n        margin: \"1rem\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          margin: \"auto\",\r\n          border: \"solid 1px var(--light-bg-colour)\",\r\n          borderRadius: \"10px\",\r\n          backgroundColor: \"var(--dark-bg-colour)\",\r\n          padding: \"1rem\",\r\n          maxWidth: \"700px\",\r\n        }}\r\n      >\r\n        <h1 style={{ textAlign: \"center\" }}>Add</h1>\r\n        <div\r\n          style={{\r\n            maxWidth: \"250px\",\r\n            textAlign: \"center\",\r\n            margin: \"1rem auto\",\r\n            border: \"solid 1px var(--light-bg-colour)\",\r\n            padding: \"1rem\",\r\n            borderRadius: \"10px\",\r\n          }}\r\n        >\r\n          {user ? (\r\n            <QRCode\r\n              value={user.id}\r\n              style={{ width: \"100%\", height: undefined }}\r\n            />\r\n          ) : (\r\n            <></>\r\n          )}\r\n          <p>add people with your QR Code</p>\r\n          <QrReader\r\n            delay={300}\r\n            onError={console.error}\r\n            onScan={async (scan) => {\r\n              if (scan) {\r\n                setloading(true);\r\n                const formdata = new FormData();\r\n                formdata.append(\"user\", scan);\r\n                const resp = await (\r\n                  await fetch(\"/api/frienduserfromid\", {\r\n                    method: \"POST\",\r\n                    body: formdata,\r\n                  })\r\n                ).json();\r\n                if (resp.friends) {\r\n                  history.push(`/chat/${scan}`);\r\n                } else {\r\n                  history.push(`/contacts`);\r\n                }\r\n                setloading(false);\r\n              }\r\n            }}\r\n            style={{ width: \"100%\" }}\r\n          />\r\n        </div>\r\n        <div style={{ textAlign: \"center\" }}>\r\n          <h2>Friend Requests</h2>\r\n          <div>\r\n            {friendrequests ? (\r\n              friendrequests.resp ? (\r\n                friendrequests.friendrequests.length > 0 ? (\r\n                  <div>\r\n                    <p style={{ textAlign: \"end\" }}>\r\n                      {friendrequests.friendrequests.length} friend request\r\n                      {friendrequests.friendrequests.length === 1 ? \"\" : \"s\"}\r\n                    </p>\r\n                    {friendrequests.friendrequests.map(\r\n                      (\r\n                        value: {\r\n                          profilePic: string;\r\n                          username: string;\r\n                          id: string;\r\n                          tag: string;\r\n                          backgroundImage: string | null;\r\n                          [key: string]: any;\r\n                        },\r\n                        index: number\r\n                      ) => (\r\n                        <UserListing\r\n                          user={value}\r\n                          setloading={setloading}\r\n                          key={value.id}\r\n                        />\r\n                      )\r\n                    )}\r\n                  </div>\r\n                ) : (\r\n                  <p>You have no friend requests!</p>\r\n                )\r\n              ) : (\r\n                <p style={{ color: \"red\", textAlign: \"center\" }}>{data.err}</p>\r\n              )\r\n            ) : (\r\n              <p style={{ textAlign: \"center\" }}>loading...</p>\r\n            )}\r\n          </div>\r\n        </div>\r\n        <input\r\n          type=\"text\"\r\n          style={{\r\n            width: \"100%\",\r\n            backgroundColor: \"var(--dark-bg-colour)\",\r\n            padding: \"5px\",\r\n            borderRadius: \"20px\",\r\n            border: \"solid 1px var(--light-bg-colour)\",\r\n            color: \"white\",\r\n          }}\r\n          placeholder={\"search users\"}\r\n          onKeyUp={(e: any) => {\r\n            setsearch(e.target.value.trim());\r\n          }}\r\n        ></input>\r\n        <div>\r\n          {data && search ? (\r\n            data.resp ? (\r\n              data.data.length > 0 ? (\r\n                <div>\r\n                  <p style={{ textAlign: \"end\" }}>\r\n                    {data.data.length} result{data.data.length === 1 ? \"\" : \"s\"}{\" \"}\r\n                    found!\r\n                  </p>\r\n                  {data.data.map(\r\n                    (\r\n                      value: {\r\n                        profilePic: string;\r\n                        username: string;\r\n                        id: string;\r\n                        tag: string;\r\n                        backgroundImage: string | null;\r\n                        [key: string]: any;\r\n                      },\r\n                      index: number\r\n                    ) => (\r\n                      <UserListing\r\n                        user={value}\r\n                        setloading={setloading}\r\n                        key={value.id}\r\n                      />\r\n                    )\r\n                  )}\r\n                </div>\r\n              ) : (\r\n                <p>No Results Found!</p>\r\n              )\r\n            ) : (\r\n              <p style={{ color: \"red\", textAlign: \"center\" }}>{data.err}</p>\r\n            )\r\n          ) : (\r\n            <p style={{ textAlign: \"center\" }}>\r\n              type someones username and tag\r\n            </p>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AddPeople;\r\n","function setIcon(path: string) {\r\n  const links: any = document.querySelectorAll(\"link[rel~='icon']\");\r\n  for (let i = 0; i < links.length; i++) {\r\n    let link = links[i];\r\n    if (i === 0) {\r\n      if (!link) {\r\n        link = document.createElement(\"link\");\r\n        document.getElementsByTagName(\"head\")[0].appendChild(link);\r\n      }\r\n      link.type = \"image/x-icon\";\r\n      link.rel = \"icon\";\r\n      link.href = path;\r\n    } else {\r\n      link.remove();\r\n    }\r\n  }\r\n}\r\nexport default setIcon;\r\n","import { useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport useWebSocket from \"react-use-websocket\";\r\nimport { useData } from \"./hooks/datahook\";\r\nimport playSound from \"./playsound\";\r\nimport useWindowFocus from \"use-window-focus\";\r\nimport setIcon from \"./setIcons\";\r\nfunction NotificationComponent() {\r\n  const { loggedin, NotificationAPI } = useData();\r\n  const isFocussed = useWindowFocus();\r\n  const history = useHistory();\r\n  const { lastJsonMessage, sendJsonMessage } = useWebSocket(\r\n    `ws${window.location.protocol === \"https:\" ? \"s\" : \"\"}://${\r\n      !process.env.NODE_ENV || process.env.NODE_ENV === \"development\"\r\n        ? window.location.hostname + \":5000\"\r\n        : window.location.host\r\n    }/notifications`,\r\n    {\r\n      shouldReconnect: () => true,\r\n    },\r\n    loggedin\r\n  );\r\n\r\n  useEffect(() => {\r\n    sendJsonMessage({ type: \"setFocus\", focus: isFocussed });\r\n    setIcon(\"/favicon.ico\");\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isFocussed]);\r\n  useEffect(() => {\r\n    if (lastJsonMessage) {\r\n      if (lastJsonMessage.type === \"ping\") {\r\n        sendJsonMessage({ type: \"pong\" });\r\n      } else {\r\n        if (lastJsonMessage.sound !== false) {\r\n          playSound(\r\n            lastJsonMessage.sound\r\n              ? lastJsonMessage.sound\r\n              : \"/sounds/notification.mp3\"\r\n          );\r\n        }\r\n        if (!isFocussed) {\r\n          setIcon(\"/favicon notification.ico\");\r\n        }\r\n        NotificationAPI(\r\n          {\r\n            title: lastJsonMessage.title,\r\n            message: lastJsonMessage.message,\r\n            type: \"default\",\r\n            onRemoval: (_: string, type: any) => {\r\n              if (type === \"click\") {\r\n                history.push(lastJsonMessage.to);\r\n                window.focus();\r\n              }\r\n            },\r\n            insert: \"top\",\r\n            container: \"top-right\",\r\n            animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n            animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n            dismiss: {\r\n              pauseOnHover: true,\r\n              duration: 5000,\r\n              onScreen: true,\r\n            },\r\n          },\r\n          () => {\r\n            history.push(lastJsonMessage.to);\r\n          }\r\n        );\r\n      }\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [lastJsonMessage]);\r\n  return <></>;\r\n}\r\nexport default NotificationComponent;\r\n","import playSound from \"../playsound\";\r\n\r\nconst ToggleSwitch = ({\r\n  children,\r\n  onChange,\r\n  defaultChecked,\r\n  checked,\r\n}: {\r\n  children?: string;\r\n  onChange?: Function;\r\n  checked?: boolean;\r\n  defaultChecked?: boolean;\r\n}) => (\r\n  <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n    <div>{children}</div>\r\n    <label style={{ margin: 0 }} className=\"form-switch noselect\">\r\n      <input\r\n        type=\"checkbox\"\r\n        onChange={(e: any) => {\r\n          if (onChange instanceof Function) {\r\n            onChange(e);\r\n            playSound(`/sounds/click${checked ? 1 : 3}.mp3`);\r\n          }\r\n        }}\r\n        checked={checked}\r\n        defaultChecked={defaultChecked}\r\n      />\r\n      <i></i>\r\n    </label>\r\n  </div>\r\n);\r\n\r\nexport default ToggleSwitch;\r\n","import { useEffect } from \"react\";\r\nimport useApi from \"../hooks/useapi\";\r\nimport useLocalStorage from \"../hooks/useLocalStorage\";\r\nimport ToggleSwitch from \"./switch\";\r\n\r\nfunction Setting({ children }: { children: any }) {\r\n  return (\r\n    <div\r\n      style={{\r\n        marginBottom: \"1rem\",\r\n        width: \"100%\",\r\n        border: \"solid 1px var(--light-bg-colour)\",\r\n        borderRadius: \"10px\",\r\n        backgroundColor: \"var(--main-bg-colour)\",\r\n        padding: \"5px\",\r\n      }}\r\n    >\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Settings() {\r\n  const [soundEffects, setSoundEffects] = useLocalStorage(\r\n    \"sound effects\",\r\n    true\r\n  );\r\n  const [personaltyping, setpersonaltyping] = useLocalStorage(\r\n    \"Keyboard Typing Sound\",\r\n    true\r\n  );\r\n  const [Recipienttyping, setRecipienttyping] = useLocalStorage(\r\n    \"Recipient Typing Sound\",\r\n    true\r\n  );\r\n  const [SendSound, setSendSound] = useLocalStorage(\"Send Sound\", true);\r\n  const [ReceiveSound, setReceiveSound] = useLocalStorage(\r\n    \"Receive Sound\",\r\n    true\r\n  );\r\n  const { data: notifications } = useApi<{ discord: boolean; email: boolean }>(\r\n    \"/api/getNotificationsOn\"\r\n  );\r\n  const [volume, setVolume] = useLocalStorage(\"volume\", 15);\r\n  const [discord, setdiscord] = useLocalStorage(\"discord\", true);\r\n  const [email, setemail] = useLocalStorage(\"email\", true);\r\n  useEffect(() => {\r\n    if (notifications) {\r\n      setdiscord(notifications.discord);\r\n      setemail(notifications.email);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [notifications]);\r\n  return (\r\n    <div\r\n      style={{\r\n        margin: \"1rem\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          margin: \"auto\",\r\n          border: \"solid 1px var(--light-bg-colour)\",\r\n          borderRadius: \"10px\",\r\n          backgroundColor: \"var(--dark-bg-colour)\",\r\n          padding: \"1rem\",\r\n          maxWidth: \"700px\",\r\n        }}\r\n      >\r\n        <h1 style={{ textAlign: \"center\" }}>Settings</h1>\r\n\r\n        <div>\r\n          <Setting>\r\n            <ToggleSwitch\r\n              onChange={() => {\r\n                setSoundEffects(!soundEffects);\r\n              }}\r\n              checked={soundEffects}\r\n            >\r\n              Sound Effects\r\n            </ToggleSwitch>\r\n          </Setting>\r\n          {soundEffects ? (\r\n            <div\r\n              style={{\r\n                marginBottom: \"1rem\",\r\n                width: \"100%\",\r\n                border: \"solid 1px var(--light-bg-colour)\",\r\n                borderRadius: \"10px\",\r\n                padding: \"5px\",\r\n                paddingTop: \"calc(1rem + 5px)\",\r\n              }}\r\n            >\r\n              <Setting>\r\n                <label\r\n                  style={{\r\n                    display: \"flex\",\r\n                    justifyContent: \"space-between\",\r\n                    margin: 0,\r\n                  }}\r\n                >\r\n                  <div>Volume {volume * 5}%</div>\r\n                  <input\r\n                    type=\"range\"\r\n                    max=\"20\"\r\n                    min=\"0\"\r\n                    value={volume}\r\n                    onInput={(e: any) => {\r\n                      setVolume(e.target.value);\r\n                    }}\r\n                  ></input>\r\n                </label>\r\n              </Setting>\r\n              <Setting>\r\n                <ToggleSwitch\r\n                  onChange={() => {\r\n                    setpersonaltyping(!personaltyping);\r\n                  }}\r\n                  checked={personaltyping}\r\n                >\r\n                  Keyboard Typing Sound\r\n                </ToggleSwitch>\r\n              </Setting>\r\n              <Setting>\r\n                <ToggleSwitch\r\n                  onChange={() => {\r\n                    setRecipienttyping(!Recipienttyping);\r\n                  }}\r\n                  checked={Recipienttyping}\r\n                >\r\n                  Recipient Typing Sound\r\n                </ToggleSwitch>\r\n              </Setting>\r\n              <Setting>\r\n                <ToggleSwitch\r\n                  onChange={() => {\r\n                    setSendSound(!SendSound);\r\n                  }}\r\n                  checked={SendSound}\r\n                >\r\n                  Send Sound\r\n                </ToggleSwitch>\r\n              </Setting>\r\n              <Setting>\r\n                <ToggleSwitch\r\n                  onChange={() => {\r\n                    setReceiveSound(!ReceiveSound);\r\n                  }}\r\n                  checked={ReceiveSound}\r\n                >\r\n                  Receive Sound\r\n                </ToggleSwitch>\r\n              </Setting>\r\n            </div>\r\n          ) : (\r\n            <></>\r\n          )}\r\n          <div\r\n            style={{\r\n              marginBottom: \"1rem\",\r\n              width: \"100%\",\r\n              border: \"solid 1px var(--light-bg-colour)\",\r\n              borderRadius: \"10px\",\r\n              padding: \"5px\",\r\n              paddingTop: \"calc(1rem + 5px)\",\r\n            }}\r\n          >\r\n            <Setting>\r\n              <ToggleSwitch\r\n                onChange={() => {\r\n                  setdiscord(!discord);\r\n                  const formdata = new FormData();\r\n                  formdata.append(\"toggle\", JSON.stringify(!discord));\r\n                  fetch(\"/api/togglediscord\", {\r\n                    method: \"POST\",\r\n                    body: formdata,\r\n                  });\r\n                }}\r\n                checked={discord}\r\n              >\r\n                Discord Notifications\r\n              </ToggleSwitch>\r\n            </Setting>\r\n            <Setting>\r\n              <ToggleSwitch\r\n                onChange={() => {\r\n                  setemail(!email);\r\n                  const formdata = new FormData();\r\n                  formdata.append(\"toggle\", JSON.stringify(!email));\r\n                  fetch(\"/api/toggleemail\", {\r\n                    method: \"POST\",\r\n                    body: formdata,\r\n                  });\r\n                }}\r\n                checked={email}\r\n              >\r\n                Email Notifications\r\n              </ToggleSwitch>\r\n            </Setting>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Settings;\r\n","import { useParams } from \"react-router\";\r\nimport useApi from \"../hooks/useapi\";\r\nimport Loader from \"./loader\";\r\n\r\nfunction Verify() {\r\n    const { id } = useParams<{ id: string }>();\r\n    const { data, loading, error } = useApi<{ verified: boolean, user: any }>(`/api/verify/${id}`)\r\n    return loading || error ? <Loader></Loader> : data?.verified ? <div style={{ textAlign: \"center\" }}><h1>Verified!</h1><p>the account {data?.user.username}#{data?.user.tag} has been verified!</p></div> : <h1 style={{ textAlign: \"center\" }}>Verification URL invalid!</h1>\r\n}\r\n\r\nexport default Verify","import { Redirect, useParams } from \"react-router\";\r\nimport { useData } from \"../hooks/datahook\";\r\nimport useApi from \"../hooks/useapi\"\r\nimport Loader from \"./loader\";\r\n\r\nfunction LinkDiscord() {\r\n    const { id } = useParams<{ id: string }>();\r\n    const { loggedin } = useData();\r\n    const { data, error, loading } = useApi<{ linked: boolean, error?: string }>(loggedin?`/api/link/${id}`: null)\r\n    if (!loggedin) {\r\n        return <Redirect to={\"/login?\"+new URLSearchParams({to: `/link/${id}`})}></Redirect>;\r\n    }\r\n    return error || loading ? <Loader></Loader> : <div style={{ textAlign: \"center\" }}>{data?.linked ? <><h1>Account Linked!</h1><p>you can now close this page</p></> : <><h1>Failed to Link</h1><p>{data?.error}</p></>}</div>\r\n}\r\nexport default LinkDiscord","import {\r\n  faDownload,\r\n  faPhotoVideo,\r\n  faPlus,\r\n} from \"@fortawesome/free-solid-svg-icons\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { useRef } from \"react\";\r\nimport { Link, Redirect, useParams } from \"react-router-dom\";\r\nimport { useData } from \"../hooks/datahook\";\r\nimport useApi from \"../hooks/useapi\";\r\nimport Loader from \"./loader\";\r\n\r\nfunction downloadURI(url: string, filename: string) {\r\n  fetch(url)\r\n    .then((response) => response.blob())\r\n    .then((blob) => {\r\n      const link = document.createElement(\"a\");\r\n      link.href = URL.createObjectURL(blob);\r\n      link.download = filename;\r\n      link.click();\r\n    })\r\n    .catch(console.error);\r\n}\r\n\r\nfunction FilePreview({\r\n  id,\r\n  name,\r\n  mimetype,\r\n}: {\r\n  id: string;\r\n  name: string;\r\n  mimetype: string;\r\n}) {\r\n  const fname = name.replace(/\\.[^/.]+$/, \"\");\r\n  const ext = name.substring(name.lastIndexOf(\".\"));\r\n  return (\r\n    <Link\r\n      style={{\r\n        color: \"white\",\r\n        textDecoration: \"none\",\r\n        width: \"100%\",\r\n        maxWidth: \"150px\",\r\n      }}\r\n      to={\"/drive/\" + id}\r\n    >\r\n      <div\r\n        style={{\r\n          margin: \"5px\",\r\n          border: \"solid 1px var(--light-bg-colour)\",\r\n          borderRadius: \"10px\",\r\n          backgroundColor: \"var(--main-bg-colour)\",\r\n          padding: \"5px\",\r\n          cursor: \"pointer\",\r\n        }}\r\n      >\r\n        {!(mimetype && mimetype.startsWith(\"image\")) ? (\r\n          <div\r\n            style={{\r\n              width: \"100%\",\r\n              height: \"75px\",\r\n              textAlign: \"center\",\r\n              borderBottom: \"solid 1px var(--light-bg-colour)\",\r\n              verticalAlign: \"middle\",\r\n              lineHeight: \"75px\",\r\n            }}\r\n          >\r\n            <FontAwesomeIcon icon={faPhotoVideo} />\r\n          </div>\r\n        ) : (\r\n          <img\r\n            src={\"/files/\" + id}\r\n            alt={name}\r\n            loading=\"lazy\"\r\n            style={{ width: \"100%\", borderRadius: \"10px\" }}\r\n          ></img>\r\n        )}\r\n        <div style={{ padding: \"1rem\" }}>\r\n          <p\r\n            style={{\r\n              whiteSpace: \"nowrap\",\r\n              overflow: \"hidden\",\r\n              textOverflow: \"ellipsis\",\r\n            }}\r\n          >\r\n            {fname}\r\n          </p>\r\n          <span>{ext}</span>\r\n        </div>\r\n      </div>\r\n    </Link>\r\n  );\r\n}\r\n\r\nfunction Drive() {\r\n  const fileref = useRef<any>();\r\n  const { notifications, loggedin } = useData();\r\n  const { data, setData } =\r\n    useApi<{ id: string; filename: string; mimetype: string }[]>(\r\n      \"/api/mydrive\"\r\n    );\r\n  if (!loggedin) {\r\n    return (\r\n      <Redirect\r\n        to={\"/login?\" + new URLSearchParams({ to: \"/user/drive\" })}\r\n      ></Redirect>\r\n    );\r\n  }\r\n  return (\r\n    <div style={{ textAlign: \"center\", padding: \"1rem\" }}>\r\n      <h1>My Drive</h1>\r\n      {data ? (\r\n        <div\r\n          style={{\r\n            margin: \"auto\",\r\n            border: \"solid 1px var(--light-bg-colour)\",\r\n            borderRadius: \"10px\",\r\n            backgroundColor: \"var(--dark-bg-colour)\",\r\n            padding: \"1rem\",\r\n            maxWidth: \"700px\",\r\n          }}\r\n        >\r\n          <input\r\n            type=\"file\"\r\n            style={{ display: \"none\" }}\r\n            ref={fileref}\r\n            onInput={async (e: any) => {\r\n              if (e.target.files.length > 0) {\r\n                const file = e.target.files[0];\r\n                e.target.value = \"\";\r\n                const formdata = new FormData();\r\n                formdata.append(\"file\", file);\r\n                const id = Math.random();\r\n                notifications.addNotification({\r\n                  title: \"File\",\r\n                  message: \"Uploading...\",\r\n                  type: \"warning\",\r\n                  insert: \"top\",\r\n                  id,\r\n                  container: \"top-right\",\r\n                  animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n                  animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n                });\r\n                try {\r\n                  const resp = await (\r\n                    await fetch(\"/api/uploadfile\", {\r\n                      method: \"POST\",\r\n                      body: formdata,\r\n                    })\r\n                  ).json();\r\n                  if (resp.resp) {\r\n                    notifications.removeNotification(id);\r\n                    setData(\r\n                      (\r\n                        data: {\r\n                          id: string;\r\n                          filename: string;\r\n                          mimetype: string;\r\n                        }[]\r\n                      ) =>\r\n                        [\r\n                          {\r\n                            id: resp.id,\r\n                            filename: file.name,\r\n                            mimetype: file.type,\r\n                          },\r\n                        ].concat(data)\r\n                    );\r\n                  } else {\r\n                    notifications.removeNotification(id);\r\n                    notifications.addNotification({\r\n                      title: \"Upload Error\",\r\n                      message: resp.err,\r\n                      type: \"danger\",\r\n                      insert: \"top\",\r\n                      container: \"top-right\",\r\n                      animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n                      animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n                    });\r\n                  }\r\n                  console.log(resp);\r\n                } catch (e) {\r\n                  notifications.removeNotification(id);\r\n                  notifications.addNotification({\r\n                    title: \"Upload Error\",\r\n                    message: String(e),\r\n                    type: \"danger\",\r\n                    insert: \"top\",\r\n                    container: \"top-right\",\r\n                    animationIn: [\"animate__animated\", \"animate__fadeIn\"],\r\n                    animationOut: [\"animate__animated\", \"animate__fadeOut\"],\r\n                  });\r\n                }\r\n              }\r\n            }}\r\n          />\r\n\r\n          <button\r\n            style={{\r\n              marginRight: \"5px\",\r\n              backgroundColor: \"var(--dark-bg-colour)\",\r\n              padding: \"5px\",\r\n              borderRadius: \"20px\",\r\n              border: \"solid 1px var(--light-bg-colour)\",\r\n              color: \"white\",\r\n              textAlign: \"center\",\r\n            }}\r\n            onClick={() => {\r\n              if (fileref.current) fileref.current.click();\r\n            }}\r\n          >\r\n            <FontAwesomeIcon icon={faPlus} /> add file\r\n          </button>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"space-around\",\r\n              alignItems: \"center\",\r\n              flexDirection: \"row\",\r\n              flexWrap: \"wrap\",\r\n              alignContent: \"center\",\r\n            }}\r\n          >\r\n            {data.map((value) => (\r\n              <FilePreview\r\n                key={value.id}\r\n                mimetype={value.mimetype}\r\n                id={value.id}\r\n                name={value.filename}\r\n              ></FilePreview>\r\n            ))}\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <Loader></Loader>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Image() {\r\n  const { id } = useParams<{ id: string }>();\r\n  const { data } = useApi<{ id: string; filename: string; mimetype: string }>(\r\n    \"/api/getimagedata?\" + new URLSearchParams({ id })\r\n  );\r\n  const mimetype = data?.mimetype;\r\n  const file = data?.id;\r\n\r\n  return data ? (\r\n    <div style={{ margin: \"1rem\" }}>\r\n      <div\r\n        style={{\r\n          margin: \"1rem auto\",\r\n          border: \"solid 1px var(--light-bg-colour)\",\r\n          borderRadius: \"10px\",\r\n          backgroundColor: \"var(--dark-bg-colour)\",\r\n          padding: \"1rem\",\r\n          maxWidth: \"700px\",\r\n        }}\r\n      >\r\n        <h1>{data.filename}</h1>\r\n        <div\r\n          onClick={() => {\r\n            downloadURI(\"/files/\" + file, data.filename);\r\n          }}\r\n          style={{\r\n            color: \"var(--secondary-text-colour)\",\r\n            cursor: \"pointer\",\r\n            fontSize: \"25px\",\r\n          }}\r\n        >\r\n          <FontAwesomeIcon icon={faDownload}></FontAwesomeIcon> Download\r\n        </div>\r\n        <div\r\n          style={{\r\n            height: \"1px\",\r\n            backgroundColor: \"var(--light-bg-colour)\",\r\n            width: \"100%\",\r\n            margin: \"1rem 0\",\r\n          }}\r\n        ></div>\r\n        {mimetype ? (\r\n          mimetype.split(\"/\")[0] === \"image\" ? (\r\n            <img\r\n              alt={file}\r\n              src={`/files/${file}`}\r\n              style={{ width: \"100%\", borderRadius: \"20px\" }}\r\n              loading=\"lazy\"\r\n            ></img>\r\n          ) : mimetype.split(\"/\")[0] === \"video\" ? (\r\n            <video\r\n              src={`/files/${file}`}\r\n              style={{ width: \"100%\" }}\r\n              controls\r\n              playsInline\r\n            ></video>\r\n          ) : mimetype.split(\"/\")[0] === \"audio\" ? (\r\n            <audio\r\n              src={`/files/${file}`}\r\n              style={{ width: \"100%\" }}\r\n              controls\r\n              playsInline\r\n            ></audio>\r\n          ) : (\r\n            <p>No Preview!</p>\r\n          )\r\n        ) : (\r\n          <p>No Preview!</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  ) : (\r\n    <Loader></Loader>\r\n  );\r\n}\r\n\r\nconst exports = { Drive, Image };\r\nexport default exports;\r\n","import { useData } from \"../hooks/datahook\";\r\nimport { useState } from \"react\";\r\nimport Loader from \"./loader\";\r\nimport { useHistory, useLocation, useParams } from \"react-router-dom\";\r\nimport logo from \"../images/logos/TS.svg\";\r\nimport { RouterForm } from \"./RouterForm\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faKey } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { parse } from \"querystring\";\r\nimport { GoogleReCaptcha } from \"react-google-recaptcha-v3\";\r\n\r\nfunction validateEmail(email: string) {\r\n  const re =\r\n    /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n  return re.test(String(email).toLowerCase());\r\n}\r\n\r\nfunction ChangePassword() {\r\n  const [error, seterror] = useState(\"\");\r\n  const history = useHistory();\r\n  const { id } = useParams<{ id: string }>();\r\n  const [recapToken, setRecapToken] = useState<null | string>(null);\r\n  const [loading, setloading] = useState(false);\r\n  return (\r\n    <>\r\n      <div style={{ display: loading ? \"\" : \"none\" }}>\r\n        <Loader></Loader>\r\n      </div>\r\n      <div\r\n        style={{\r\n          margin: \"5rem 0\",\r\n          textAlign: \"center\",\r\n          display: !loading ? \"\" : \"none\",\r\n        }}\r\n      >\r\n        <img\r\n          src={logo}\r\n          alt=\"logo\"\r\n          style={{ width: \"150px\", borderRadius: \"10px\" }}\r\n        ></img>\r\n        <h1\r\n          style={{\r\n            fontSize: \"20px\",\r\n            fontFamily: \"'Source Sans Pro', sans-serif\",\r\n          }}\r\n        >\r\n          <FontAwesomeIcon icon={faKey}></FontAwesomeIcon> Set Password\r\n        </h1>\r\n        <div>\r\n          <RouterForm\r\n            action={\"/api/changepassword\"}\r\n            beforecallback={() => {\r\n              if (recapToken) {\r\n                setloading(true);\r\n                return true;\r\n              } else {\r\n                seterror(\"waiting for recaptcha token... try again later.\");\r\n              }\r\n            }}\r\n            appendtoformdata={(fd) => {\r\n              fd.append(\"updateID\", id);\r\n              if (recapToken) fd.append(\"g-recaptcha-response\", recapToken);\r\n              return fd;\r\n            }}\r\n            style={{ width: \"fit-content\", margin: \"auto\", maxWidth: \"300px\" }}\r\n            callback={(resp: boolean) => {\r\n              setloading(false);\r\n              if (resp) {\r\n                history.push(\"/login\");\r\n              } else {\r\n                seterror(\r\n                  \"failed to change password, maybe the update password key has reset.\"\r\n                );\r\n              }\r\n            }}\r\n          >\r\n            <GoogleReCaptcha\r\n              onVerify={(token) => {\r\n                setRecapToken(token);\r\n              }}\r\n            />\r\n            <p\r\n              style={{\r\n                textAlign: \"end\",\r\n                margin: \"0\",\r\n              }}\r\n            >\r\n              Password\r\n            </p>\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Password\"\r\n              name=\"pass\"\r\n              style={{\r\n                background: \"transparent\",\r\n                borderTop: \"none\",\r\n                borderRight: \"none\",\r\n                borderBottom: \"1px solid white\",\r\n                borderLeft: \"none\",\r\n                borderImage: \"initial\",\r\n                marginBottom: \"1rem\",\r\n                width: \"100%\",\r\n                paddingBottom: \"0.5rem\",\r\n                fontFamily: \"'Source Sans Pro', sans-serif\",\r\n                fontSize: \"17px\",\r\n                color: \"white\",\r\n                borderRadius: \"0px\",\r\n              }}\r\n            />\r\n            <input\r\n              type=\"submit\"\r\n              value=\"Change Password\"\r\n              style={{\r\n                padding: \"1rem\",\r\n                width: \"100%\",\r\n                border: \"none\",\r\n                borderRadius: \"50px\",\r\n                background:\r\n                  \"linear-gradient(45deg, var(--dark-bg-colour) 0%, var(--light-bg-colour) 100%)\",\r\n                color: \"white\",\r\n                fontFamily: '\"Source Sans Pro\", sans-serif',\r\n                fontSize: \"20px\",\r\n                boxShadow: \"rgb(0, 0, 0) 0px 6px 5px 0px\",\r\n              }}\r\n            />\r\n            <p style={{ margin: \"1rem 0\", color: \"red\" }}>{error}</p>\r\n          </RouterForm>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nfunction RequestNewPassword() {\r\n  const { loggedin } = useData();\r\n  const [error, seterror] = useState(\"\");\r\n  const history = useHistory();\r\n  const [loading, setloading] = useState(false);\r\n  const location = useLocation();\r\n  const query: { [key: string]: string | string[] } = parse(\r\n    location.search.slice(1)\r\n  );\r\n  const [recapToken, setRecapToken] = useState<null | string>(null);\r\n  const redirect = query.to\r\n    ? Array.isArray(query.to)\r\n      ? query.to[0]\r\n      : query.to\r\n    : \"/\";\r\n  if (loggedin) {\r\n    history.push(redirect);\r\n    return <></>;\r\n  }\r\n  return (\r\n    <>\r\n      <div style={{ display: loading ? \"\" : \"none\" }}>\r\n        <Loader></Loader>\r\n      </div>\r\n      <div\r\n        style={{\r\n          margin: \"5rem 0\",\r\n          textAlign: \"center\",\r\n          display: !loading ? \"\" : \"none\",\r\n        }}\r\n      >\r\n        <img\r\n          src={logo}\r\n          alt=\"logo\"\r\n          style={{ width: \"150px\", borderRadius: \"10px\" }}\r\n        ></img>\r\n        <h1\r\n          style={{\r\n            fontSize: \"20px\",\r\n            fontFamily: \"'Source Sans Pro', sans-serif\",\r\n          }}\r\n        >\r\n          <FontAwesomeIcon icon={faKey}></FontAwesomeIcon> Change Password\r\n        </h1>\r\n        <div>\r\n          <RouterForm\r\n            action={\"/api/requestnewpassword\"}\r\n            beforecallback={(e: any) => {\r\n              if (recapToken) {\r\n                if (e.target[0].value !== \"\") {\r\n                  if (validateEmail(e.target[0].value)) {\r\n                    setloading(true);\r\n                    return true;\r\n                  } else {\r\n                    seterror(\"input a valid email!\");\r\n                  }\r\n                } else {\r\n                  seterror(\"input a profile, username, email and password!\");\r\n                }\r\n              } else {\r\n                seterror(\"waiting for recaptcha token... try again later.\");\r\n              }\r\n            }}\r\n            appendtoformdata={(fd) => {\r\n              if (recapToken) fd.append(\"g-recaptcha-response\", recapToken);\r\n              return fd;\r\n            }}\r\n            style={{ width: \"fit-content\", margin: \"auto\", maxWidth: \"300px\" }}\r\n            callback={() => {\r\n              history.push(\"/login\");\r\n            }}\r\n          >\r\n            <GoogleReCaptcha\r\n              onVerify={(token) => {\r\n                setRecapToken(token);\r\n              }}\r\n            />\r\n            <p\r\n              style={{\r\n                textAlign: \"end\",\r\n                margin: \"0\",\r\n              }}\r\n            >\r\n              Email\r\n            </p>{\" \"}\r\n            <input\r\n              type=\"email\"\r\n              placeholder=\"Email\"\r\n              name=\"email\"\r\n              style={{\r\n                background: \"transparent\",\r\n                borderTop: \"none\",\r\n                borderRight: \"none\",\r\n                borderBottom: \"1px solid white\",\r\n                borderLeft: \"none\",\r\n                borderImage: \"initial\",\r\n                marginBottom: \"1rem\",\r\n                width: \"100%\",\r\n                paddingBottom: \"0.5rem\",\r\n                fontFamily: \"'Source Sans Pro', sans-serif\",\r\n                fontSize: \"17px\",\r\n                color: \"white\",\r\n                borderRadius: \"0px\",\r\n              }}\r\n              autoComplete=\"new-password\"\r\n            />\r\n            <input\r\n              type=\"submit\"\r\n              value=\"Request New Password\"\r\n              style={{\r\n                padding: \"1rem\",\r\n                width: \"100%\",\r\n                border: \"none\",\r\n                borderRadius: \"50px\",\r\n                background:\r\n                  \"linear-gradient(45deg, var(--dark-bg-colour) 0%, var(--light-bg-colour) 100%)\",\r\n                color: \"white\",\r\n                fontFamily: '\"Source Sans Pro\", sans-serif',\r\n                fontSize: \"20px\",\r\n                boxShadow: \"rgb(0, 0, 0) 0px 6px 5px 0px\",\r\n              }}\r\n            />\r\n            <p style={{ margin: \"1rem 0\", color: \"red\" }}>{error}</p>\r\n          </RouterForm>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\nconst exports = { RequestNewPassword, ChangePassword };\r\n\r\nexport default exports;\r\n","export default __webpack_public_path__ + \"static/media/Blast icon.d1ad1976.svg\";","export default __webpack_public_path__ + \"static/media/fuel-pump.844df2a4.svg\";","export default __webpack_public_path__ + \"static/media/meteorites.a8554758.svg\";","export default __webpack_public_path__ + \"static/media/planet.82922217.svg\";","export default __webpack_public_path__ + \"static/media/planet1.99da5122.svg\";","export default __webpack_public_path__ + \"static/media/planet2.dc999098.svg\";","export default __webpack_public_path__ + \"static/media/solar-system.9f8bcff9.svg\";","export default __webpack_public_path__ + \"static/media/satellite.4b28ac52.svg\";","export default __webpack_public_path__ + \"static/media/satellite1.43c3ff83.svg\";","export default __webpack_public_path__ + \"static/media/satellite2.8c3fb1a4.svg\";","import blastIcon from \"./images/Blast icon.svg\";\r\nimport fuelIcon from \"./images/fuel-pump.svg\";\r\nimport meteorites from \"./images/meteorites.svg\";\r\nimport \"./css/blast.css\";\r\nimport { useState, useMemo, MouseEventHandler } from \"react\";\r\nimport useWindowSize from \"../hooks/usescreensize\";\r\nimport useApi from \"../hooks/useapi\";\r\nimport { useLocation, useHistory } from \"react-router-dom\";\r\nimport { parse } from \"querystring\";\r\n\r\nimport plant from \"./images/planet.svg\";\r\nimport plant1 from \"./images/planet1.svg\";\r\nimport plant2 from \"./images/planet2.svg\";\r\nimport solarsystem from \"./images/solar-system.svg\";\r\n\r\nimport satellite from \"./images/satellite.svg\";\r\nimport satellite1 from \"./images/satellite1.svg\";\r\nimport satellite2 from \"./images/satellite2.svg\";\r\n\r\nfunction range(size: number, startAt = 0) {\r\n  return [...Array(size).keys()].map((i) => i + startAt);\r\n}\r\n\r\nfunction StartButton({\r\n  onClick,\r\n}: {\r\n  onClick: MouseEventHandler<HTMLDivElement>;\r\n}) {\r\n  return (\r\n    <div className=\"wrapper\">\r\n      <div className=\"cta\" onClick={onClick}>\r\n        <span>START</span>\r\n        <span>\r\n          <svg width=\"66px\" height=\"43px\" style={{ verticalAlign: \"top\" }}>\r\n            <g\r\n              id=\"arrow\"\r\n              stroke=\"none\"\r\n              stroke-width=\"1\"\r\n              fill=\"none\"\r\n              fill-rule=\"evenodd\"\r\n            >\r\n              <path\r\n                className=\"one\"\r\n                d=\"M40.1543933,3.89485454 L43.9763149,0.139296592 C44.1708311,-0.0518420739 44.4826329,-0.0518571125 44.6771675,0.139262789 L65.6916134,20.7848311 C66.0855801,21.1718824 66.0911863,21.8050225 65.704135,22.1989893 C65.7000188,22.2031791 65.6958657,22.2073326 65.6916762,22.2114492 L44.677098,42.8607841 C44.4825957,43.0519059 44.1708242,43.0519358 43.9762853,42.8608513 L40.1545186,39.1069479 C39.9575152,38.9134427 39.9546793,38.5968729 40.1481845,38.3998695 C40.1502893,38.3977268 40.1524132,38.395603 40.1545562,38.3934985 L56.9937789,21.8567812 C57.1908028,21.6632968 57.193672,21.3467273 57.0001876,21.1497035 C56.9980647,21.1475418 56.9959223,21.1453995 56.9937605,21.1432767 L40.1545208,4.60825197 C39.9574869,4.41477773 39.9546013,4.09820839 40.1480756,3.90117456 C40.1501626,3.89904911 40.1522686,3.89694235 40.1543933,3.89485454 Z\"\r\n                fill=\"#FFFFFF\"\r\n              ></path>\r\n              <path\r\n                className=\"two\"\r\n                d=\"M20.1543933,3.89485454 L23.9763149,0.139296592 C24.1708311,-0.0518420739 24.4826329,-0.0518571125 24.6771675,0.139262789 L45.6916134,20.7848311 C46.0855801,21.1718824 46.0911863,21.8050225 45.704135,22.1989893 C45.7000188,22.2031791 45.6958657,22.2073326 45.6916762,22.2114492 L24.677098,42.8607841 C24.4825957,43.0519059 24.1708242,43.0519358 23.9762853,42.8608513 L20.1545186,39.1069479 C19.9575152,38.9134427 19.9546793,38.5968729 20.1481845,38.3998695 C20.1502893,38.3977268 20.1524132,38.395603 20.1545562,38.3934985 L36.9937789,21.8567812 C37.1908028,21.6632968 37.193672,21.3467273 37.0001876,21.1497035 C36.9980647,21.1475418 36.9959223,21.1453995 36.9937605,21.1432767 L20.1545208,4.60825197 C19.9574869,4.41477773 19.9546013,4.09820839 20.1480756,3.90117456 C20.1501626,3.89904911 20.1522686,3.89694235 20.1543933,3.89485454 Z\"\r\n                fill=\"#FFFFFF\"\r\n              ></path>\r\n              <path\r\n                className=\"three\"\r\n                d=\"M0.154393339,3.89485454 L3.97631488,0.139296592 C4.17083111,-0.0518420739 4.48263286,-0.0518571125 4.67716753,0.139262789 L25.6916134,20.7848311 C26.0855801,21.1718824 26.0911863,21.8050225 25.704135,22.1989893 C25.7000188,22.2031791 25.6958657,22.2073326 25.6916762,22.2114492 L4.67709797,42.8607841 C4.48259567,43.0519059 4.17082418,43.0519358 3.97628526,42.8608513 L0.154518591,39.1069479 C-0.0424848215,38.9134427 -0.0453206733,38.5968729 0.148184538,38.3998695 C0.150289256,38.3977268 0.152413239,38.395603 0.154556228,38.3934985 L16.9937789,21.8567812 C17.1908028,21.6632968 17.193672,21.3467273 17.0001876,21.1497035 C16.9980647,21.1475418 16.9959223,21.1453995 16.9937605,21.1432767 L0.15452076,4.60825197 C-0.0425130651,4.41477773 -0.0453986756,4.09820839 0.148075568,3.90117456 C0.150162624,3.89904911 0.152268631,3.89694235 0.154393339,3.89485454 Z\"\r\n                fill=\"#FFFFFF\"\r\n              ></path>\r\n            </g>\r\n          </svg>\r\n        </span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Star() {\r\n  const [{ x, y, delay }] = useState({\r\n    x: Math.random() * 100,\r\n    y: Math.random() * 100,\r\n    delay: Math.random(),\r\n  });\r\n  return (\r\n    <div\r\n      className=\"star\"\r\n      style={{ top: `${y}vh`, left: `${x}vw`, animationDelay: `-${delay}s` }}\r\n    ></div>\r\n  );\r\n}\r\n\r\nfunction Galaxy() {\r\n  const [{ x, y, delay }] = useState({\r\n    x: Math.random() * 100,\r\n    y: Math.random() * 100,\r\n    delay: Math.random() * 10,\r\n  });\r\n  return (\r\n    <div\r\n      className=\"Galaxy\"\r\n      style={{ top: `${y}vh`, left: `${x}vw`, animationDelay: `-${delay}s` }}\r\n    ></div>\r\n  );\r\n}\r\n\r\nfunction Planet({ file }: { file: string }) {\r\n  const [{ x, y, delay }] = useState({\r\n    x: Math.random() * 100,\r\n    y: Math.random() * 100,\r\n    delay: Math.random() * 10,\r\n  });\r\n  return (\r\n    <div\r\n      className=\"Planet\"\r\n      style={{\r\n        top: `${y}vh`,\r\n        left: `${x}vw`,\r\n        animationDelay: `-${delay}s`,\r\n        backgroundImage: `url(${file})`,\r\n      }}\r\n    ></div>\r\n  );\r\n}\r\n\r\nfunction Satellite({ file }: { file: string }) {\r\n  const [{ x, y, delay }] = useState({\r\n    x: Math.random() * 100,\r\n    y: Math.random() * 100,\r\n    delay: Math.random() * 10,\r\n  });\r\n  return (\r\n    <div\r\n      className=\"Satellite\"\r\n      style={{\r\n        top: `${y}vh`,\r\n        left: `${x}vw`,\r\n        animationDelay: `-${delay}s`,\r\n        backgroundImage: `url(${file})`,\r\n      }}\r\n    ></div>\r\n  );\r\n}\r\n\r\nfunction StartPage() {\r\n  const { width, height } = useWindowSize();\r\n\r\n  const location = useLocation();\r\n  const query: { [key: string]: string | string[] } = parse(\r\n    location.search.slice(1)\r\n  );\r\n  const skip = !(String(query.skip) === \"true\");\r\n\r\n  const [{ xalien, yalien }] = useState({\r\n    xalien: 15 + Math.random() * 30 + \"vw\",\r\n    yalien: 15 + Math.random() * 30 + \"vh\",\r\n  });\r\n  const stars = useMemo(\r\n    () =>\r\n      range(Math.round((width * height) / 10000)).map((value) => (\r\n        <Star key={value}></Star>\r\n      )),\r\n    [width, height]\r\n  );\r\n  return (\r\n    <div>\r\n      <div>\r\n        <div className=\"stars\">{stars}</div>\r\n        <Galaxy></Galaxy>\r\n\r\n        <Planet file={plant} />\r\n        <Planet file={plant1} />\r\n        <Planet file={plant2} />\r\n        <Planet file={solarsystem} />\r\n\r\n        <Satellite file={satellite} />\r\n        <Satellite file={satellite1} />\r\n        <Satellite file={satellite2} />\r\n\r\n        <div className=\"Alien\" style={{ top: yalien, left: xalien }}></div>\r\n      </div>\r\n      {skip ? <div className=\"BlastRocket\"></div> : <></>}\r\n      <div className=\"meteorites\"></div>\r\n      <div className={`BlastMenu ${skip ? \"BlastMenuAnimation\" : \"\"}`}>\r\n        <div\r\n          style={{\r\n            margin: \"auto\",\r\n            border: \"solid 1px var(--light-bg-colour)\",\r\n            borderRadius: \"10px\",\r\n            backgroundColor: \"var(--dark-glass-bg-colour)\",\r\n            padding: \"1rem\",\r\n            maxWidth: \"700px\",\r\n          }}\r\n        >\r\n          <h1 style={{ textAlign: \"center\" }}>\r\n            Start Blast <img src={blastIcon} height=\"35px\" alt=\"🚀\" />\r\n          </h1>\r\n          <div\r\n            style={{\r\n              border: \"solid 1px var(--light-bg-colour)\",\r\n              borderRadius: \"10px\",\r\n              backgroundColor: \"var(--dark-bg-colour)\",\r\n              padding: \"1rem\",\r\n              margin: \"1rem\",\r\n            }}\r\n          >\r\n            <input></input>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Blast() {\r\n  const { data } =\r\n    useApi<{ price: number; sale: number; startofweek: number }>(\r\n      \"/api/blastprices\"\r\n    );\r\n  const { width, height } = useWindowSize();\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const query: { [key: string]: string | string[] } = parse(\r\n    location.search.slice(1)\r\n  );\r\n  const skip = !(String(query.skip) === \"true\");\r\n\r\n  const [{ xalien, yalien }] = useState({\r\n    xalien: 15 + Math.random() * 30 + \"vw\",\r\n    yalien: 15 + Math.random() * 30 + \"vh\",\r\n  });\r\n  const stars = useMemo(\r\n    () =>\r\n      range(Math.round((width * height) / 10000)).map((value) => (\r\n        <Star key={value}></Star>\r\n      )),\r\n    [width, height]\r\n  );\r\n  const ends = data\r\n    ? new Date(data.startofweek + 6.048e8).getUTCDate()\r\n    : undefined;\r\n  return (\r\n    <div>\r\n      <div>\r\n        <div className=\"stars\">{stars}</div>\r\n        <Galaxy></Galaxy>\r\n\r\n        <Planet file={plant} />\r\n        <Planet file={plant1} />\r\n        <Planet file={plant2} />\r\n        <Planet file={solarsystem} />\r\n\r\n        <Satellite file={satellite} />\r\n        <Satellite file={satellite1} />\r\n        <Satellite file={satellite2} />\r\n\r\n        <div className=\"Alien\" style={{ top: yalien, left: xalien }}></div>\r\n      </div>\r\n\r\n      {data && skip ? <div className=\"BlastRocket\"></div> : <></>}\r\n      <div className=\"meteorites\"></div>\r\n      {data ? (\r\n        <div className={`BlastMenu ${skip ? \"BlastMenuAnimation\" : \"\"}`}>\r\n          <div\r\n            style={{\r\n              margin: \"auto\",\r\n              border: \"solid 1px var(--light-bg-colour)\",\r\n              borderRadius: \"10px\",\r\n              backgroundColor: \"var(--dark-glass-bg-colour)\",\r\n              padding: \"1rem\",\r\n              maxWidth: \"700px\",\r\n            }}\r\n          >\r\n            <h1 style={{ textAlign: \"center\" }}>\r\n              Blast <img src={blastIcon} height=\"35px\" alt=\"🚀\" />\r\n            </h1>\r\n            <div style={{ textAlign: \"end\" }}>\r\n              <h3>\r\n                GBP £{((data.price * (1 - data.sale)) / 100).toFixed(2)} /\r\n                Rocket Fuel <img src={fuelIcon} height=\"35px\" alt=\"⛽\" />\r\n              </h3>\r\n              {data.sale ? (\r\n                <h4>\r\n                  <p>\r\n                    {Math.round(data.sale * 100)}% off{\" \"}\r\n                    <img src={meteorites} height=\"35px\" alt=\"☄\" />\r\n                  </p>\r\n                  <p style={{ fontSize: \"15px\" }}>\r\n                    ends on the {ends}\r\n                    {String(ends).endsWith(\"1\")\r\n                      ? \"st\"\r\n                      : String(ends).endsWith(\"2\")\r\n                      ? \"nd\"\r\n                      : String(ends).endsWith(\"1\")\r\n                      ? \"rd\"\r\n                      : \"th\"}\r\n                  </p>\r\n                  <p style={{ fontSize: \"10px\" }}>\r\n                    (was GBP £{(data.price / 100).toFixed(2)})\r\n                  </p>\r\n                </h4>\r\n              ) : (\r\n                <></>\r\n              )}\r\n            </div>\r\n            <StartButton\r\n              onClick={() => history.push(\"/blast/start?skip=true\")}\r\n            />\r\n            <div\r\n              style={{\r\n                border: \"solid 1px var(--light-bg-colour)\",\r\n                borderRadius: \"10px\",\r\n                backgroundColor: \"var(--dark-bg-colour)\",\r\n                padding: \"1rem\",\r\n                margin: \"1rem\",\r\n              }}\r\n            >\r\n              <h5>Features</h5>\r\n              <div\r\n                style={{\r\n                  width: \"100%\",\r\n                  height: \"1px\",\r\n                  backgroundColor: \"var(--light-bg-colour)\",\r\n                }}\r\n              ></div>\r\n              <ul\r\n                style={{\r\n                  margin: \"1rem\",\r\n                }}\r\n              >\r\n                <li>unlimied sized messages</li>\r\n                <li>\r\n                  Bigger monthly upload limit (1 GB / Rocket Fuel{\" \"}\r\n                  <img src={fuelIcon} height=\"15px\" alt=\"⛽\" />)\r\n                </li>\r\n                <li>Blast Profile Badge (stays forever!)</li>\r\n                <li>Custom backgrounds</li>\r\n                <li>and much more to come!</li>\r\n              </ul>\r\n            </div>\r\n            <div\r\n              style={{\r\n                border: \"solid 1px var(--light-bg-colour)\",\r\n                borderRadius: \"10px\",\r\n                backgroundColor: \"var(--dark-bg-colour)\",\r\n                padding: \"1rem\",\r\n                margin: \"1rem\",\r\n              }}\r\n            >\r\n              <h5>\r\n                Ready to go to space?{\" \"}\r\n                <img src={blastIcon} height=\"20px\" alt=\"🚀\" />\r\n              </h5>\r\n              <button\r\n                className=\"subbutton\"\r\n                disabled\r\n                style={{ opacity: 0.25, cursor: \"not-allowed\" }}\r\n              >\r\n                Buy Rocket Fuel <img src={fuelIcon} height=\"25px\" alt=\"⛽\" />\r\n              </button>\r\n              <p style={{ textAlign: \"center\" }}>\r\n                Sorry, Rocket Fuel is unable to be bought at the moment. When\r\n                TypeChat leaves beta, all beta testing account will get 1 free\r\n                Rocket Fuel!\r\n              </p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <></>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nconst exportedObject = { Blast, StartPage };\r\n\r\nexport default exportedObject;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport \"./index.css\";\r\nimport \"./pages/css/toggleswitch.css\";\r\nimport {\r\n  BrowserRouter as Router,\r\n  Switch,\r\n  Route,\r\n  Redirect,\r\n} from \"react-router-dom\";\r\nimport \"./pages/css/scrollbar.css\";\r\nimport Home from \"./pages/Home\";\r\nimport Login from \"./pages/Login\";\r\nimport { data as datahook } from \"./hooks/datahook\";\r\nimport PageNav from \"./pages/Navbar\";\r\nimport { GoogleReCaptchaProvider } from \"react-google-recaptcha-v3\";\r\nimport \"./colourPallete.css\";\r\nimport reportWebVitals from \"./reportWebVitals\";\r\nimport useApi from \"./hooks/useapi\";\r\nimport Loader from \"./pages/loader\";\r\nimport Signup from \"./pages/Signup\";\r\nimport Chat from \"./pages/Chat\";\r\nimport \"./pages/css/highlight.css\";\r\nimport Error404 from \"./pages/404\";\r\nimport useLocalStorage from \"./hooks/useLocalStorage\";\r\nimport UserSettings from \"./pages/usersettings\";\r\nimport snooze from \"./snooze\";\r\nimport Contacts from \"./pages/contacts\";\r\nimport ReactNotification, {\r\n  ReactNotificationOptions,\r\n  store,\r\n} from \"react-notifications-component\";\r\n\r\nimport \"react-notifications-component/dist/theme.css\";\r\nimport AddPeople from \"./pages/addpeople\";\r\nimport NotificationComponent from \"./notification\";\r\nimport LoadError from \"./pages/error\";\r\nimport Settings from \"./pages/settings\";\r\nimport Verify from \"./pages/Verify\";\r\nimport LinkDiscord from \"./pages/LinkDiscord\";\r\nimport Drive from \"./pages/Drive\";\r\nimport RequestNewPassword from \"./pages/requestNewPassword\";\r\nimport Blast from \"./pages/blast\";\r\n\r\nif (!JSON.parse(String(localStorage.getItem(\"tabCount\")))) {\r\n  localStorage.setItem(\"tabCount\", JSON.stringify(0));\r\n}\r\nlocalStorage.setItem(\r\n  \"tabCount\",\r\n  JSON.stringify(JSON.parse(String(localStorage.getItem(\"tabCount\"))) + 1)\r\n);\r\n\r\nif (window.navigator && navigator.serviceWorker) {\r\n  navigator.serviceWorker.getRegistrations().then(function (registrations) {\r\n    for (let registration of registrations) {\r\n      registration.unregister();\r\n    }\r\n  });\r\n}\r\nwindow.onunload = function () {\r\n  if (\r\n    \"serviceWorker\" in navigator &&\r\n    JSON.parse(String(localStorage.getItem(\"tabCount\"))) - 1 <= 0\r\n  ) {\r\n    navigator.serviceWorker\r\n      .register(\"/sw.js\", { scope: \"/\" })\r\n      .catch(console.error);\r\n  }\r\n  localStorage.setItem(\r\n    \"tabCount\",\r\n    JSON.stringify(JSON.parse(String(localStorage.getItem(\"tabCount\"))) - 1)\r\n  );\r\n};\r\n\r\nfunction App() {\r\n  const { data, error, loading, reload } = useApi<any>(\"/api/userdata\");\r\n  const [navbarsize, setnavbarsize] = useState({ width: 0, height: 0 });\r\n  const [chattingto, setchattingto] = useLocalStorage(\"chattingto\", null);\r\n  const [getuserdataonupdate, setgetuserdataonupdate] = useState(false);\r\n  const [userdata, setuserdata] = useState(data);\r\n  const [catchedcontacts, setcachedcontacts] = useState<any>(null);\r\n  useEffect(() => {\r\n    setuserdata(data);\r\n  }, [data]);\r\n  useEffect(() => {\r\n    if (\"Notification\" in window && userdata?.loggedin) {\r\n      if (Notification.permission === \"default\") {\r\n        Notification.requestPermission();\r\n      }\r\n    }\r\n    (async () => {\r\n      try {\r\n        if (!getuserdataonupdate && userdata.loggedin) {\r\n          setgetuserdataonupdate(true);\r\n          const response = await (\r\n            await fetch(\"/api/getuserdataonupdate\")\r\n          ).json();\r\n          if (!response.reconnect) {\r\n            setuserdata(response);\r\n          }\r\n          setgetuserdataonupdate(false);\r\n        }\r\n      } catch {\r\n        await snooze(1000);\r\n        setgetuserdataonupdate(false);\r\n      }\r\n    })();\r\n  });\r\n  function NotificationAPI(\r\n    options: ReactNotificationOptions,\r\n    onclick: () => {}\r\n  ) {\r\n    if (\"Notification\" in window && Notification.permission === \"granted\") {\r\n      const notify = new Notification(String(options.title), {\r\n        body: String(options.message),\r\n        icon: \"/logo.png\",\r\n      });\r\n      notify.addEventListener(\"click\", onclick);\r\n    } else {\r\n      store.addNotification(options);\r\n    }\r\n  }\r\n  return (\r\n    <GoogleReCaptchaProvider reCaptchaKey=\"6LcHJdYcAAAAAHmOyGZbVAVkLNdeG0Pe2Rl3RVDV\">\r\n      <Router>\r\n        <div style={{ overflowWrap: \"anywhere\" }}>\r\n          {error || loading ? (\r\n            error ? (\r\n              <LoadError error={String(error)}></LoadError>\r\n            ) : (\r\n              <Loader></Loader>\r\n            )\r\n          ) : (\r\n            <datahook.Provider\r\n              value={{\r\n                loggedin: userdata.loggedin,\r\n                user: userdata.user,\r\n                rechecklogged: reload,\r\n                setnavbarsize,\r\n                navbarsize,\r\n                chattingto,\r\n                setchattingto,\r\n                notifications: store,\r\n                catchedcontacts,\r\n                setcachedcontacts,\r\n                NotificationAPI,\r\n              }}\r\n            >\r\n              <PageNav />\r\n              <ReactNotification />\r\n              <NotificationComponent />\r\n              <div>\r\n                <Switch>\r\n                  <Route path=\"/\" exact>\r\n                    <Home />\r\n                  </Route>\r\n                  <Route path=\"/chat\" exact>\r\n                    <Redirect to={chattingto ? `/chat/${chattingto}` : \"/\"} />\r\n                  </Route>\r\n                  <Route\r\n                    path=\"/chat/:id\"\r\n                    render={({ match }) => (\r\n                      <Chat key={match.params.id} isGroupChat={false} />\r\n                    )}\r\n                    exact\r\n                  ></Route>\r\n                  <Route path=\"/contacts\" exact>\r\n                    <Contacts />\r\n                  </Route>\r\n                  <Route path=\"/blast/start\" exact>\r\n                    <Blast.StartPage />\r\n                  </Route>\r\n                  <Route path=\"/blast\" exact>\r\n                    <Blast.Blast />\r\n                  </Route>\r\n                  <Route path=\"/verify/:id\" exact>\r\n                    <Verify />\r\n                  </Route>\r\n                  <Route path=\"/settings\" exact>\r\n                    <Settings />\r\n                  </Route>\r\n                  <Route path=\"/login\" exact>\r\n                    <Login />\r\n                  </Route>\r\n                  <Route path=\"/link/:id\" exact>\r\n                    <LinkDiscord />\r\n                  </Route>\r\n                  <Route path=\"/signup\" exact>\r\n                    <Signup />\r\n                  </Route>\r\n                  <Route path=\"/user/drive\" exact>\r\n                    <Drive.Drive />\r\n                  </Route>\r\n                  <Route path=\"/drive/:id\" exact>\r\n                    <Drive.Image />\r\n                  </Route>\r\n                  <Route path=\"/requestNewPassword\" exact>\r\n                    <RequestNewPassword.RequestNewPassword />\r\n                  </Route>\r\n                  <Route path=\"/updatepassword/:id\" exact>\r\n                    <RequestNewPassword.ChangePassword />\r\n                  </Route>\r\n\r\n                  <Route path=\"/user/settings\" exact>\r\n                    <UserSettings />\r\n                  </Route>\r\n                  <Route path=\"/add\" exact>\r\n                    <AddPeople></AddPeople>\r\n                  </Route>\r\n                  <Route>\r\n                    <Error404></Error404>\r\n                  </Route>\r\n                </Switch>\r\n              </div>\r\n            </datahook.Provider>\r\n          )}\r\n        </div>\r\n      </Router>\r\n    </GoogleReCaptchaProvider>\r\n  );\r\n}\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById(\"app\")\r\n);\r\nreportWebVitals();\r\nexport default App;\r\n"],"sourceRoot":""}