{"version":3,"sources":["hooks/datahook.tsx","pages/images/app page.png","playsound.ts","pages/Home.tsx","pages/loader.tsx","images/logos/TS.svg","pages/RouterForm.tsx","cookies.tsx","pages/Login.tsx","images/logos/TypeChat.svg","hooks/usescreensize.tsx","pages/Navbar.tsx","reportWebVitals.ts","hooks/useapi.tsx","pages/Signup.tsx","hooks/useLocalStorage.tsx","emojis.ts","notifier.tsx","pages/badges.tsx","pages/images/gift.svg","hooks/useWindowVisable.tsx","pages/Chat.tsx","pages/404.tsx","pages/profilePage.tsx","bytesToHumanReadable.ts","pages/CustomBackground.tsx","pages/usersettings.tsx","snooze.ts","pages/error.tsx","pages/contacts.tsx","pages/addpeople.tsx","setIcons.ts","notification.tsx","pages/switch.tsx","pages/settings.tsx","pages/Verify.tsx","pages/LinkDiscord.tsx","pages/Drive.tsx","pages/requestNewPassword.tsx","pages/images/Blast icon.svg","pages/images/fuel-pump.svg","pages/images/meteorites.svg","pages/images/planet.svg","pages/images/planet1.svg","pages/images/planet2.svg","pages/images/solar-system.svg","pages/images/satellite.svg","pages/images/satellite1.svg","pages/images/satellite2.svg","pages/blast.tsx","pages/T&C.tsx","index.tsx"],"names":["data","createContext","undefined","useData","useContext","hasshownmuted","url","a","localallowed","localStorage","getItem","JSON","parse","localvol","vol","hasplayed","audio","Howl","src","volume","on","play","setTimeout","pause","store","addNotification","title","type","onRemoval","message","insert","animationIn","animationOut","container","dismiss","duration","pauseOnHover","onScreen","playSound","Home","history","useHistory","standalone","window","matchMedia","matches","loggedin","to","style","textAlign","padding","overflow","className","fontSize","color","animationDuration","animationDelay","paddingBottom","onPointerDown","onPointerUp","onClick","push","margin","maxWidth","width","border","borderRadius","background","fontFamily","boxShadow","alt","appPage","Loader","display","marginTop","justifyContent","RouterForm","action","beforecallback","callback","children","appendtoformdata","fd","onerror","e","console","error","onSubmit","preventDefault","FormData","index","target","length","element","file","files","append","name","value","checked","newformdata","fetch","method","body","json","result","Cookies","Login","rechecklogged","useState","seterror","recapToken","setRecapToken","location","useLocation","query","search","slice","loading","setloading","redirect","Array","isArray","useEffect","document","logo","icon","faSignInAlt","email","test","String","toLowerCase","resp","cookies","set","token","path","expires","Date","now","err","onVerify","placeholder","borderTop","borderRight","borderBottom","borderLeft","borderImage","marginBottom","href","useWindowSize","height","windowSize","setWindowSize","handleResize","innerWidth","innerHeight","addEventListener","removeEventListener","PageNav","Navbarref","useRef","navbarsize","useComponentSize","user","setnavbarsize","chattingto","Navbar","ref","bg","variant","fixed","top","isElectron","Brand","as","Link","bigLogo","smallLogo","Nav","pathname","faComment","faUserFriends","faPlus","open","faDiscord","faRocket","faCog","Dropdown","Toggle","backgroundColor","profilePic","Menu","alignRight","Item","faUserCog","faPhotoVideo","remove","removeItem","faSignOutAlt","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","useApi","setData","setLoading","request","setrequest","setError","laststamp","time","getTime","current","reload","reloadSilent","Signup","profile","setprofile","faAddressCard","imageWidth","onCrop","dataURL","fetched","blob","labelStyle","onClose","exportMimeType","exportSize","exportQuality","exportAsSquare","autoComplete","useLocalStorage","key","initialValue","readValue","item","warn","storedValue","setStoredValue","handleStorageChange","newValue","setItem","stringify","dispatchEvent","Event","emoji","onclick","URLSearchParams","text","notify","badgestype","desc","faRocketchat","link","faBrain","faBug","faYoutube","faTwitch","faPython","faNodeJs","faUserAstronaut","faCheck","faUserTie","faDev","faSuperpowers","reverse","Badge","badges","side","size","badgerender","useMemo","output","badgetype","badge","cursor","flexWrap","useWindowVisable","hidden","visable","setvisable","isMobileDevice","check","navigator","userAgent","vendor","opera","substr","chatSettings","isGroupChat","usersContext","exists","users","truncate","input","limit","substring","random","seed","x","Math","sin","floor","numToSSColumn","num","t","s","fromCharCode","videoSites","MetaPage","decoratedText","decoratedHref","mine","urldata","URL","hostname","marginRight","aspectRatio","minHeight","domain","description","image","MessageFaviconOrVideoRenderer","links","map","Fragment","includes","controls","Message","messages","i","toscroll","scrolltobottom","sendJsonMessage","deleteFromID","editFromID","messagecharlist","from","editing","setediting","fullyopened","setfullyopened","mimetype","onlyemojis","str","ranges","join","replace","RegExp","removeEmoji","onlyContainsEmojis","donekeys","shiftkey","submitref","longmessage","messageref","gift","opacity","ID","id","amount","trim","GiftIcon","tempid","tempmessage","onInput","click","messagetoarray","onKeyDown","keyCode","shiftKey","autoFocus","resize","maxRows","defaultValue","split","componentDecorator","edited","float","maxHeight","onLoad","playsInline","faFile","toLocaleString","clipboard","writeText","protocol","host","faCopy","faTrash","faTimes","faPencilAlt","faMinusCircle","faPlusCircle","MessageMaker","typingdata","scrollref","canloadmore","loadingmore","loadmore","chatUpdateID","lastmessage","alignSelf","username","marginLeft","timeEnd","useParams","faketext","specialchars","onscroll","documentElement","scrollHeight","scrollTop","clientHeight","typing","textShadow","ChatNotFound","position","left","transform","faSadCry","faCommentSlash","ChatPage","bypassChars","chats","setchats","isFocussed","notifications","NotificationAPI","usersdata","setusersdata","picture","groupchatdata","oldmetypingdata","setoldmetypingdata","metypingdata","setmetypingdata","socketUrl","settypingdata","isonline","setisonline","metypinglengthref","metypingref","typingTimer","inputref","scrollerref","bottomref","loadingchatmessages","setloadingchatmessages","setcanloadmore","setloadingmore","isLoadMore","setChatUpdateID","personaltyping","Recipienttyping","SendSound","ReceiveSound","localchats","setlocalchats","giftmodel","setgiftmodel","sendFile","formdata","removeNotification","concat","ReactGA","event","category","label","listenerfunction","items","clipboardData","originalEvent","kind","getAsFile","log","oldmessagsize","setoldmessagesize","messagesize","StartMessagesLength","ceil","doneTyping","splice","useWebSocket","shouldReconnect","reconnectInterval","lastJsonMessage","readyState","scrollingElement","scrollY","offsetHeight","scrollTo","fileref","formref","max","_","mobile","online","lastheight","focus","onload","ReadyState","OPEN","UNINSTANTIATED","Provider","zIndex","faDesktop","faMobileAlt","faEyeSlash","handleKeys","onKeyEvent","start","bottom","isOpen","overlay","content","right","onRequestClose","alignItems","alignContent","htmlFor","rocketFuel","min","onBlur","maxlength","blast","clearTimeout","disabled","faGift","faPaperPlane","Chat","Error404","faFileCode","ProfilePage","r","g","b","backgroundcolour","setbackgroundcolour","backgroundImage","backgroundRepeat","backgroundSize","backgroundPosition","ColorThief","getColor","WebkitTextStroke","fontWeight","tag","aboutme","humanFileSize","bytes","si","dp","thresh","abs","units","u","round","toFixed","Background","ReactTimeago","date","days","hours","minutes","seconds","Changebutton","clickable","Modal","setAppElement","UserSettings","backgroundinputref","uploadlimitdata","uploadlimitloading","uploadlimiterror","uploading","setuploading","setbackgroundImage","UsernameModelIsOpen","setUsernameModelIsOpen","ProfileModelIsOpen","setProfileModelIsOpen","Number","limitused","filelimit","timeleft","faPen","onAfterOpen","contentLabel","onChange","createObjectURL","accept","trimStart","snooze","milliseconds","Promise","resolve","LoadError","errordataurl","faExclamationTriangle","SwiperCore","use","Pagination","Mousewheel","Virtual","EffectCoverflow","Navigation","colorThief","Contact","holdref","UserModelIsOpen","setUserModelIsOpen","onTouchMove","clearInterval","textOverflow","whiteSpace","flexDirection","Groups","Contacts","setsearch","localcontacts","setlocalcontacts","contactsRef","elDistanceToTop","pageYOffset","getBoundingClientRect","contacts","onKeyUp","overflowY","contact","toUpperCase","SwiperPages","contactsShow","setcontactsShow","effect","navigation","pagination","direction","mousewheel","forceToAxis","coverflowEffect","rotate","stretch","depth","modifier","slideShadows","virtual","onSlideChangeTransitionEnd","activeIndex","onSlideChangeTransitionStart","virtualIndex","UserListing","friends","faUserPlus","AddPeople","q","toString","friendrequests","setIcon","querySelectorAll","createElement","getElementsByTagName","appendChild","rel","NotificationComponent","useWindowFocus","isVisable","sound","ToggleSwitch","defaultChecked","Setting","Settings","soundEffects","setSoundEffects","setpersonaltyping","setRecipienttyping","setSendSound","setReceiveSound","setVolume","discord","setdiscord","setemail","paddingTop","Verify","verified","LinkDiscord","linked","FilePreview","fname","ext","lastIndexOf","textDecoration","startsWith","verticalAlign","lineHeight","exports","Drive","filename","Image","alert","faShare","response","download","catch","faDownload","RequestNewPassword","faKey","ChangePassword","ordinal_suffix_of","j","k","StartButton","Star","y","delay","Galaxy","Planet","Satellite","exportedObject","Blast","xalien","yalien","fuel","buyfuel","setbuyfuel","stars","startAt","keys","range","menupage","setmenupage","ends","startofweek","getUTCDate","price","sale","plant","plant1","plant2","solarsystem","satellite","satellite1","satellite2","blastIcon","fuelIcon","meteorites","shippingPreference","onApprove","actions","orderID","payerID","status","onError","currency","options","clientId","TandC","App","setchattingto","deferredprompt","setdeferredprompt","alreadyshownInstall","setalreadyshownInstall","getuserdataonupdate","setgetuserdataonupdate","userdata","setuserdata","catchedcontacts","setcachedcontacts","Notification","permission","requestPermission","reconnect","LogRocket","identify","prompt","reCaptchaKey","overflowWrap","exact","render","match","params","init","initialize","serviceWorker","register","scope","ReactDOM","StrictMode","getElementById"],"mappings":"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ACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,eACA,eACA,eACA,qEACA,qEACA,qEACA,eACA,mDACA,mDACA,mDACA,eACA,mDACA,mDACA,qEACA,qEACA,qEACA,mDACA,mDACA,qEACA,qEACA,qEACA,mDACA,mDACA,qEACA,qEACA,qEACA,eACA,eACA,eACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,SACA,qBACA,qBACA,qBACA,qBACA,qBACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,eACA,eACA,iCACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,SACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,SACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,SACA,eACA,eACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,SACA,eACA,SACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,SACA,eACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,OACA,OACA,SACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,gBACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,eACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,SACA,SACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,2BACA,4B,8CC/vDF,WAAsBjO,EAAeG,EAAiB+N,GAAtD,SAAArP,EAAA,sEAEU8F,MAAM,iBAAD,OAAkB,IAAIwJ,gBAAgB,CAAEnO,QAAO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","file":"static/js/main.9e02dcf6.chunk.js","sourcesContent":["import { createContext, useContext } from \"react\";\n\nconst data = createContext<any>(undefined);\nconst useData = () => useContext(data);\nexport { data, useData };\n","export default __webpack_public_path__ + \"static/media/app page.27ce18a4.png\";","import { Howl } from \"howler\";\nimport { store } from \"react-notifications-component\";\n\nlet hasshownmuted = false;\nasync function playSound(url: string) {\n  const localallowed = localStorage.getItem(\"sound effects\");\n  const canPlay = localallowed ? JSON.parse(localallowed) : true;\n  if (canPlay) {\n    const localvol = localStorage.getItem(\"volume\");\n    const vol = (localvol !== null ? JSON.parse(localvol) : 15) / 20;\n    let hasplayed = false;\n    const audio = new Howl({\n      src: url,\n      volume: vol,\n    });\n    audio.on(\"play\", () => {\n      hasplayed = true;\n    });\n    audio.play();\n    setTimeout(() => {\n      if (!hasplayed) {\n        audio.pause();\n        if (!hasshownmuted) {\n          store.addNotification({\n            title: \"sound\",\n            type: \"danger\",\n            onRemoval: () => {\n              hasshownmuted = false;\n            },\n            message:\n              \"you need to interact with the site for sound effects to play!\",\n            insert: \"top\",\n            animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n            animationOut: [\"animate__animated\", \"animate__fadeOut\"],\n            container: \"top-right\",\n            dismiss: { duration: 10000, pauseOnHover: true, onScreen: true },\n          });\n          hasshownmuted = true;\n        }\n      }\n    }, 5000);\n  }\n}\nexport default playSound;\n","import { Redirect, useHistory } from \"react-router-dom\";\nimport { useData } from \"../hooks/datahook\";\nimport appPage from \"./images/app page.png\";\nimport \"./css/home.css\";\nimport playSound from \"../playsound\";\n\nfunction isRunningStandalone() {\n  return window.matchMedia(\"(display-mode: standalone)\").matches;\n}\n\nfunction Home() {\n  const history = useHistory();\n  const standalone = isRunningStandalone();\n  const { loggedin } = useData();\n  if (!loggedin) {\n    return (\n      <div style={{ textAlign: \"center\", padding: \"1rem\", overflow: \"hidden\" }}>\n        <h1\n          className=\"slideinright\"\n          style={{\n            fontSize: \"75px\",\n            color: \"var(--primary-text-colour)\",\n            animationDuration: \"2s\",\n          }}\n        >\n          Hello.\n        </h1>\n        <h1\n          className=\"slideinleft\"\n          style={{\n            color: \"var(--secondary-text-colour)\",\n            animationDuration: \"2s\",\n            animationDelay: \"1s\",\n          }}\n        >\n          Welcome to TypeChat.\n        </h1>\n        <p\n          className=\"slideinright\"\n          style={{\n            animationDuration: \"2s\",\n            animationDelay: \"2s\",\n            paddingBottom: \"1rem\",\n          }}\n        >\n          Type to your friends. Powered by TypeScript.\n        </p>\n        <div\n          className=\"logindraw\"\n          style={{\n            animationDuration: \"2s\",\n            animationDelay: standalone ? \"3s\" : \"5s\",\n          }}\n        >\n          <div>\n            <button\n              onPointerDown={() => {\n                playSound(\"/sounds/click2.mp3\");\n              }}\n              onPointerUp={() => {\n                playSound(\"/sounds/click1.mp3\");\n              }}\n              onClick={() => {\n                history.push(\"/login\");\n              }}\n              style={{\n                margin: \"0.5rem\",\n                padding: \"1rem\",\n                maxWidth: \"250px\",\n                width: \"100%\",\n                border: \"none\",\n                borderRadius: \"50px\",\n                background:\n                  \"linear-gradient(45deg, var(--dark-bg-colour) 0%, var(--light-bg-colour) 100%)\",\n                color: \"white\",\n                fontFamily: '\"Source Sans Pro\", sans-serif',\n                fontSize: \"20px\",\n                boxShadow: \"rgb(0, 0, 0) 0px 6px 5px 0px\",\n              }}\n            >\n              Login\n            </button>\n            <button\n              onPointerDown={() => {\n                playSound(\"/sounds/click2.mp3\");\n              }}\n              onPointerUp={() => {\n                playSound(\"/sounds/click1.mp3\");\n              }}\n              onClick={() => {\n                history.push(\"/signup\");\n              }}\n              style={{\n                margin: \"0.5rem\",\n                padding: \"1rem\",\n                maxWidth: \"250px\",\n                width: \"100%\",\n                border: \"none\",\n                borderRadius: \"50px\",\n                background:\n                  \"linear-gradient(45deg, var(--dark-bg-colour) 0%, var(--light-bg-colour) 100%)\",\n                color: \"white\",\n                fontFamily: '\"Source Sans Pro\", sans-serif',\n                fontSize: \"20px\",\n                boxShadow: \"rgb(0, 0, 0) 0px 6px 5px 0px\",\n              }}\n            >\n              Sign Up\n            </button>\n          </div>\n        </div>\n        {standalone ? (\n          <></>\n        ) : (\n          <img\n            className=\"slideinleft\"\n            alt=\"phone app\"\n            src={appPage}\n            style={{\n              width: \"100%\",\n              maxWidth: \"350px\",\n              animationDuration: \"2s\",\n              animationDelay: \"3s\",\n            }}\n          ></img>\n        )}\n      </div>\n    );\n  }\n  return <Redirect to=\"/contacts\"></Redirect>;\n}\n\nexport default Home;\n","import \"./css/loader.css\";\nimport \"./css/center.css\";\n\nfunction Loader() {\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        marginTop: \"5rem\",\n        justifyContent: \"center\",\n      }}\n    >\n      <div className=\"loader\"></div>\n    </div>\n  );\n}\n\nexport default Loader;\n","export default __webpack_public_path__ + \"static/media/TS.ac278840.svg\";","import react from \"react\";\n\nexport function RouterForm({\n  action,\n  beforecallback,\n  callback,\n  children,\n  style,\n  appendtoformdata = (fd: FormData) => {\n    return fd;\n  },\n  onerror = (e: any) => {\n    console.error(e);\n  },\n}: {\n  action: string;\n  beforecallback: (e: any) => boolean | undefined;\n  callback(responce: any): void;\n  children: any;\n  style?: react.CSSProperties;\n  appendtoformdata?(fd: FormData): FormData;\n  onerror?(e: any): void;\n}): JSX.Element {\n  return (\n    <form\n      style={style}\n      onSubmit={async (e: any) => {\n        e.preventDefault();\n        if (beforecallback(e)) {\n          const fd = new FormData();\n          for (let index = 0; index < e.target.length; index++) {\n            const element = e.target[index];\n            if (element.type !== \"submit\") {\n              if (element.type === \"file\") {\n                for (let file = 0; file < element.files.length; file++) {\n                  fd.append(element.name, element.files[file]);\n                }\n              } else if (\n                element.type !== \"radio\" &&\n                element.type !== \"checkbox\"\n              ) {\n                fd.append(element.name, element.value);\n              } else if (element.checked) {\n                fd.append(element.name, element.checked);\n              }\n            }\n          }\n          const newformdata = appendtoformdata(fd);\n          try {\n            const result = await (\n              await fetch(action, {\n                method: \"POST\",\n                body: newformdata,\n              })\n            ).json();\n            callback(result);\n          } catch (e) {\n            onerror(e);\n          }\n        }\n      }}\n    >\n      {children}\n    </form>\n  );\n}\n","import Cookies from 'universal-cookie';\n\n\nexport default new Cookies();","import { useData } from \"../hooks/datahook\";\nimport { useEffect, useState } from \"react\";\nimport Loader from \"./loader\";\nimport { useHistory, Link, useLocation } from \"react-router-dom\";\nimport logo from \"../images/logos/TS.svg\";\nimport { RouterForm } from \"./RouterForm\";\nimport cookies from \"../cookies\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faSignInAlt } from \"@fortawesome/free-solid-svg-icons\";\nimport { parse } from \"querystring\";\nimport { GoogleReCaptcha } from \"react-google-recaptcha-v3\";\n\nfunction validateEmail(email: string) {\n  const re =\n    /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(String(email).toLowerCase());\n}\n\nfunction Login() {\n  const { rechecklogged, loggedin } = useData();\n  const [error, seterror] = useState(\"\");\n  const [recapToken, setRecapToken] = useState<null | string>(null);\n  const history = useHistory();\n  const location = useLocation();\n  const query: { [key: string]: string | string[] } = parse(\n    location.search.slice(1)\n  );\n  const [loading, setloading] = useState(false);\n  const redirect = query.to\n    ? Array.isArray(query.to)\n      ? query.to[0]\n      : query.to\n    : \"/\";\n\n  useEffect(() => {\n    document.title = `Login - TypeChat`;\n    return () => {\n      document.title = \"TypeChat\";\n    };\n  }, []);\n  if (loggedin) {\n    history.push(redirect);\n    return <></>;\n  }\n  return (\n    <>\n      <div style={{ display: loading ? \"\" : \"none\" }}>\n        <Loader></Loader>\n      </div>\n      <div\n        style={{\n          margin: \"5rem 0\",\n          textAlign: \"center\",\n          display: !loading ? \"\" : \"none\",\n        }}\n      >\n        <img\n          src={logo}\n          style={{ width: \"150px\", borderRadius: \"10px\" }}\n          alt=\"logo\"\n        ></img>\n        <h1\n          style={{\n            fontSize: \"20px\",\n            fontFamily: \"'Source Sans Pro', sans-serif\",\n          }}\n        >\n          <FontAwesomeIcon icon={faSignInAlt}></FontAwesomeIcon> Login\n        </h1>\n        <div data-private>\n          <RouterForm\n            action={\"/login\"}\n            beforecallback={(e: any) => {\n              if (recapToken) {\n                if (e.target[0].value !== \"\" && e.target[1].value !== \"\") {\n                  if (validateEmail(e.target[0].value)) {\n                    setloading(true);\n                    return true;\n                  } else {\n                    seterror(\"input a valid email!\");\n                  }\n                } else {\n                  seterror(\"input an email and password!\");\n                }\n              } else {\n                seterror(\"waiting for recaptcha token... try again later.\");\n              }\n            }}\n            appendtoformdata={(fd) => {\n              if (recapToken) fd.append(\"g-recaptcha-response\", recapToken);\n              return fd;\n            }}\n            style={{\n              width: \"fit-content\",\n              margin: \"auto\",\n              maxWidth: \"300px\",\n            }}\n            callback={(resp: any) => {\n              if (resp.resp) {\n                cookies.set(\"token\", resp.token, {\n                  path: \"/\",\n                  expires: new Date(Date.now() + 3.154e12),\n                });\n                rechecklogged();\n              } else {\n                setloading(false);\n                seterror(resp.err);\n              }\n            }}\n          >\n            <GoogleReCaptcha\n              onVerify={(token) => {\n                setRecapToken(token);\n              }}\n            />\n            <p\n              style={{\n                textAlign: \"end\",\n                margin: \"0\",\n              }}\n            >\n              Email\n            </p>\n            <input\n              type=\"email\"\n              placeholder=\"Email\"\n              name=\"email\"\n              style={{\n                background: \"transparent\",\n                borderTop: \"none\",\n                borderRight: \"none\",\n                borderBottom: \"1px solid white\",\n                borderLeft: \"none\",\n                borderImage: \"initial\",\n                marginBottom: \"1rem\",\n                width: \"100%\",\n                paddingBottom: \"0.5rem\",\n                fontFamily: \"'Source Sans Pro', sans-serif\",\n                fontSize: \"17px\",\n                color: \"white\",\n                borderRadius: \"0px\",\n              }}\n            />\n            <p\n              style={{\n                textAlign: \"end\",\n                margin: \"0\",\n              }}\n            >\n              Password\n            </p>\n            <input\n              type=\"password\"\n              placeholder=\"Password\"\n              name=\"pass\"\n              style={{\n                background: \"transparent\",\n                borderTop: \"none\",\n                borderRight: \"none\",\n                borderBottom: \"1px solid white\",\n                borderLeft: \"none\",\n                borderImage: \"initial\",\n                marginBottom: \"1rem\",\n                width: \"100%\",\n                paddingBottom: \"0.5rem\",\n                fontFamily: \"'Source Sans Pro', sans-serif\",\n                fontSize: \"17px\",\n                color: \"white\",\n                borderRadius: \"0px\",\n              }}\n            />\n            <p\n              style={{\n                fontSize: \"13px\",\n                marginBottom: \"1rem !important\",\n              }}\n            >\n              By logging in, you agree to the{\" \"}\n              <a href=\"/t&c\" target=\"blank_\">\n                T & C's\n              </a>\n            </p>\n            <input\n              type=\"submit\"\n              value=\"Login\"\n              style={{\n                padding: \"1rem\",\n                maxWidth: \"250px\",\n                width: \"100%\",\n                border: \"none\",\n                borderRadius: \"50px\",\n                background:\n                  \"linear-gradient(45deg, var(--dark-bg-colour) 0%, var(--light-bg-colour) 100%)\",\n                color: \"white\",\n                fontFamily: '\"Source Sans Pro\", sans-serif',\n                fontSize: \"20px\",\n                boxShadow: \"rgb(0, 0, 0) 0px 6px 5px 0px\",\n              }}\n            />\n            <p style={{ margin: \"1rem 0\", color: \"red\" }}>{error}</p>\n            <p style={{ margin: \"1rem 0\", color: \"white\" }}>\n              dont already have an account?{\" \"}\n              <span>\n                <Link\n                  to={\"/signup\" + location.search}\n                  style={{ color: \"var(--secondary-text-colour)\" }}\n                >\n                  Make one\n                </Link>\n              </span>\n            </p>\n            <p style={{ margin: \"1rem 0\", color: \"white\" }}>\n              Forgot your password?{\" \"}\n              <span>\n                <Link\n                  to={\"/requestNewPassword\"}\n                  style={{ color: \"var(--secondary-text-colour)\" }}\n                >\n                  Change it\n                </Link>\n              </span>\n            </p>\n          </RouterForm>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Login;\n","export default __webpack_public_path__ + \"static/media/TypeChat.cf3ac447.svg\";","import { useState, useEffect } from \"react\";\nfunction useWindowSize() {\n  const [windowSize, setWindowSize] = useState({\n    width: 0,\n    height: 0,\n  });\n  useEffect(() => {\n    function handleResize() {\n      setWindowSize({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    }\n    window.addEventListener(\"resize\", handleResize);\n    handleResize();\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []);\n  return windowSize;\n}\nexport default useWindowSize;\n","import { useData } from \"../hooks/datahook\";\nimport { Nav, Navbar, Dropdown } from \"react-bootstrap\";\nimport bigLogo from \"../images/logos/TypeChat.svg\";\nimport smallLogo from \"../images/logos/TS.svg\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport \"./css/nav.css\";\nimport cookies from \"../cookies\";\nimport useWindowSize from \"../hooks/usescreensize\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faComment,\n  faUserFriends,\n  faPlus,\n  faSignOutAlt,\n  faCog,\n  faRocket,\n  faUserCog,\n  faPhotoVideo,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { faDiscord } from \"@fortawesome/free-brands-svg-icons\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { useEffect, useRef } from \"react\";\nimport useComponentSize from \"@rehooks/component-size\";\nimport playSound from \"../playsound\";\nimport isElectron from \"is-electron\";\nconst PageNav = () => {\n  const { width } = useWindowSize();\n  const Navbarref = useRef(null);\n  const navbarsize = useComponentSize(Navbarref);\n  const { loggedin, user, rechecklogged, setnavbarsize, chattingto } =\n    useData();\n  useEffect(() => {\n    setnavbarsize(navbarsize);\n  }, [navbarsize, setnavbarsize]);\n  const location = useLocation();\n  return (\n    <>\n      <Navbar\n        ref={Navbarref}\n        bg=\"darkpurple\"\n        variant=\"dark\"\n        fixed=\"top\"\n        style={{ top: isElectron() ? \"30px\" : undefined }}\n      >\n        <Navbar.Brand\n          onPointerDown={() => {\n            playSound(\"/sounds/click2.mp3\");\n          }}\n          onPointerUp={() => {\n            playSound(\"/sounds/click1.mp3\");\n          }}\n          as={Link}\n          to={loggedin ? \"/contacts\" : \"/\"}\n        >\n          <img\n            alt=\"TypeChat\"\n            src={width > 700 ? bigLogo : smallLogo}\n            style={{\n              height: \"40px\",\n            }}\n          />\n        </Navbar.Brand>\n\n        <Nav className=\"mc-auto\">\n          {loggedin ? (\n            <>\n              {chattingto ? (\n                <Nav.Link\n                  onPointerDown={() => {\n                    playSound(\"/sounds/click2.mp3\");\n                  }}\n                  onPointerUp={() => {\n                    playSound(\"/sounds/click1.mp3\");\n                  }}\n                  as={Link}\n                  to={`/chat/${chattingto}`}\n                  style={{\n                    color:\n                      location.pathname === `/chat/${chattingto}`\n                        ? \"white\"\n                        : \"\",\n                  }}\n                  title=\"Chat\"\n                >\n                  <FontAwesomeIcon icon={faComment} />\n                </Nav.Link>\n              ) : (\n                <></>\n              )}\n              <Nav.Link\n                onPointerDown={() => {\n                  playSound(\"/sounds/click2.mp3\");\n                }}\n                onPointerUp={() => {\n                  playSound(\"/sounds/click1.mp3\");\n                }}\n                as={Link}\n                title=\"Contacts\"\n                to=\"/contacts\"\n                style={{\n                  color: location.pathname === \"/contacts\" ? \"white\" : \"\",\n                }}\n              >\n                <FontAwesomeIcon icon={faUserFriends} />\n              </Nav.Link>\n              <Nav.Link\n                onPointerDown={() => {\n                  playSound(\"/sounds/click2.mp3\");\n                }}\n                onPointerUp={() => {\n                  playSound(\"/sounds/click1.mp3\");\n                }}\n                as={Link}\n                to=\"/add\"\n                style={{ color: location.pathname === \"/add\" ? \"white\" : \"\" }}\n                title=\"Add People\"\n              >\n                <FontAwesomeIcon icon={faPlus} />\n              </Nav.Link>\n            </>\n          ) : (\n            <></>\n          )}\n        </Nav>\n        <Nav>\n          <Nav.Link\n            onPointerDown={() => {\n              playSound(\"/sounds/click2.mp3\");\n            }}\n            onPointerUp={() => {\n              playSound(\"/sounds/click1.mp3\");\n            }}\n            onClick={() => window.open(\"/invite\", \"blank_\")}\n          >\n            <FontAwesomeIcon icon={faDiscord} />\n          </Nav.Link>\n          <Nav.Link\n            onPointerDown={() => {\n              playSound(\"/sounds/click2.mp3\");\n            }}\n            onPointerUp={() => {\n              playSound(\"/sounds/click1.mp3\");\n            }}\n            as={Link}\n            to=\"/blast\"\n            style={{ color: location.pathname === \"/blast\" ? \"white\" : \"\" }}\n          >\n            <FontAwesomeIcon icon={faRocket} />\n          </Nav.Link>\n          <Nav.Link\n            onPointerDown={() => {\n              playSound(\"/sounds/click2.mp3\");\n            }}\n            onPointerUp={() => {\n              playSound(\"/sounds/click1.mp3\");\n            }}\n            as={Link}\n            to=\"/settings\"\n            style={{ color: location.pathname === \"/settings\" ? \"white\" : \"\" }}\n          >\n            <FontAwesomeIcon icon={faCog} />\n          </Nav.Link>\n          {loggedin ? (\n            <>\n              <Dropdown>\n                <Dropdown.Toggle\n                  style={{\n                    backgroundColor: \"transparent\",\n                    border: \"none\",\n                    margin: \"0\",\n                    padding: \"0\",\n                  }}\n                  onPointerDown={() => {\n                    playSound(\"/sounds/click2.mp3\");\n                  }}\n                  onPointerUp={() => {\n                    playSound(\"/sounds/click1.mp3\");\n                  }}\n                >\n                  <img\n                    alt=\"Profile\"\n                    src={\"/files/\" + user.profilePic}\n                    style={{ height: \"40px\", borderRadius: \"50%\" }}\n                  />\n                </Dropdown.Toggle>\n\n                <Dropdown.Menu alignRight className={\"db-darkpurple\"}>\n                  <Dropdown.Item\n                    as={Link}\n                    to=\"/user/settings\"\n                    onPointerDown={() => {\n                      playSound(\"/sounds/click2.mp3\");\n                    }}\n                    onPointerUp={() => {\n                      playSound(\"/sounds/click1.mp3\");\n                    }}\n                  >\n                    <FontAwesomeIcon icon={faUserCog} /> User Settings\n                  </Dropdown.Item>\n                  <Dropdown.Item\n                    as={Link}\n                    to=\"/user/drive\"\n                    onPointerDown={() => {\n                      playSound(\"/sounds/click2.mp3\");\n                    }}\n                    onPointerUp={() => {\n                      playSound(\"/sounds/click1.mp3\");\n                    }}\n                  >\n                    <FontAwesomeIcon icon={faPhotoVideo} /> Drive\n                  </Dropdown.Item>\n                  <Dropdown.Item\n                    onClick={async () => {\n                      await fetch(\"/api/logout\");\n                      cookies.remove(\"token\");\n                      rechecklogged();\n                      localStorage.removeItem(\"chats\");\n                      localStorage.removeItem(\"contacts\");\n                      localStorage.removeItem(\"chattingto\");\n                    }}\n                    onPointerDown={() => {\n                      playSound(\"/sounds/click2.mp3\");\n                    }}\n                    onPointerUp={() => {\n                      playSound(\"/sounds/click1.mp3\");\n                    }}\n                  >\n                    <FontAwesomeIcon icon={faSignOutAlt} /> Logout\n                  </Dropdown.Item>\n                </Dropdown.Menu>\n              </Dropdown>\n            </>\n          ) : (\n            <>\n              <Nav.Link\n                onPointerDown={() => {\n                  playSound(\"/sounds/click2.mp3\");\n                }}\n                onPointerUp={() => {\n                  playSound(\"/sounds/click1.mp3\");\n                }}\n                as={Link}\n                to=\"/login\"\n                style={{ color: location.pathname === \"/login\" ? \"white\" : \"\" }}\n              >\n                Login\n              </Nav.Link>\n              <Nav.Link\n                onPointerDown={() => {\n                  playSound(\"/sounds/click2.mp3\");\n                }}\n                onPointerUp={() => {\n                  playSound(\"/sounds/click1.mp3\");\n                }}\n                as={Link}\n                to=\"/signup\"\n                style={{\n                  color: location.pathname === \"/signup\" ? \"white\" : \"\",\n                }}\n              >\n                Sign Up\n              </Nav.Link>\n            </>\n          )}\n        </Nav>\n      </Navbar>\n      <div\n        style={{ height: navbarsize.height + (isElectron() ? 30 : 0) }}\n      ></div>\n    </>\n  );\n};\nexport default PageNav;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { useState, useEffect, useRef } from \"react\";\n\ninterface userApiInterface<T> {\n  loading: boolean;\n  data: T | undefined;\n  setData: Function;\n  error: string | undefined;\n  reload: Function;\n  reloadSilent: Function;\n}\n\nfunction useApi<T>(url: string | null): userApiInterface<T> {\n  const [data, setData] = useState<T | undefined>(undefined);\n  const [loading, setLoading] = useState<boolean>(true);\n  const [request, setrequest] = useState<number>(0);\n  const [error, setError] = useState<string | undefined>(undefined);\n  const laststamp = useRef<number | null>(null);\n  function reload() {\n    setrequest(request + 1);\n    setLoading(true);\n    setError(undefined);\n    setData(undefined);\n  }\n  function reloadSilent() {\n    setrequest(request + 1);\n  }\n  useEffect(() => {\n    if (url) {\n      (async () => {\n        try {\n          const time = new Date().getTime();\n          const result = await (await fetch(url)).json();\n          if (!laststamp.current || time - laststamp.current > 0) {\n            laststamp.current = time;\n            setData(result);\n          }\n        } catch (e) {\n          setError(String(e));\n        }\n        setLoading(false);\n      })();\n    }\n  }, [url, request]);\n\n  return { loading, data, setData, error, reload, reloadSilent };\n}\n\nexport default useApi;\n","import { useData } from \"../hooks/datahook\";\nimport { useEffect, useState } from \"react\";\nimport Loader from \"./loader\";\nimport { useHistory, Link, useLocation } from \"react-router-dom\";\nimport logo from \"../images/logos/TS.svg\";\nimport { RouterForm } from \"./RouterForm\";\nimport cookies from \"../cookies\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faAddressCard } from \"@fortawesome/free-solid-svg-icons\";\nimport Avatar from \"react-avatar-edit\";\nimport { parse } from \"querystring\";\nimport { GoogleReCaptcha } from \"react-google-recaptcha-v3\";\n\nfunction validateEmail(email: string) {\n  const re =\n    /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(String(email).toLowerCase());\n}\n\nfunction Signup() {\n  const { rechecklogged, loggedin } = useData();\n  const [error, seterror] = useState(\"\");\n  const [profile, setprofile] = useState<Blob | null>(null);\n  const history = useHistory();\n  const [recapToken, setRecapToken] = useState<null | string>(null);\n  const [loading, setloading] = useState(false);\n  const location = useLocation();\n  const query: { [key: string]: string | string[] } = parse(\n    location.search.slice(1)\n  );\n  const redirect = query.to\n    ? Array.isArray(query.to)\n      ? query.to[0]\n      : query.to\n    : \"/\";\n\n  useEffect(() => {\n    document.title = `Signup - TypeChat`;\n    return () => {\n      document.title = \"TypeChat\";\n    };\n  }, []);\n  if (loggedin) {\n    history.push(redirect);\n    return <></>;\n  }\n  return (\n    <>\n      <div style={{ display: loading ? \"\" : \"none\" }}>\n        <Loader></Loader>\n      </div>\n      <div\n        style={{\n          margin: \"5rem 0\",\n          textAlign: \"center\",\n          display: !loading ? \"\" : \"none\",\n        }}\n      >\n        <img\n          src={logo}\n          alt=\"logo\"\n          style={{ width: \"150px\", borderRadius: \"10px\" }}\n        ></img>\n        <h1\n          style={{\n            fontSize: \"20px\",\n            fontFamily: \"'Source Sans Pro', sans-serif\",\n          }}\n        >\n          <FontAwesomeIcon icon={faAddressCard}></FontAwesomeIcon> Sign Up\n        </h1>\n        <div data-private>\n          <RouterForm\n            action={\"/signup\"}\n            beforecallback={(e: any) => {\n              if (recapToken) {\n                if (\n                  e.target[0].value !== \"\" &&\n                  e.target[1].value !== \"\" &&\n                  e.target[2].value !== \"\" &&\n                  profile\n                ) {\n                  if (validateEmail(e.target[0].value)) {\n                    setloading(true);\n                    return true;\n                  } else {\n                    seterror(\"input a valid email!\");\n                  }\n                } else {\n                  seterror(\"input a profile, username, email and password!\");\n                }\n              } else {\n                seterror(\"waiting for recaptcha token... try again later.\");\n              }\n            }}\n            appendtoformdata={(fd: FormData) => {\n              if (recapToken) fd.append(\"g-recaptcha-response\", recapToken);\n              fd.append(\"profile\", profile ? profile : \"\");\n              return fd;\n            }}\n            style={{ width: \"fit-content\", margin: \"auto\", maxWidth: \"300px\" }}\n            callback={(resp: any) => {\n              if (resp.resp) {\n                cookies.set(\"token\", resp.token, {\n                  path: \"/\",\n                  expires: new Date(Date.now() + 3.154e12),\n                });\n                rechecklogged();\n              } else {\n                setloading(false);\n                seterror(resp.err);\n              }\n            }}\n          >\n            <GoogleReCaptcha\n              onVerify={(token) => {\n                setRecapToken(token);\n              }}\n            />{\" \"}\n            <p\n              style={{\n                textAlign: \"end\",\n                margin: \"0\",\n              }}\n            >\n              profile\n            </p>\n            <Avatar\n              width={300}\n              height={0}\n              imageWidth={300}\n              onCrop={(dataURL) => {\n                fetch(dataURL).then((fetched) =>\n                  fetched.blob().then((blob) => setprofile(blob))\n                );\n              }}\n              labelStyle={{ color: \"white\" }}\n              onClose={() => {\n                setprofile(null);\n              }}\n              exportMimeType=\"image/jpeg\"\n              exportSize={500}\n              exportQuality={0.75}\n              exportAsSquare\n            />{\" \"}\n            <p\n              style={{\n                textAlign: \"end\",\n                margin: \"0\",\n              }}\n            >\n              Email\n            </p>{\" \"}\n            <input\n              type=\"email\"\n              placeholder=\"Email\"\n              name=\"email\"\n              style={{\n                background: \"transparent\",\n                borderTop: \"none\",\n                borderRight: \"none\",\n                borderBottom: \"1px solid white\",\n                borderLeft: \"none\",\n                borderImage: \"initial\",\n                marginBottom: \"1rem\",\n                width: \"100%\",\n                paddingBottom: \"0.5rem\",\n                fontFamily: \"'Source Sans Pro', sans-serif\",\n                fontSize: \"17px\",\n                color: \"white\",\n                borderRadius: \"0px\",\n              }}\n              autoComplete=\"new-password\"\n            />\n            <p\n              style={{\n                textAlign: \"end\",\n                margin: \"0\",\n              }}\n            >\n              Username\n            </p>{\" \"}\n            <input\n              type=\"text\"\n              placeholder=\"Username\"\n              name=\"uname\"\n              style={{\n                background: \"transparent\",\n                borderTop: \"none\",\n                borderRight: \"none\",\n                borderBottom: \"1px solid white\",\n                borderLeft: \"none\",\n                borderImage: \"initial\",\n                marginBottom: \"1rem\",\n                width: \"100%\",\n                paddingBottom: \"0.5rem\",\n                fontFamily: \"'Source Sans Pro', sans-serif\",\n                fontSize: \"17px\",\n                color: \"white\",\n                borderRadius: \"0px\",\n              }}\n              autoComplete=\"new-password\"\n            />{\" \"}\n            <p\n              style={{\n                textAlign: \"end\",\n                margin: \"0\",\n              }}\n            >\n              Password\n            </p>\n            <input\n              type=\"password\"\n              placeholder=\"Password\"\n              name=\"pass\"\n              style={{\n                background: \"transparent\",\n                borderTop: \"none\",\n                borderRight: \"none\",\n                borderBottom: \"1px solid white\",\n                borderLeft: \"none\",\n                borderImage: \"initial\",\n                marginBottom: \"1rem\",\n                width: \"100%\",\n                paddingBottom: \"0.5rem\",\n                fontFamily: \"'Source Sans Pro', sans-serif\",\n                fontSize: \"17px\",\n                color: \"white\",\n                borderRadius: \"0px\",\n              }}\n              autoComplete=\"new-password\"\n            />\n            <p\n              style={{\n                fontSize: \"13px\",\n                marginBottom: \"1rem !important\",\n              }}\n            >\n              By creating an account, you agree to the{\" \"}\n              <a href=\"/t&c\" target=\"blank_\">\n                T & C's\n              </a>\n            </p>\n            <input\n              type=\"submit\"\n              value=\"Sign up\"\n              style={{\n                padding: \"1rem\",\n                width: \"100%\",\n                border: \"none\",\n                borderRadius: \"50px\",\n                background:\n                  \"linear-gradient(45deg, var(--dark-bg-colour) 0%, var(--light-bg-colour) 100%)\",\n                color: \"white\",\n                fontFamily: '\"Source Sans Pro\", sans-serif',\n                fontSize: \"20px\",\n                boxShadow: \"rgb(0, 0, 0) 0px 6px 5px 0px\",\n              }}\n            />\n            <p style={{ margin: \"1rem 0\", color: \"red\" }}>{error}</p>\n            <p style={{ margin: \"1rem 0\", color: \"white\" }}>\n              already have an account?{\" \"}\n              <span>\n                <Link\n                  to={\"/login\" + location.search}\n                  style={{ color: \"var(--secondary-text-colour)\" }}\n                >\n                  Login\n                </Link>\n              </span>\n            </p>\n          </RouterForm>\n        </div>\n      </div>\n    </>\n  );\n}\n\nexport default Signup;\n","import { Dispatch, SetStateAction, useEffect, useState } from \"react\";\n\nfunction useLocalStorage<T>(\n  key: string,\n  initialValue: T | (() => T)\n): [T, Dispatch<SetStateAction<T>>] {\n  // Get from local storage then\n  // parse stored json or return initialValue\n  const readValue = () => {\n    // Prevent build error \"window is undefined\" but keep keep working\n    if (typeof window === \"undefined\") {\n      return initialValue;\n    }\n\n    try {\n      const item = window.localStorage.getItem(key);\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      console.warn(`Error reading localStorage key “${key}”:`, error);\n      return initialValue;\n    }\n  };\n\n  // State to store our value\n  // Pass initial state function to useState so logic is only executed once\n  const [storedValue, setStoredValue] = useState<T>(readValue);\n\n  // Return a wrapped version of useState's setter function that ...\n  // ... persists the new value to localStorage.\n  const setValue: Dispatch<SetStateAction<T>> = (value) => {\n    // Prevent build error \"window is undefined\" but keeps working\n    if (typeof window == \"undefined\") {\n      console.warn(\n        `Tried setting localStorage key “${key}” even though environment is not a client`\n      );\n    }\n\n    try {\n      // Allow value to be a function so we have the same API as useState\n      const newValue = value instanceof Function ? value(storedValue) : value;\n\n      // Save to local storage\n      window.localStorage.setItem(key, JSON.stringify(newValue));\n\n      // Save state\n      setStoredValue(newValue);\n\n      // We dispatch a custom event so every useLocalStorage hook are notified\n      window.dispatchEvent(new Event(\"local-storage\"));\n    } catch (error) {\n      console.warn(`Error setting localStorage key “${key}”:`, error);\n    }\n  };\n\n  useEffect(() => {\n    setStoredValue(readValue());\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    const handleStorageChange = () => {\n      setStoredValue(readValue());\n    };\n\n    // this only works for other documents, not the current one\n    window.addEventListener(\"storage\", handleStorageChange);\n\n    // this is a custom event, triggered in writeValueToLocalStorage\n    window.addEventListener(\"local-storage\", handleStorageChange);\n\n    return () => {\n      window.removeEventListener(\"storage\", handleStorageChange);\n      window.removeEventListener(\"local-storage\", handleStorageChange);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return [storedValue, setValue];\n}\n\nexport default useLocalStorage;\n","const emoji = [\n  \"😀\",\n  \"😁\",\n  \"😂\",\n  \"🤣\",\n  \"😃\",\n  \"😄\",\n  \"😅\",\n  \"😆\",\n  \"😉\",\n  \"😊\",\n  \"😋\",\n  \"😎\",\n  \"😍\",\n  \"😘\",\n  \"😗\",\n  \"😙\",\n  \"😚\",\n  \"☺\",\n  \"🙂\",\n  \"🤗\",\n  \"🤔\",\n  \"😐\",\n  \"😑\",\n  \"😶\",\n  \"🙄\",\n  \"😏\",\n  \"😣\",\n  \"😥\",\n  \"😮\",\n  \"🤐\",\n  \"😯\",\n  \"😪\",\n  \"😫\",\n  \"😴\",\n  \"😌\",\n  \"🤓\",\n  \"😛\",\n  \"😜\",\n  \"😝\",\n  \"🤤\",\n  \"😒\",\n  \"😓\",\n  \"😔\",\n  \"😕\",\n  \"🙃\",\n  \"🤑\",\n  \"😲\",\n  \"☹\",\n  \"🙁\",\n  \"😖\",\n  \"😞\",\n  \"😟\",\n  \"😤\",\n  \"😢\",\n  \"😭\",\n  \"😦\",\n  \"😧\",\n  \"😨\",\n  \"😩\",\n  \"😬\",\n  \"😰\",\n  \"😱\",\n  \"😳\",\n  \"😵\",\n  \"😡\",\n  \"😠\",\n  \"😇\",\n  \"🤠\",\n  \"🤡\",\n  \"🤥\",\n  \"😷\",\n  \"🤒\",\n  \"🤕\",\n  \"🤢\",\n  \"🤧\",\n  \"😈\",\n  \"👿\",\n  \"👹\",\n  \"👺\",\n  \"💀\",\n  \"☠\",\n  \"👻\",\n  \"👽\",\n  \"👾\",\n  \"🤖\",\n  \"💩\",\n  \"😺\",\n  \"😸\",\n  \"😹\",\n  \"😻\",\n  \"😼\",\n  \"😽\",\n  \"🙀\",\n  \"😿\",\n  \"😾\",\n  \"🙈\",\n  \"🙉\",\n  \"🙊\",\n  \"👦\",\n  \"👦🏻\",\n  \"👦🏼\",\n  \"👦🏽\",\n  \"👦🏾\",\n  \"👦🏿\",\n  \"👧\",\n  \"👧🏻\",\n  \"👧🏼\",\n  \"👧🏽\",\n  \"👧🏾\",\n  \"👧🏿\",\n  \"👨\",\n  \"👨🏻\",\n  \"👨🏼\",\n  \"👨🏽\",\n  \"👨🏾\",\n  \"👨🏿\",\n  \"👩\",\n  \"👩🏻\",\n  \"👩🏼\",\n  \"👩🏽\",\n  \"👩🏾\",\n  \"👩🏿\",\n  \"👴\",\n  \"👴🏻\",\n  \"👴🏼\",\n  \"👴🏽\",\n  \"👴🏾\",\n  \"👴🏿\",\n  \"👵\",\n  \"👵🏻\",\n  \"👵🏼\",\n  \"👵🏽\",\n  \"👵🏾\",\n  \"👵🏿\",\n  \"👶\",\n  \"👶🏻\",\n  \"👶🏼\",\n  \"👶🏽\",\n  \"👶🏾\",\n  \"👶🏿\",\n  \"👼\",\n  \"👼🏻\",\n  \"👼🏼\",\n  \"👼🏽\",\n  \"👼🏾\",\n  \"👼🏿\",\n  \"👮\",\n  \"👮🏻\",\n  \"👮🏼\",\n  \"👮🏽\",\n  \"👮🏾\",\n  \"👮🏿\",\n  \"🕵\",\n  \"🕵🏻\",\n  \"🕵🏼\",\n  \"🕵🏽\",\n  \"🕵🏾\",\n  \"🕵🏿\",\n  \"💂\",\n  \"💂🏻\",\n  \"💂🏼\",\n  \"💂🏽\",\n  \"💂🏾\",\n  \"💂🏿\",\n  \"👷\",\n  \"👷🏻\",\n  \"👷🏼\",\n  \"👷🏽\",\n  \"👷🏾\",\n  \"👷🏿\",\n  \"👳\",\n  \"👳🏻\",\n  \"👳🏼\",\n  \"👳🏽\",\n  \"👳🏾\",\n  \"👳🏿\",\n  \"👱\",\n  \"👱🏻\",\n  \"👱🏼\",\n  \"👱🏽\",\n  \"👱🏾\",\n  \"👱🏿\",\n  \"🎅\",\n  \"🎅🏻\",\n  \"🎅🏼\",\n  \"🎅🏽\",\n  \"🎅🏾\",\n  \"🎅🏿\",\n  \"🤶\",\n  \"🤶🏻\",\n  \"🤶🏼\",\n  \"🤶🏽\",\n  \"🤶🏾\",\n  \"🤶🏿\",\n  \"👸\",\n  \"👸🏻\",\n  \"👸🏼\",\n  \"👸🏽\",\n  \"👸🏾\",\n  \"👸🏿\",\n  \"🤴\",\n  \"🤴🏻\",\n  \"🤴🏼\",\n  \"🤴🏽\",\n  \"🤴🏾\",\n  \"🤴🏿\",\n  \"👰\",\n  \"👰🏻\",\n  \"👰🏼\",\n  \"👰🏽\",\n  \"👰🏾\",\n  \"👰🏿\",\n  \"🤵\",\n  \"🤵🏻\",\n  \"🤵🏼\",\n  \"🤵🏽\",\n  \"🤵🏾\",\n  \"🤵🏿\",\n  \"🤰\",\n  \"🤰🏻\",\n  \"🤰🏼\",\n  \"🤰🏽\",\n  \"🤰🏾\",\n  \"🤰🏿\",\n  \"👲\",\n  \"👲🏻\",\n  \"👲🏼\",\n  \"👲🏽\",\n  \"👲🏾\",\n  \"👲🏿\",\n  \"🙍\",\n  \"🙍🏻\",\n  \"🙍🏼\",\n  \"🙍🏽\",\n  \"🙍🏾\",\n  \"🙍🏿\",\n  \"🙎\",\n  \"🙎🏻\",\n  \"🙎🏼\",\n  \"🙎🏽\",\n  \"🙎🏾\",\n  \"🙎🏿\",\n  \"🙅\",\n  \"🙅🏻\",\n  \"🙅🏼\",\n  \"🙅🏽\",\n  \"🙅🏾\",\n  \"🙅🏿\",\n  \"🙆\",\n  \"🙆🏻\",\n  \"🙆🏼\",\n  \"🙆🏽\",\n  \"🙆🏾\",\n  \"🙆🏿\",\n  \"💁\",\n  \"💁🏻\",\n  \"💁🏼\",\n  \"💁🏽\",\n  \"💁🏾\",\n  \"💁🏿\",\n  \"🙋\",\n  \"🙋🏻\",\n  \"🙋🏼\",\n  \"🙋🏽\",\n  \"🙋🏾\",\n  \"🙋🏿\",\n  \"🙇\",\n  \"🙇🏻\",\n  \"🙇🏼\",\n  \"🙇🏽\",\n  \"🙇🏾\",\n  \"🙇🏿\",\n  \"🤦\",\n  \"🤦🏻\",\n  \"🤦🏼\",\n  \"🤦🏽\",\n  \"🤦🏾\",\n  \"🤦🏿\",\n  \"🤷\",\n  \"🤷🏻\",\n  \"🤷🏼\",\n  \"🤷🏽\",\n  \"🤷🏾\",\n  \"🤷🏿\",\n  \"💆\",\n  \"💆🏻\",\n  \"💆🏼\",\n  \"💆🏽\",\n  \"💆🏾\",\n  \"💆🏿\",\n  \"💇\",\n  \"💇🏻\",\n  \"💇🏼\",\n  \"💇🏽\",\n  \"💇🏾\",\n  \"💇🏿\",\n  \"🚶\",\n  \"🚶🏻\",\n  \"🚶🏼\",\n  \"🚶🏽\",\n  \"🚶🏾\",\n  \"🚶🏿\",\n  \"🏃\",\n  \"🏃🏻\",\n  \"🏃🏼\",\n  \"🏃🏽\",\n  \"🏃🏾\",\n  \"🏃🏿\",\n  \"💃\",\n  \"💃🏻\",\n  \"💃🏼\",\n  \"💃🏽\",\n  \"💃🏾\",\n  \"💃🏿\",\n  \"🕺\",\n  \"🕺🏻\",\n  \"🕺🏼\",\n  \"🕺🏽\",\n  \"🕺🏾\",\n  \"🕺🏿\",\n  \"👯\",\n  \"🕴\",\n  \"🗣\",\n  \"👤\",\n  \"👥\",\n  \"🤺\",\n  \"🏇\",\n  \"⛷\",\n  \"🏂\",\n  \"🏌\",\n  \"🏄\",\n  \"🏄🏻\",\n  \"🏄🏼\",\n  \"🏄🏽\",\n  \"🏄🏾\",\n  \"🏄🏿\",\n  \"🚣\",\n  \"🚣🏻\",\n  \"🚣🏼\",\n  \"🚣🏽\",\n  \"🚣🏾\",\n  \"🚣🏿\",\n  \"🏊\",\n  \"🏊🏻\",\n  \"🏊🏼\",\n  \"🏊🏽\",\n  \"🏊🏾\",\n  \"🏊🏿\",\n  \"⛹\",\n  \"⛹🏻\",\n  \"⛹🏼\",\n  \"⛹🏽\",\n  \"⛹🏾\",\n  \"⛹🏿\",\n  \"🏋\",\n  \"🏋🏻\",\n  \"🏋🏼\",\n  \"🏋🏽\",\n  \"🏋🏾\",\n  \"🏋🏿\",\n  \"🚴\",\n  \"🚴🏻\",\n  \"🚴🏼\",\n  \"🚴🏽\",\n  \"🚴🏾\",\n  \"🚴🏿\",\n  \"🚵\",\n  \"🚵🏻\",\n  \"🚵🏼\",\n  \"🚵🏽\",\n  \"🚵🏾\",\n  \"🚵🏿\",\n  \"🏎\",\n  \"🏍\",\n  \"🤸\",\n  \"🤸🏻\",\n  \"🤸🏼\",\n  \"🤸🏽\",\n  \"🤸🏾\",\n  \"🤸🏿\",\n  \"🤼\",\n  \"🤼🏻\",\n  \"🤼🏼\",\n  \"🤼🏽\",\n  \"🤼🏾\",\n  \"🤼🏿\",\n  \"🤽\",\n  \"🤽🏻\",\n  \"🤽🏼\",\n  \"🤽🏽\",\n  \"🤽🏾\",\n  \"🤽🏿\",\n  \"🤾\",\n  \"🤾🏻\",\n  \"🤾🏼\",\n  \"🤾🏽\",\n  \"🤾🏾\",\n  \"🤾🏿\",\n  \"🤹\",\n  \"🤹🏻\",\n  \"🤹🏼\",\n  \"🤹🏽\",\n  \"🤹🏾\",\n  \"🤹🏿\",\n  \"👫\",\n  \"👬\",\n  \"👭\",\n  \"💏\",\n  \"👩‍❤️‍💋‍👨\",\n  \"👨‍❤️‍💋‍👨\",\n  \"👩‍❤️‍💋‍👩\",\n  \"💑\",\n  \"👩‍❤️‍👨\",\n  \"👨‍❤️‍👨\",\n  \"👩‍❤️‍👩\",\n  \"👪\",\n  \"👨‍👩‍👦\",\n  \"👨‍👩‍👧\",\n  \"👨‍👩‍👧‍👦\",\n  \"👨‍👩‍👦‍👦\",\n  \"👨‍👩‍👧‍👧\",\n  \"👨‍👨‍👦\",\n  \"👨‍👨‍👧\",\n  \"👨‍👨‍👧‍👦\",\n  \"👨‍👨‍👦‍👦\",\n  \"👨‍👨‍👧‍👧\",\n  \"👩‍👩‍👦\",\n  \"👩‍👩‍👧\",\n  \"👩‍👩‍👧‍👦\",\n  \"👩‍👩‍👦‍👦\",\n  \"👩‍👩‍👧‍👧\",\n  \"🏻\",\n  \"🏼\",\n  \"🏽\",\n  \"🏾\",\n  \"🏿\",\n  \"💪\",\n  \"💪🏻\",\n  \"💪🏼\",\n  \"💪🏽\",\n  \"💪🏾\",\n  \"💪🏿\",\n  \"🤳\",\n  \"🤳🏻\",\n  \"🤳🏼\",\n  \"🤳🏽\",\n  \"🤳🏾\",\n  \"🤳🏿\",\n  \"👈\",\n  \"👈🏻\",\n  \"👈🏼\",\n  \"👈🏽\",\n  \"👈🏾\",\n  \"👈🏿\",\n  \"👉\",\n  \"👉🏻\",\n  \"👉🏼\",\n  \"👉🏽\",\n  \"👉🏾\",\n  \"👉🏿\",\n  \"☝\",\n  \"☝🏻\",\n  \"☝🏼\",\n  \"☝🏽\",\n  \"☝🏾\",\n  \"☝🏿\",\n  \"👆\",\n  \"👆🏻\",\n  \"👆🏼\",\n  \"👆🏽\",\n  \"👆🏾\",\n  \"👆🏿\",\n  \"🖕\",\n  \"🖕🏻\",\n  \"🖕🏼\",\n  \"🖕🏽\",\n  \"🖕🏾\",\n  \"🖕🏿\",\n  \"👇\",\n  \"👇🏻\",\n  \"👇🏼\",\n  \"👇🏽\",\n  \"👇🏾\",\n  \"👇🏿\",\n  \"✌\",\n  \"✌🏻\",\n  \"✌🏼\",\n  \"✌🏽\",\n  \"✌🏾\",\n  \"✌🏿\",\n  \"🤞\",\n  \"🤞🏻\",\n  \"🤞🏼\",\n  \"🤞🏽\",\n  \"🤞🏾\",\n  \"🤞🏿\",\n  \"🖖\",\n  \"🖖🏻\",\n  \"🖖🏼\",\n  \"🖖🏽\",\n  \"🖖🏾\",\n  \"🖖🏿\",\n  \"🤘\",\n  \"🤘🏻\",\n  \"🤘🏼\",\n  \"🤘🏽\",\n  \"🤘🏾\",\n  \"🤘🏿\",\n  \"🤙\",\n  \"🤙🏻\",\n  \"🤙🏼\",\n  \"🤙🏽\",\n  \"🤙🏾\",\n  \"🤙🏿\",\n  \"🖐\",\n  \"🖐🏻\",\n  \"🖐🏼\",\n  \"🖐🏽\",\n  \"🖐🏾\",\n  \"🖐🏿\",\n  \"✋\",\n  \"✋🏻\",\n  \"✋🏼\",\n  \"✋🏽\",\n  \"✋🏾\",\n  \"✋🏿\",\n  \"👌\",\n  \"👌🏻\",\n  \"👌🏼\",\n  \"👌🏽\",\n  \"👌🏾\",\n  \"👌🏿\",\n  \"👍\",\n  \"👍🏻\",\n  \"👍🏼\",\n  \"👍🏽\",\n  \"👍🏾\",\n  \"👍🏿\",\n  \"👎\",\n  \"👎🏻\",\n  \"👎🏼\",\n  \"👎🏽\",\n  \"👎🏾\",\n  \"👎🏿\",\n  \"✊\",\n  \"✊🏻\",\n  \"✊🏼\",\n  \"✊🏽\",\n  \"✊🏾\",\n  \"✊🏿\",\n  \"👊\",\n  \"👊🏻\",\n  \"👊🏼\",\n  \"👊🏽\",\n  \"👊🏾\",\n  \"👊🏿\",\n  \"🤛\",\n  \"🤛🏻\",\n  \"🤛🏼\",\n  \"🤛🏽\",\n  \"🤛🏾\",\n  \"🤛🏿\",\n  \"🤜\",\n  \"🤜🏻\",\n  \"🤜🏼\",\n  \"🤜🏽\",\n  \"🤜🏾\",\n  \"🤜🏿\",\n  \"🤚\",\n  \"🤚🏻\",\n  \"🤚🏼\",\n  \"🤚🏽\",\n  \"🤚🏾\",\n  \"🤚🏿\",\n  \"👋\",\n  \"👋🏻\",\n  \"👋🏼\",\n  \"👋🏽\",\n  \"👋🏾\",\n  \"👋🏿\",\n  \"👏\",\n  \"👏🏻\",\n  \"👏🏼\",\n  \"👏🏽\",\n  \"👏🏾\",\n  \"👏🏿\",\n  \"✍\",\n  \"✍🏻\",\n  \"✍🏼\",\n  \"✍🏽\",\n  \"✍🏾\",\n  \"✍🏿\",\n  \"👐\",\n  \"👐🏻\",\n  \"👐🏼\",\n  \"👐🏽\",\n  \"👐🏾\",\n  \"👐🏿\",\n  \"🙌\",\n  \"🙌🏻\",\n  \"🙌🏼\",\n  \"🙌🏽\",\n  \"🙌🏾\",\n  \"🙌🏿\",\n  \"🙏\",\n  \"🙏🏻\",\n  \"🙏🏼\",\n  \"🙏🏽\",\n  \"🙏🏾\",\n  \"🙏🏿\",\n  \"🤝\",\n  \"🤝🏻\",\n  \"🤝🏼\",\n  \"🤝🏽\",\n  \"🤝🏾\",\n  \"🤝🏿\",\n  \"💅\",\n  \"💅🏻\",\n  \"💅🏼\",\n  \"💅🏽\",\n  \"💅🏾\",\n  \"💅🏿\",\n  \"👂\",\n  \"👂🏻\",\n  \"👂🏼\",\n  \"👂🏽\",\n  \"👂🏾\",\n  \"👂🏿\",\n  \"👃\",\n  \"👃🏻\",\n  \"👃🏼\",\n  \"👃🏽\",\n  \"👃🏾\",\n  \"👃🏿\",\n  \"👣\",\n  \"👀\",\n  \"👁\",\n  \"👁‍🗨\",\n  \"👅\",\n  \"👄\",\n  \"💋\",\n  \"💘\",\n  \"❤\",\n  \"💓\",\n  \"💔\",\n  \"💕\",\n  \"💖\",\n  \"💗\",\n  \"💙\",\n  \"💚\",\n  \"💛\",\n  \"💜\",\n  \"🖤\",\n  \"💝\",\n  \"💞\",\n  \"💟\",\n  \"❣\",\n  \"💌\",\n  \"💤\",\n  \"💢\",\n  \"💣\",\n  \"💥\",\n  \"💦\",\n  \"💨\",\n  \"💫\",\n  \"💬\",\n  \"🗨\",\n  \"🗯\",\n  \"💭\",\n  \"🕳\",\n  \"👓\",\n  \"🕶\",\n  \"👔\",\n  \"👕\",\n  \"👖\",\n  \"👗\",\n  \"👘\",\n  \"👙\",\n  \"👚\",\n  \"👛\",\n  \"👜\",\n  \"👝\",\n  \"🛍\",\n  \"🎒\",\n  \"👞\",\n  \"👟\",\n  \"👠\",\n  \"👡\",\n  \"👢\",\n  \"👑\",\n  \"👒\",\n  \"🎩\",\n  \"🎓\",\n  \"⛑\",\n  \"📿\",\n  \"💄\",\n  \"💍\",\n  \"💎\",\n  \"🐵\",\n  \"🐒\",\n  \"🦍\",\n  \"🐶\",\n  \"🐕\",\n  \"🐩\",\n  \"🐺\",\n  \"🦊\",\n  \"🐱\",\n  \"🐈\",\n  \"🦁\",\n  \"🐯\",\n  \"🐅\",\n  \"🐆\",\n  \"🐴\",\n  \"🐎\",\n  \"🦌\",\n  \"🦄\",\n  \"🐮\",\n  \"🐂\",\n  \"🐃\",\n  \"🐄\",\n  \"🐷\",\n  \"🐖\",\n  \"🐗\",\n  \"🐽\",\n  \"🐏\",\n  \"🐑\",\n  \"🐐\",\n  \"🐪\",\n  \"🐫\",\n  \"🐘\",\n  \"🦏\",\n  \"🐭\",\n  \"🐁\",\n  \"🐀\",\n  \"🐹\",\n  \"🐰\",\n  \"🐇\",\n  \"🐿\",\n  \"🦇\",\n  \"🐻\",\n  \"🐨\",\n  \"🐼\",\n  \"🐾\",\n  \"🦃\",\n  \"🐔\",\n  \"🐓\",\n  \"🐣\",\n  \"🐤\",\n  \"🐥\",\n  \"🐦\",\n  \"🐧\",\n  \"🕊\",\n  \"🦅\",\n  \"🦆\",\n  \"🦉\",\n  \"🐸\",\n  \"🐊\",\n  \"🐢\",\n  \"🦎\",\n  \"🐍\",\n  \"🐲\",\n  \"🐉\",\n  \"🐳\",\n  \"🐋\",\n  \"🐬\",\n  \"🐟\",\n  \"🐠\",\n  \"🐡\",\n  \"🦈\",\n  \"🐙\",\n  \"🐚\",\n  \"🦀\",\n  \"🦐\",\n  \"🦑\",\n  \"🦋\",\n  \"🐌\",\n  \"🐛\",\n  \"🐜\",\n  \"🐝\",\n  \"🐞\",\n  \"🕷\",\n  \"🕸\",\n  \"🦂\",\n  \"💐\",\n  \"🌸\",\n  \"💮\",\n  \"🏵\",\n  \"🌹\",\n  \"🥀\",\n  \"🌺\",\n  \"🌻\",\n  \"🌼\",\n  \"🌷\",\n  \"🌱\",\n  \"🌲\",\n  \"🌳\",\n  \"🌴\",\n  \"🌵\",\n  \"🌾\",\n  \"🌿\",\n  \"☘\",\n  \"🍀\",\n  \"🍁\",\n  \"🍂\",\n  \"🍃\",\n  \"🍇\",\n  \"🍈\",\n  \"🍉\",\n  \"🍊\",\n  \"🍋\",\n  \"🍌\",\n  \"🍍\",\n  \"🍎\",\n  \"🍏\",\n  \"🍐\",\n  \"🍑\",\n  \"🍒\",\n  \"🍓\",\n  \"🥝\",\n  \"🍅\",\n  \"🥑\",\n  \"🍆\",\n  \"🥔\",\n  \"🥕\",\n  \"🌽\",\n  \"🌶\",\n  \"🥒\",\n  \"🍄\",\n  \"🥜\",\n  \"🌰\",\n  \"🍞\",\n  \"🥐\",\n  \"🥖\",\n  \"🥞\",\n  \"🧀\",\n  \"🍖\",\n  \"🍗\",\n  \"🥓\",\n  \"🍔\",\n  \"🍟\",\n  \"🍕\",\n  \"🌭\",\n  \"🌮\",\n  \"🌯\",\n  \"🥙\",\n  \"🥚\",\n  \"🍳\",\n  \"🥘\",\n  \"🍲\",\n  \"🥗\",\n  \"🍿\",\n  \"🍱\",\n  \"🍘\",\n  \"🍙\",\n  \"🍚\",\n  \"🍛\",\n  \"🍜\",\n  \"🍝\",\n  \"🍠\",\n  \"🍢\",\n  \"🍣\",\n  \"🍤\",\n  \"🍥\",\n  \"🍡\",\n  \"🍦\",\n  \"🍧\",\n  \"🍨\",\n  \"🍩\",\n  \"🍪\",\n  \"🎂\",\n  \"🍰\",\n  \"🍫\",\n  \"🍬\",\n  \"🍭\",\n  \"🍮\",\n  \"🍯\",\n  \"🍼\",\n  \"🥛\",\n  \"☕\",\n  \"🍵\",\n  \"🍶\",\n  \"🍾\",\n  \"🍷\",\n  \"🍸\",\n  \"🍹\",\n  \"🍺\",\n  \"🍻\",\n  \"🥂\",\n  \"🥃\",\n  \"🍽\",\n  \"🍴\",\n  \"🥄\",\n  \"🔪\",\n  \"🏺\",\n  \"🌍\",\n  \"🌎\",\n  \"🌏\",\n  \"🌐\",\n  \"🗺\",\n  \"🗾\",\n  \"🏔\",\n  \"⛰\",\n  \"🌋\",\n  \"🗻\",\n  \"🏕\",\n  \"🏖\",\n  \"🏜\",\n  \"🏝\",\n  \"🏞\",\n  \"🏟\",\n  \"🏛\",\n  \"🏗\",\n  \"🏘\",\n  \"🏙\",\n  \"🏚\",\n  \"🏠\",\n  \"🏡\",\n  \"🏢\",\n  \"🏣\",\n  \"🏤\",\n  \"🏥\",\n  \"🏦\",\n  \"🏨\",\n  \"🏩\",\n  \"🏪\",\n  \"🏫\",\n  \"🏬\",\n  \"🏭\",\n  \"🏯\",\n  \"🏰\",\n  \"💒\",\n  \"🗼\",\n  \"🗽\",\n  \"⛪\",\n  \"🕌\",\n  \"🕍\",\n  \"⛩\",\n  \"🕋\",\n  \"⛲\",\n  \"⛺\",\n  \"🌁\",\n  \"🌃\",\n  \"🌄\",\n  \"🌅\",\n  \"🌆\",\n  \"🌇\",\n  \"🌉\",\n  \"♨\",\n  \"🌌\",\n  \"🎠\",\n  \"🎡\",\n  \"🎢\",\n  \"💈\",\n  \"🎪\",\n  \"🎭\",\n  \"🖼\",\n  \"🎨\",\n  \"🎰\",\n  \"🚂\",\n  \"🚃\",\n  \"🚄\",\n  \"🚅\",\n  \"🚆\",\n  \"🚇\",\n  \"🚈\",\n  \"🚉\",\n  \"🚊\",\n  \"🚝\",\n  \"🚞\",\n  \"🚋\",\n  \"🚌\",\n  \"🚍\",\n  \"🚎\",\n  \"🚐\",\n  \"🚑\",\n  \"🚒\",\n  \"🚓\",\n  \"🚔\",\n  \"🚕\",\n  \"🚖\",\n  \"🚗\",\n  \"🚘\",\n  \"🚙\",\n  \"🚚\",\n  \"🚛\",\n  \"🚜\",\n  \"🚲\",\n  \"🛴\",\n  \"🛵\",\n  \"🚏\",\n  \"🛣\",\n  \"🛤\",\n  \"⛽\",\n  \"🚨\",\n  \"🚥\",\n  \"🚦\",\n  \"🚧\",\n  \"🛑\",\n  \"⚓\",\n  \"⛵\",\n  \"🛶\",\n  \"🚤\",\n  \"🛳\",\n  \"⛴\",\n  \"🛥\",\n  \"🚢\",\n  \"✈\",\n  \"🛩\",\n  \"🛫\",\n  \"🛬\",\n  \"💺\",\n  \"🚁\",\n  \"🚟\",\n  \"🚠\",\n  \"🚡\",\n  \"🚀\",\n  \"🛰\",\n  \"🛎\",\n  \"🚪\",\n  \"🛌\",\n  \"🛏\",\n  \"🛋\",\n  \"🚽\",\n  \"🚿\",\n  \"🛀\",\n  \"🛀🏻\",\n  \"🛀🏼\",\n  \"🛀🏽\",\n  \"🛀🏾\",\n  \"🛀🏿\",\n  \"🛁\",\n  \"⌛\",\n  \"⏳\",\n  \"⌚\",\n  \"⏰\",\n  \"⏱\",\n  \"⏲\",\n  \"🕰\",\n  \"🕛\",\n  \"🕧\",\n  \"🕐\",\n  \"🕜\",\n  \"🕑\",\n  \"🕝\",\n  \"🕒\",\n  \"🕞\",\n  \"🕓\",\n  \"🕟\",\n  \"🕔\",\n  \"🕠\",\n  \"🕕\",\n  \"🕡\",\n  \"🕖\",\n  \"🕢\",\n  \"🕗\",\n  \"🕣\",\n  \"🕘\",\n  \"🕤\",\n  \"🕙\",\n  \"🕥\",\n  \"🕚\",\n  \"🕦\",\n  \"🌑\",\n  \"🌒\",\n  \"🌓\",\n  \"🌔\",\n  \"🌕\",\n  \"🌖\",\n  \"🌗\",\n  \"🌘\",\n  \"🌙\",\n  \"🌚\",\n  \"🌛\",\n  \"🌜\",\n  \"🌡\",\n  \"☀\",\n  \"🌝\",\n  \"🌞\",\n  \"⭐\",\n  \"🌟\",\n  \"🌠\",\n  \"☁\",\n  \"⛅\",\n  \"⛈\",\n  \"🌤\",\n  \"🌥\",\n  \"🌦\",\n  \"🌧\",\n  \"🌨\",\n  \"🌩\",\n  \"🌪\",\n  \"🌫\",\n  \"🌬\",\n  \"🌀\",\n  \"🌈\",\n  \"🌂\",\n  \"☂\",\n  \"☔\",\n  \"⛱\",\n  \"⚡\",\n  \"❄\",\n  \"☃\",\n  \"⛄\",\n  \"☄\",\n  \"🔥\",\n  \"💧\",\n  \"🌊\",\n  \"🎃\",\n  \"🎄\",\n  \"🎆\",\n  \"🎇\",\n  \"✨\",\n  \"🎈\",\n  \"🎉\",\n  \"🎊\",\n  \"🎋\",\n  \"🎍\",\n  \"🎎\",\n  \"🎏\",\n  \"🎐\",\n  \"🎑\",\n  \"🎀\",\n  \"🎁\",\n  \"🎗\",\n  \"🎟\",\n  \"🎫\",\n  \"🎖\",\n  \"🏆\",\n  \"🏅\",\n  \"🥇\",\n  \"🥈\",\n  \"🥉\",\n  \"⚽\",\n  \"⚾\",\n  \"🏀\",\n  \"🏐\",\n  \"🏈\",\n  \"🏉\",\n  \"🎾\",\n  \"🎱\",\n  \"🎳\",\n  \"🏏\",\n  \"🏑\",\n  \"🏒\",\n  \"🏓\",\n  \"🏸\",\n  \"🥊\",\n  \"🥋\",\n  \"🥅\",\n  \"🎯\",\n  \"⛳\",\n  \"⛸\",\n  \"🎣\",\n  \"🎽\",\n  \"🎿\",\n  \"🎮\",\n  \"🕹\",\n  \"🎲\",\n  \"♠\",\n  \"♥\",\n  \"♦\",\n  \"♣\",\n  \"🃏\",\n  \"🀄\",\n  \"🎴\",\n  \"🔇\",\n  \"🔈\",\n  \"🔉\",\n  \"🔊\",\n  \"📢\",\n  \"📣\",\n  \"📯\",\n  \"🔔\",\n  \"🔕\",\n  \"🎼\",\n  \"🎵\",\n  \"🎶\",\n  \"🎙\",\n  \"🎚\",\n  \"🎛\",\n  \"🎤\",\n  \"🎧\",\n  \"📻\",\n  \"🎷\",\n  \"🎸\",\n  \"🎹\",\n  \"🎺\",\n  \"🎻\",\n  \"🥁\",\n  \"📱\",\n  \"📲\",\n  \"☎\",\n  \"📞\",\n  \"📟\",\n  \"📠\",\n  \"🔋\",\n  \"🔌\",\n  \"💻\",\n  \"🖥\",\n  \"🖨\",\n  \"⌨\",\n  \"🖱\",\n  \"🖲\",\n  \"💽\",\n  \"💾\",\n  \"💿\",\n  \"📀\",\n  \"🎥\",\n  \"🎞\",\n  \"📽\",\n  \"🎬\",\n  \"📺\",\n  \"📷\",\n  \"📸\",\n  \"📹\",\n  \"📼\",\n  \"🔍\",\n  \"🔎\",\n  \"🔬\",\n  \"🔭\",\n  \"📡\",\n  \"🕯\",\n  \"💡\",\n  \"🔦\",\n  \"🏮\",\n  \"📔\",\n  \"📕\",\n  \"📖\",\n  \"📗\",\n  \"📘\",\n  \"📙\",\n  \"📚\",\n  \"📓\",\n  \"📒\",\n  \"📃\",\n  \"📜\",\n  \"📄\",\n  \"📰\",\n  \"🗞\",\n  \"📑\",\n  \"🔖\",\n  \"🏷\",\n  \"💰\",\n  \"💴\",\n  \"💵\",\n  \"💶\",\n  \"💷\",\n  \"💸\",\n  \"💳\",\n  \"💹\",\n  \"💱\",\n  \"💲\",\n  \"✉\",\n  \"📧\",\n  \"📨\",\n  \"📩\",\n  \"📤\",\n  \"📥\",\n  \"📦\",\n  \"📫\",\n  \"📪\",\n  \"📬\",\n  \"📭\",\n  \"📮\",\n  \"🗳\",\n  \"✏\",\n  \"✒\",\n  \"🖋\",\n  \"🖊\",\n  \"🖌\",\n  \"🖍\",\n  \"📝\",\n  \"💼\",\n  \"📁\",\n  \"📂\",\n  \"🗂\",\n  \"📅\",\n  \"📆\",\n  \"🗒\",\n  \"🗓\",\n  \"📇\",\n  \"📈\",\n  \"📉\",\n  \"📊\",\n  \"📋\",\n  \"📌\",\n  \"📍\",\n  \"📎\",\n  \"🖇\",\n  \"📏\",\n  \"📐\",\n  \"✂\",\n  \"🗃\",\n  \"🗄\",\n  \"🗑\",\n  \"🔒\",\n  \"🔓\",\n  \"🔏\",\n  \"🔐\",\n  \"🔑\",\n  \"🗝\",\n  \"🔨\",\n  \"⛏\",\n  \"⚒\",\n  \"🛠\",\n  \"🗡\",\n  \"⚔\",\n  \"🔫\",\n  \"🏹\",\n  \"🛡\",\n  \"🔧\",\n  \"🔩\",\n  \"⚙\",\n  \"🗜\",\n  \"⚗\",\n  \"⚖\",\n  \"🔗\",\n  \"⛓\",\n  \"💉\",\n  \"💊\",\n  \"🚬\",\n  \"⚰\",\n  \"⚱\",\n  \"🗿\",\n  \"🛢\",\n  \"🔮\",\n  \"🛒\",\n  \"🏧\",\n  \"🚮\",\n  \"🚰\",\n  \"♿\",\n  \"🚹\",\n  \"🚺\",\n  \"🚻\",\n  \"🚼\",\n  \"🚾\",\n  \"🛂\",\n  \"🛃\",\n  \"🛄\",\n  \"🛅\",\n  \"⚠\",\n  \"🚸\",\n  \"⛔\",\n  \"🚫\",\n  \"🚳\",\n  \"🚭\",\n  \"🚯\",\n  \"🚱\",\n  \"🚷\",\n  \"📵\",\n  \"🔞\",\n  \"☢\",\n  \"☣\",\n  \"⬆\",\n  \"↗\",\n  \"➡\",\n  \"↘\",\n  \"⬇\",\n  \"↙\",\n  \"⬅\",\n  \"↖\",\n  \"↕\",\n  \"↔\",\n  \"↩\",\n  \"↪\",\n  \"⤴\",\n  \"⤵\",\n  \"🔃\",\n  \"🔄\",\n  \"🔙\",\n  \"🔚\",\n  \"🔛\",\n  \"🔜\",\n  \"🔝\",\n  \"🛐\",\n  \"⚛\",\n  \"🕉\",\n  \"✡\",\n  \"☸\",\n  \"☯\",\n  \"✝\",\n  \"☦\",\n  \"☪\",\n  \"☮\",\n  \"🕎\",\n  \"🔯\",\n  \"♈\",\n  \"♉\",\n  \"♊\",\n  \"♋\",\n  \"♌\",\n  \"♍\",\n  \"♎\",\n  \"♏\",\n  \"♐\",\n  \"♑\",\n  \"♒\",\n  \"♓\",\n  \"⛎\",\n  \"🔀\",\n  \"🔁\",\n  \"🔂\",\n  \"▶\",\n  \"⏩\",\n  \"⏭\",\n  \"⏯\",\n  \"◀\",\n  \"⏪\",\n  \"⏮\",\n  \"🔼\",\n  \"⏫\",\n  \"🔽\",\n  \"⏬\",\n  \"⏸\",\n  \"⏹\",\n  \"⏺\",\n  \"⏏\",\n  \"🎦\",\n  \"🔅\",\n  \"🔆\",\n  \"📶\",\n  \"📳\",\n  \"📴\",\n  \"♻\",\n  \"📛\",\n  \"⚜\",\n  \"🔰\",\n  \"🔱\",\n  \"⭕\",\n  \"✅\",\n  \"☑\",\n  \"✔\",\n  \"✖\",\n  \"❌\",\n  \"❎\",\n  \"➕\",\n  \"➖\",\n  \"➗\",\n  \"➰\",\n  \"➿\",\n  \"〽\",\n  \"✳\",\n  \"✴\",\n  \"❇\",\n  \"‼\",\n  \"⁉\",\n  \"❓\",\n  \"❔\",\n  \"❕\",\n  \"❗\",\n  \"〰\",\n  \"©\",\n  \"®\",\n  \"™\",\n  \"#️⃣\",\n  \"*️⃣\",\n  \"0️⃣\",\n  \"1️⃣\",\n  \"2️⃣\",\n  \"3️⃣\",\n  \"4️⃣\",\n  \"5️⃣\",\n  \"6️⃣\",\n  \"7️⃣\",\n  \"8️⃣\",\n  \"9️⃣\",\n  \"🔟\",\n  \"💯\",\n  \"🔠\",\n  \"🔡\",\n  \"🔢\",\n  \"🔣\",\n  \"🔤\",\n  \"🅰\",\n  \"🆎\",\n  \"🅱\",\n  \"🆑\",\n  \"🆒\",\n  \"🆓\",\n  \"ℹ\",\n  \"🆔\",\n  \"Ⓜ\",\n  \"🆕\",\n  \"🆖\",\n  \"🅾\",\n  \"🆗\",\n  \"🅿\",\n  \"🆘\",\n  \"🆙\",\n  \"🆚\",\n  \"🈁\",\n  \"🈂\",\n  \"🈷\",\n  \"🈶\",\n  \"🈯\",\n  \"🉐\",\n  \"🈹\",\n  \"🈚\",\n  \"🈲\",\n  \"🉑\",\n  \"🈸\",\n  \"🈴\",\n  \"🈳\",\n  \"㊗\",\n  \"㊙\",\n  \"🈺\",\n  \"🈵\",\n  \"▪\",\n  \"▫\",\n  \"◻\",\n  \"◼\",\n  \"◽\",\n  \"◾\",\n  \"⬛\",\n  \"⬜\",\n  \"🔶\",\n  \"🔷\",\n  \"🔸\",\n  \"🔹\",\n  \"🔺\",\n  \"🔻\",\n  \"💠\",\n  \"🔘\",\n  \"🔲\",\n  \"🔳\",\n  \"⚪\",\n  \"⚫\",\n  \"🔴\",\n  \"🔵\",\n  \"🏁\",\n  \"🚩\",\n  \"🎌\",\n  \"🏴\",\n  \"🏳\",\n  \"🇦🇨\",\n  \"🇦🇩\",\n  \"🇦🇪\",\n  \"🇦🇫\",\n  \"🇦🇬\",\n  \"🇦🇮\",\n  \"🇦🇱\",\n  \"🇦🇲\",\n  \"🇦🇴\",\n  \"🇦🇶\",\n  \"🇦🇷\",\n  \"🇦🇸\",\n  \"🇦🇹\",\n  \"🇦🇺\",\n  \"🇦🇼\",\n  \"🇦🇽\",\n  \"🇦🇿\",\n  \"🇧🇦\",\n  \"🇧🇧\",\n  \"🇧🇩\",\n  \"🇧🇪\",\n  \"🇧🇫\",\n  \"🇧🇬\",\n  \"🇧🇭\",\n  \"🇧🇮\",\n  \"🇧🇯\",\n  \"🇧🇱\",\n  \"🇧🇲\",\n  \"🇧🇳\",\n  \"🇧🇴\",\n  \"🇧🇶\",\n  \"🇧🇷\",\n  \"🇧🇸\",\n  \"🇧🇹\",\n  \"🇧🇻\",\n  \"🇧🇼\",\n  \"🇧🇾\",\n  \"🇧🇿\",\n  \"🇨🇦\",\n  \"🇨🇨\",\n  \"🇨🇩\",\n  \"🇨🇫\",\n  \"🇨🇬\",\n  \"🇨🇭\",\n  \"🇨🇮\",\n  \"🇨🇰\",\n  \"🇨🇱\",\n  \"🇨🇲\",\n  \"🇨🇳\",\n  \"🇨🇴\",\n  \"🇨🇵\",\n  \"🇨🇷\",\n  \"🇨🇺\",\n  \"🇨🇻\",\n  \"🇨🇼\",\n  \"🇨🇽\",\n  \"🇨🇾\",\n  \"🇨🇿\",\n  \"🇩🇪\",\n  \"🇩🇬\",\n  \"🇩🇯\",\n  \"🇩🇰\",\n  \"🇩🇲\",\n  \"🇩🇴\",\n  \"🇩🇿\",\n  \"🇪🇦\",\n  \"🇪🇨\",\n  \"🇪🇪\",\n  \"🇪🇬\",\n  \"🇪🇭\",\n  \"🇪🇷\",\n  \"🇪🇸\",\n  \"🇪🇹\",\n  \"🇪🇺\",\n  \"🇫🇮\",\n  \"🇫🇯\",\n  \"🇫🇰\",\n  \"🇫🇲\",\n  \"🇫🇴\",\n  \"🇫🇷\",\n  \"🇬🇦\",\n  \"🇬🇧\",\n  \"🇬🇩\",\n  \"🇬🇪\",\n  \"🇬🇫\",\n  \"🇬🇬\",\n  \"🇬🇭\",\n  \"🇬🇮\",\n  \"🇬🇱\",\n  \"🇬🇲\",\n  \"🇬🇳\",\n  \"🇬🇵\",\n  \"🇬🇶\",\n  \"🇬🇷\",\n  \"🇬🇸\",\n  \"🇬🇹\",\n  \"🇬🇺\",\n  \"🇬🇼\",\n  \"🇬🇾\",\n  \"🇭🇰\",\n  \"🇭🇲\",\n  \"🇭🇳\",\n  \"🇭🇷\",\n  \"🇭🇹\",\n  \"🇭🇺\",\n  \"🇮🇨\",\n  \"🇮🇩\",\n  \"🇮🇪\",\n  \"🇮🇱\",\n  \"🇮🇲\",\n  \"🇮🇳\",\n  \"🇮🇴\",\n  \"🇮🇶\",\n  \"🇮🇷\",\n  \"🇮🇸\",\n  \"🇮🇹\",\n  \"🇯🇪\",\n  \"🇯🇲\",\n  \"🇯🇴\",\n  \"🇯🇵\",\n  \"🇰🇪\",\n  \"🇰🇬\",\n  \"🇰🇭\",\n  \"🇰🇮\",\n  \"🇰🇲\",\n  \"🇰🇳\",\n  \"🇰🇵\",\n  \"🇰🇷\",\n  \"🇰🇼\",\n  \"🇰🇾\",\n  \"🇰🇿\",\n  \"🇱🇦\",\n  \"🇱🇧\",\n  \"🇱🇨\",\n  \"🇱🇮\",\n  \"🇱🇰\",\n  \"🇱🇷\",\n  \"🇱🇸\",\n  \"🇱🇹\",\n  \"🇱🇺\",\n  \"🇱🇻\",\n  \"🇱🇾\",\n  \"🇲🇦\",\n  \"🇲🇨\",\n  \"🇲🇩\",\n  \"🇲🇪\",\n  \"🇲🇫\",\n  \"🇲🇬\",\n  \"🇲🇭\",\n  \"🇲🇰\",\n  \"🇲🇱\",\n  \"🇲🇲\",\n  \"🇲🇳\",\n  \"🇲🇴\",\n  \"🇲🇵\",\n  \"🇲🇶\",\n  \"🇲🇷\",\n  \"🇲🇸\",\n  \"🇲🇹\",\n  \"🇲🇺\",\n  \"🇲🇻\",\n  \"🇲🇼\",\n  \"🇲🇽\",\n  \"🇲🇾\",\n  \"🇲🇿\",\n  \"🇳🇦\",\n  \"🇳🇨\",\n  \"🇳🇪\",\n  \"🇳🇫\",\n  \"🇳🇬\",\n  \"🇳🇮\",\n  \"🇳🇱\",\n  \"🇳🇴\",\n  \"🇳🇵\",\n  \"🇳🇷\",\n  \"🇳🇺\",\n  \"🇳🇿\",\n  \"🇴🇲\",\n  \"🇵🇦\",\n  \"🇵🇪\",\n  \"🇵🇫\",\n  \"🇵🇬\",\n  \"🇵🇭\",\n  \"🇵🇰\",\n  \"🇵🇱\",\n  \"🇵🇲\",\n  \"🇵🇳\",\n  \"🇵🇷\",\n  \"🇵🇸\",\n  \"🇵🇹\",\n  \"🇵🇼\",\n  \"🇵🇾\",\n  \"🇶🇦\",\n  \"🇷🇪\",\n  \"🇷🇴\",\n  \"🇷🇸\",\n  \"🇷🇺\",\n  \"🇷🇼\",\n  \"🇸🇦\",\n  \"🇸🇧\",\n  \"🇸🇨\",\n  \"🇸🇩\",\n  \"🇸🇪\",\n  \"🇸🇬\",\n  \"🇸🇭\",\n  \"🇸🇮\",\n  \"🇸🇯\",\n  \"🇸🇰\",\n  \"🇸🇱\",\n  \"🇸🇲\",\n  \"🇸🇳\",\n  \"🇸🇴\",\n  \"🇸🇷\",\n  \"🇸🇸\",\n  \"🇸🇹\",\n  \"🇸🇻\",\n  \"🇸🇽\",\n  \"🇸🇾\",\n  \"🇸🇿\",\n  \"🇹🇦\",\n  \"🇹🇨\",\n  \"🇹🇩\",\n  \"🇹🇫\",\n  \"🇹🇬\",\n  \"🇹🇭\",\n  \"🇹🇯\",\n  \"🇹🇰\",\n  \"🇹🇱\",\n  \"🇹🇲\",\n  \"🇹🇳\",\n  \"🇹🇴\",\n  \"🇹🇷\",\n  \"🇹🇹\",\n  \"🇹🇻\",\n  \"🇹🇼\",\n  \"🇹🇿\",\n  \"🇺🇦\",\n  \"🇺🇬\",\n  \"🇺🇲\",\n  \"🇺🇸\",\n  \"🇺🇾\",\n  \"🇺🇿\",\n  \"🇻🇦\",\n  \"🇻🇨\",\n  \"🇻🇪\",\n  \"🇻🇬\",\n  \"🇻🇮\",\n  \"🇻🇳\",\n  \"🇻🇺\",\n  \"🇼🇫\",\n  \"🇼🇸\",\n  \"🇽🇰\",\n  \"🇾🇪\",\n  \"🇾🇹\",\n  \"🇿🇦\",\n  \"🇿🇲\",\n  \"🇿🇼\",\n];\nexport default emoji;\n","async function notify(title: string, message: string, onclick: () => void) {\n  const resp = await (\n    await fetch(`notify://app/?${new URLSearchParams({ title, message })}`)\n  ).text();\n  if (resp === \"click\") {\n    onclick();\n  }\n}\n\nexport default notify;\n","import {\n  faDev,\n  faDiscord,\n  faNodeJs,\n  faPython,\n  faRocketchat,\n  faSuperpowers,\n  faTwitch,\n  faYoutube,\n} from \"@fortawesome/free-brands-svg-icons\";\nimport {\n  faRocket,\n  faUserAstronaut,\n  faUserTie,\n  faBrain,\n  IconDefinition,\n  faCheck,\n  faBug,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { useMemo } from \"react\";\n\nconst badgestype: {\n  name: string;\n  desc: string;\n  icon: IconDefinition;\n  color: string;\n  link?: string;\n}[] = [\n  {\n    name: \"Beta Tester\",\n    desc: \"Beta Tester\",\n    icon: faRocketchat,\n    color: \"#6495ed\",\n  },\n  {\n    name: \"Blast\",\n    desc: \"WOW, thats a Blast Member!\",\n    icon: faRocket,\n    color: \"#5656ff\",\n    link: \"/blast\",\n  },\n  {\n    name: \"brain\",\n    desc: \"This is given to a big brain person, who gave a big brain idea!\",\n    icon: faBrain,\n    color: \"#ff7676\",\n  },\n  {\n    name: \"bug\",\n    desc: \"Bug Catcher!\",\n    icon: faBug,\n    color: \"#9c00a7\",\n  },\n  {\n    name: \"discord\",\n    desc: \"Discord\",\n    icon: faDiscord,\n    color: \"#5865f2\",\n    link: \"/invite\",\n  },\n  { name: \"youtube\", desc: \"Youtube\", icon: faYoutube, color: \"#FF0000\" },\n  { name: \"twitch\", desc: \"Twitch\", icon: faTwitch, color: \"#6441a5\" },\n  {\n    name: \"python\",\n    desc: \"Python\",\n    icon: faPython,\n    color: \"linear-gradient(135deg, #008cff, #ffcc00)\",\n    link: \"https://www.python.org/\",\n  },\n  {\n    name: \"nodejs\",\n    desc: \"Node.js\",\n    icon: faNodeJs,\n    color: \"#71a752\",\n    link: \"https://nodejs.org/\",\n  },\n  {\n    name: \"new\",\n    desc: \"A new user, say hi!\",\n    icon: faUserAstronaut,\n    color: \"#fbb03b\",\n  },\n  {\n    name: \"verified\",\n    desc: \"Verified\",\n    icon: faCheck,\n    color: \"#1e90ff\",\n  },\n  { name: \"admin\", desc: \"WOW, an admin!\", icon: faUserTie, color: \"#ee3840\" },\n  {\n    name: \"dev\",\n    desc: \"WOW! A developer!\",\n    icon: faDev,\n    color: \"#23c18b\",\n  },\n  {\n    name: \"ceo\",\n    desc: \"OMG. OMG. OMG. It's the CEO!\",\n    icon: faSuperpowers,\n    color: \"#e88158\",\n  },\n].reverse();\n\nfunction Badge({\n  badges,\n  side,\n  size,\n}: {\n  badges: { name: string; link?: string }[];\n  side?: string;\n  size?: string | number;\n}) {\n  const badgerender = useMemo(() => {\n    const output = [];\n    if (badges) {\n      for (const badgetype of badgestype) {\n        for (const badge of badges) {\n          if (badge.name === badgetype.name) {\n            output.push(\n              <abbr\n                key={badgetype.name}\n                title={badgetype.desc}\n                style={{\n                  background: badgetype.color,\n                  borderRadius: \"5px\",\n                  margin: \"2px\",\n                  padding: \"0px 3px\",\n                  height: size ? size : \"30px\",\n                  width: size ? size : \"30px\",\n                  cursor: badge.link || badgetype.link ? \"pointer\" : undefined,\n                }}\n                onClick={() =>\n                  badge.link\n                    ? window.open(badge.link, \"blank_\")\n                    : badgetype.link\n                    ? window.open(badgetype.link, \"blank_\")\n                    : undefined\n                }\n              >\n                <FontAwesomeIcon\n                  icon={badgetype.icon}\n                  style={{ width: \"100%\", height: \"100%\" }}\n                />\n              </abbr>\n            );\n            break;\n          }\n        }\n      }\n    }\n    return output;\n  }, [badges, size]);\n  return badgerender.length > 0 ? (\n    <div\n      style={{\n        display: \"flex\",\n        flexWrap: \"wrap\",\n        justifyContent: side ? side : \"center\",\n      }}\n    >\n      {badgerender}\n    </div>\n  ) : (\n    <></>\n  );\n}\n\nexport default Badge;\n","export default __webpack_public_path__ + \"static/media/gift.a69e6e15.svg\";","import { useEffect, useState } from \"react\";\n\nfunction useWindowVisable() {\n    const [visable, setvisable] = useState(!document.hidden)\n    useEffect(() => {\n        document.addEventListener(\"visibilitychange\", function () { setvisable(!document.hidden) })\n    }, [])\n    return visable\n}\nexport default useWindowVisable","/* eslint-disable no-useless-escape */\nimport {\n  faCommentSlash,\n  faCopy,\n  faDesktop,\n  faEyeSlash,\n  faFile,\n  faGift,\n  faMobileAlt,\n  faPaperPlane,\n  faPencilAlt,\n  faPlus,\n  faSadCry,\n  faTimes,\n  faTrash,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faMinusCircle, faPlusCircle } from \"@fortawesome/free-solid-svg-icons\";\nimport React, {\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n  createContext,\n  useContext,\n} from \"react\";\nimport {\n  Link,\n  Redirect,\n  useHistory,\n  useLocation,\n  useParams,\n} from \"react-router-dom\";\nimport \"./css/message.css\";\nimport { useData } from \"../hooks/datahook\";\nimport Loader from \"./loader\";\nimport useWebSocket, { ReadyState } from \"react-use-websocket\";\nimport KeyboardEventHandler from \"react-keyboard-event-handler\";\nimport TextareaAutosize from \"react-textarea-autosize\";\nimport SyntaxHighlighter from \"react-syntax-highlighter\";\nimport playSound from \"../playsound\";\nimport useLocalStorage from \"../hooks/useLocalStorage\";\nimport emoji from \"../emojis\";\nimport useWindowSize from \"../hooks/usescreensize\";\nimport isElectron from \"is-electron\";\nimport notify from \"../notifier\";\nimport Linkify from \"react-linkify\";\nimport ReactPlayer from \"react-player/lazy\";\nimport useApi from \"../hooks/useapi\";\nimport { ContextMenu, MenuItem, ContextMenuTrigger } from \"react-contextmenu\";\nimport Badge from \"./badges\";\nimport ReactModal from \"react-modal\";\nimport GiftIcon from \"./images/gift.svg\";\nimport ReactGA from \"react-ga4\";\nimport useWindowVisable from \"../hooks/useWindowVisable\";\n\nfunction isMobileDevice() {\n  var check = false;\n  (function (a) {\n    if (\n      /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(\n        a\n      ) ||\n      /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(\n        a.substr(0, 4)\n      )\n    )\n      check = true;\n  })(navigator.userAgent || navigator.vendor || (window as any).opera);\n  return check;\n}\n\nconst chatSettings = createContext({ isGroupChat: false, time: 0 });\nconst usersContext = createContext<{\n  exists: boolean;\n  users: { [key: string]: any };\n}>({ exists: false, users: {} });\n\nfunction onlyContainsEmojis(str: string) {\n  const ranges = emoji.join(\"|\");\n\n  const removeEmoji = (str: string) =>\n    str.replace(new RegExp(\"[\" + ranges + \"]\", \"g\"), \"\");\n\n  return !removeEmoji(str).length;\n}\n\nconst truncate = (input: string, limit: number) =>\n  input.length > limit ? `${input.substring(0, limit)}...` : input;\n\nfunction random(seed: number) {\n  var x = Math.sin(seed) * 10000;\n  return x - Math.floor(x);\n}\nfunction numToSSColumn(num: number) {\n  let s = \"\",\n    t;\n\n  while (num > 0) {\n    t = (num - 1) % 26;\n    s = String.fromCharCode(66 + t) + s;\n    num = ((num - t) / 26) | 0;\n  }\n  return s || undefined;\n}\n\ninterface messageTypes {\n  ID?: string;\n  tempid?: number;\n  time: number;\n  from: string;\n  edited: boolean;\n}\n\ninterface messageWithText extends messageTypes {\n  gift: undefined;\n  amount: undefined;\n  message: string;\n  file: undefined;\n  mimetype: undefined;\n}\ninterface messageWithFile extends messageTypes {\n  gift: undefined;\n  amount: undefined;\n  file: string;\n  message: undefined;\n  mimetype: string;\n}\n\ninterface giftMessage extends messageTypes {\n  gift: true;\n  amount: number;\n  from: string;\n  message: string;\n  file: undefined;\n  mimetype: undefined;\n  time: number;\n}\n\nconst videoSites = [\n  \"youtube.com\",\n  \"www.youtube.com\",\n  \"twitch.tv\",\n  \"www.twitch.tv\",\n  \"youtu.be\",\n  \"soundcloud.com\",\n  \"www.soundcloud.com\",\n  \"dailymotion.com\",\n  \"www.dailymotion.com\",\n  \"facebook.com\",\n  \"www.facebook.com\",\n  \"vimeo.com\",\n  \"www.vimeo.com\",\n];\n\nfunction MetaPage({\n  url,\n  decoratedText,\n  decoratedHref,\n  mine,\n}: {\n  url: string;\n  decoratedText: string;\n  decoratedHref: string;\n  mine: boolean;\n}) {\n  const urldata = new URL(decoratedHref, \"http://.\");\n  const { data } = useApi<{\n    url: string;\n    canonical: string;\n    title: string;\n    image: string;\n    author: string;\n    description: string;\n    keywords: string;\n    source: string;\n    price: string;\n    priceCurrency: string;\n    availability: string;\n    robots: string;\n    \"og:url\": string;\n    \"og:locale\": string;\n    \"og:locale:alternate\": string;\n    \"og:title\": string;\n    \"og:type\": string;\n    \"og:description\": string;\n    \"og:determiner\": string;\n    \"og:site_name\": string;\n    \"og:image\": string;\n    \"og:image:secure_url\": string;\n    \"og:image:type\": string;\n    \"og:image:width\": string;\n    \"og:image:height\": string;\n    \"twitter:title\": string;\n    \"twitter:image\": string;\n    \"twitter:image:alt\": string;\n    \"twitter:card\": string;\n    \"twitter:site\": string;\n    \"twitter:site:id\": string;\n    \"twitter:account_id\": string;\n    \"twitter:creator\": string;\n    \"twitter:creator:id\": string;\n    \"twitter:player\": string;\n    \"twitter:player:width\": string;\n    \"twitter:player:height\": string;\n    \"twitter:player:stream\": string;\n    jsonld: {};\n  }>(\"/api/getmetadata?\" + new URLSearchParams({ url: urldata.href }));\n  return data ? (\n    <div\n      style={{\n        padding: \"1rem\",\n        border: `solid 1px ${mine ? \"var(--main-bg-colour)\" : \"#d0d0d0\"}`,\n        backgroundColor: mine ? \"var(--main-bg-colour)\" : \"#dadada\",\n        borderRadius: \"10px\",\n        maxWidth: \"350px\",\n        margin: \"auto\",\n      }}\n    >\n      <a\n        href={decoratedHref}\n        target=\"blank\"\n        style={{\n          fontSize: \"24px\",\n        }}\n      >\n        <img\n          alt={urldata.hostname}\n          style={{\n            marginRight: \"5px\",\n            aspectRatio: \"1/1\",\n            height: \"100%\",\n            minHeight: \"24px\",\n          }}\n          src={`https://www.google.com/s2/favicons?${new URLSearchParams({\n            size: \"24\",\n            domain: urldata.hostname,\n          })}`}\n        />\n        {data.title ? data.title : decoratedText}\n      </a>\n      <p>{data.description}</p>\n      {data.image.length > 0 ? (\n        <img\n          src={new URL(data.image, url).href}\n          style={{ width: \"100%\", borderRadius: \"10px\" }}\n          alt={data.title ? data.title : decoratedText}\n        ></img>\n      ) : (\n        <></>\n      )}\n    </div>\n  ) : (\n    <div\n      style={{\n        padding: \"1rem\",\n        border: `solid 1px ${mine ? \"var(--main-bg-colour)\" : \"#d0d0d0\"}`,\n        backgroundColor: mine ? \"var(--main-bg-colour)\" : \"#dadada\",\n        borderRadius: \"10px\",\n        margin: \"5px\",\n      }}\n    >\n      <a\n        href={decoratedHref}\n        target=\"blank\"\n        style={{\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          margin: 0,\n        }}\n      >\n        <img\n          alt={urldata.hostname}\n          style={{\n            marginRight: \"5px\",\n            aspectRatio: \"1/1\",\n            height: \"100%\",\n            minHeight: \"24px\",\n          }}\n          src={`https://www.google.com/s2/favicons?${new URLSearchParams({\n            size: \"24\",\n            domain: urldata.hostname,\n          })}`}\n        />\n        <p style={{ maxWidth: \"90%\" }}>{decoratedText}</p>\n      </a>\n    </div>\n  );\n}\n\nfunction MessageFaviconOrVideoRenderer({\n  links,\n  mine,\n}: {\n  links: {\n    decoratedHref: string;\n    decoratedText: string;\n    key: number;\n  }[];\n  mine: boolean;\n}) {\n  return (\n    <>\n      {links.map(\n        ({\n          decoratedHref,\n          decoratedText,\n          key,\n        }: {\n          decoratedHref: string;\n          decoratedText: string;\n          key: number;\n        }) => {\n          try {\n            const url = new URL(decoratedHref, \"http://.\");\n            return (\n              <React.Fragment key={key}>\n                {videoSites.includes(url.hostname) ? (\n                  <ReactPlayer\n                    url={decoratedHref}\n                    width=\"100%\"\n                    height=\"100%\"\n                    controls={true}\n                    style={{ aspectRatio: \"16/9\" }}\n                  />\n                ) : (\n                  <MetaPage\n                    url={decoratedHref}\n                    decoratedText={decoratedText}\n                    decoratedHref={decoratedHref}\n                    mine={mine}\n                  ></MetaPage>\n                )}\n              </React.Fragment>\n            );\n          } catch {\n            return <></>;\n          }\n        }\n      )}\n    </>\n  );\n}\n\nfunction Message({\n  messages,\n  i,\n  toscroll,\n  scrolltobottom,\n  user,\n  sendJsonMessage,\n  deleteFromID,\n  editFromID,\n}: {\n  messages: Array<messageWithText | messageWithFile | giftMessage>;\n  i: number;\n  toscroll: any;\n  user: any;\n  scrolltobottom: Function;\n  deleteFromID: Function;\n  editFromID: Function;\n  sendJsonMessage: Function;\n}) {\n  const message = messages[i].message;\n  const messagecharlist = message ? Array.from(message) : undefined;\n  const [editing, setediting] = useState(false);\n  const [fullyopened, setfullyopened] = useState(false);\n  const file = messages[i].file;\n  const mimetype = messages[i].mimetype;\n  const onlyemojis = message\n    ? Array.from(message).length > 3 || !onlyContainsEmojis(message)\n    : false;\n  const links: {\n    decoratedHref: string;\n    decoratedText: string;\n    key: number;\n  }[] = [];\n  const donekeys: number[] = [];\n  const history = useHistory();\n  const shiftkey = useRef(false);\n  const key = useRef(null);\n  const submitref = useRef<any>();\n  const longmessage = messagecharlist && messagecharlist.length > 500;\n  const messageref = useRef(message);\n  return !messages[i].gift ? (\n    <>\n      <ContextMenuTrigger\n        id={String(messages[i].ID ? messages[i].ID : messages[i].tempid)}\n      >\n        <div\n          data-private\n          style={{ opacity: !messages[i].ID ? 0.5 : undefined }}\n          className={\n            onlyemojis || file\n              ? `message message-${\n                  messages[i].from === user.id ? \"mine\" : \"yours\"\n                } ${\n                  !messages[i + 1] ||\n                  messages[i + 1].from !== messages[i].from ||\n                  (messages[i + 1] &&\n                    messages[i + 1].time - messages[i].time > 300000)\n                    ? `last-${messages[i].from === user.id ? \"mine\" : \"yours\"}`\n                    : \"\"\n                }`\n              : `emojimessage-${\n                  messages[i].from === user.id ? \"mine\" : \"yours\"\n                }`\n          }\n        >\n          {message ? (\n            editing ? (\n              <>\n                <form\n                  onSubmit={(e: any) => {\n                    e.preventDefault();\n                    setediting(false);\n                    const tempmessage = messageref.current;\n                    if (tempmessage === \"\") {\n                      sendJsonMessage({ type: \"delete\", id: messages[i].ID });\n                      deleteFromID(messages[i].ID);\n                    } else if (message !== tempmessage) {\n                      sendJsonMessage({\n                        type: \"edit\",\n                        id: messages[i].ID,\n                        message: tempmessage,\n                      });\n                      editFromID(messages[i].ID, tempmessage);\n                    }\n                  }}\n                >\n                  <TextareaAutosize\n                    onInput={(e: any) => {\n                      if (key.current === 13 && !shiftkey.current) {\n                        submitref.current.click();\n                      } else {\n                        const message = e.target.value.trim();\n                        messageref.current = message;\n                      }\n                      const messagetoarray: string[] = Array.from(message);\n                      e.target.value = Array.from(e.target.value)\n                        .slice(0, 3000)\n                        .join(\"\");\n                      if (messagetoarray.length <= 3000) {\n                        e.target.value = Array.from(e.target.value)\n                          .slice(0, 3000)\n                          .join(\"\");\n                      }\n                    }}\n                    onKeyDown={(e: any) => {\n                      key.current = e.keyCode;\n                      shiftkey.current = e.shiftKey;\n                    }}\n                    autoFocus\n                    style={{\n                      backgroundColor: \"var(--dark-bg-colour)\",\n                      padding: \"5px\",\n                      borderRadius: \"20px\",\n                      border: \"solid 1px var(--light-bg-colour)\",\n                      color: \"white\",\n                      resize: \"none\",\n                      width: \"100%\",\n                    }}\n                    maxRows={10}\n                    placeholder=\"Type Something...\"\n                    defaultValue={message}\n                  />\n                  <input\n                    type=\"submit\"\n                    ref={submitref}\n                    style={{ display: \"none\" }}\n                  ></input>\n                </form>\n              </>\n            ) : (\n              <>\n                <p>\n                  {onlyemojis ? (\n                    (longmessage && messagecharlist && !fullyopened\n                      ? messagecharlist.slice(0, 500).join(\"\")\n                      : message\n                    )\n                      .split(\"```\")\n                      .map((value: string, index: number) =>\n                        index % 2 === 0 ? (\n                          <React.Fragment key={index}>\n                            <Linkify\n                              componentDecorator={(\n                                decoratedHref,\n                                decoratedText,\n                                key\n                              ) => {\n                                if (!donekeys.includes(key)) {\n                                  links.push({\n                                    decoratedHref,\n                                    decoratedText,\n                                    key,\n                                  });\n                                  donekeys.push(key);\n                                }\n                                return (\n                                  <a\n                                    target=\"blank\"\n                                    href={decoratedHref}\n                                    key={key}\n                                  >\n                                    {decoratedText}\n                                  </a>\n                                );\n                              }}\n                            >\n                              {value.trim()}\n                            </Linkify>\n                          </React.Fragment>\n                        ) : (\n                          <SyntaxHighlighter key={index}>\n                            {value.trim()}\n                          </SyntaxHighlighter>\n                        )\n                      )\n                  ) : (\n                    <h1 className=\"emojimessage\">{message}</h1>\n                  )}\n                </p>\n                {longmessage && !fullyopened ? \"...\" : \"\"}\n                {!longmessage || fullyopened ? (\n                  <MessageFaviconOrVideoRenderer\n                    links={links}\n                    mine={messages[i].from === user.id}\n                  ></MessageFaviconOrVideoRenderer>\n                ) : (\n                  <></>\n                )}\n                {longmessage ? (\n                  <p\n                    onClick={() => setfullyopened(!fullyopened)}\n                    style={{\n                      color:\n                        messages[i].from === user.id ? \"lightgray\" : \"gray\",\n                      fontSize: \"12px\",\n                    }}\n                  >\n                    show {fullyopened ? \"less\" : \"more\"}\n                  </p>\n                ) : (\n                  <></>\n                )}\n                {messages[i].edited ? (\n                  <p\n                    style={{\n                      color:\n                        messages[i].from === user.id ? \"lightgray\" : \"gray\",\n                      fontSize: \"10px\",\n                      float: \"right\",\n                    }}\n                  >\n                    edited\n                  </p>\n                ) : (\n                  <></>\n                )}\n              </>\n            )\n          ) : file ? (\n            <div>\n              {mimetype ? (\n                mimetype.split(\"/\")[0] === \"image\" ? (\n                  <img\n                    alt={file}\n                    src={`/files/${file}`}\n                    style={{\n                      maxWidth: \"100%\",\n                      maxHeight: \"300px\",\n                      borderRadius: \"20px\",\n                    }}\n                    loading=\"lazy\"\n                    onLoad={() => {\n                      if (toscroll.current) {\n                        scrolltobottom();\n                      }\n                    }}\n                  ></img>\n                ) : mimetype.split(\"/\")[0] === \"video\" ? (\n                  <video\n                    src={`/files/${file}`}\n                    style={{ width: \"100%\", maxHeight: \"300px\" }}\n                    controls\n                    playsInline\n                    onLoad={() => {\n                      if (toscroll.current) {\n                        scrolltobottom();\n                      }\n                    }}\n                  ></video>\n                ) : mimetype.split(\"/\")[0] === \"audio\" ? (\n                  <audio\n                    src={`/files/${file}`}\n                    style={{ width: \"100%\", maxHeight: \"300px\" }}\n                    controls\n                    playsInline\n                    onLoad={() => {\n                      if (toscroll.current) {\n                        scrolltobottom();\n                      }\n                    }}\n                  ></audio>\n                ) : (\n                  <div\n                    onClick={() => {\n                      window.open(\n                        `/files/${file}`,\n                        file,\n                        \"width=600,height=400\"\n                      );\n                    }}\n                    style={{\n                      color: \"var(--secondary-text-colour)\",\n                      cursor: \"pointer\",\n                    }}\n                  >\n                    <FontAwesomeIcon icon={faFile}></FontAwesomeIcon> File\n                  </div>\n                )\n              ) : (\n                <div\n                  onClick={() => {\n                    window.open(`/files/${file}`, file, \"width=600,height=400\");\n                  }}\n                  style={{\n                    color: \"var(--secondary-text-colour)\",\n                    cursor: \"pointer\",\n                  }}\n                >\n                  <FontAwesomeIcon icon={faFile}></FontAwesomeIcon> File\n                </div>\n              )}\n            </div>\n          ) : (\n            <></>\n          )}\n        </div>\n      </ContextMenuTrigger>\n\n      <ContextMenu\n        id={String(messages[i].ID ? messages[i].ID : messages[i].tempid)}\n      >\n        <p style={{ textAlign: \"center\" }}>\n          {new Date(messages[i].time).toLocaleString()}\n        </p>\n        <MenuItem\n          onClick={() => {\n            navigator.clipboard.writeText(\n              message\n                ? message\n                : `${window.location.protocol}://${\n                    !process.env.NODE_ENV ||\n                    process.env.NODE_ENV === \"development\"\n                      ? window.location.hostname + \":5000\"\n                      : window.location.host\n                  }/files/${file}`\n            );\n          }}\n        >\n          <span>\n            <FontAwesomeIcon icon={faCopy} /> Copy\n          </span>\n        </MenuItem>\n        {messages[i].from === user.id && messages[i].ID ? (\n          <>\n            <MenuItem\n              onClick={() => {\n                sendJsonMessage({ type: \"delete\", id: messages[i].ID });\n                deleteFromID(messages[i].ID);\n              }}\n            >\n              <span>\n                <FontAwesomeIcon icon={faTrash} /> Delete\n              </span>\n            </MenuItem>\n            {message ? (\n              <MenuItem\n                onClick={() => {\n                  setediting(!editing);\n                }}\n              >\n                <span>\n                  {editing ? (\n                    <>\n                      <FontAwesomeIcon icon={faTimes} /> Cancel Edit\n                    </>\n                  ) : (\n                    <>\n                      <FontAwesomeIcon icon={faPencilAlt} /> Edit\n                    </>\n                  )}\n                </span>\n              </MenuItem>\n            ) : (\n              <></>\n            )}\n          </>\n        ) : (\n          <></>\n        )}\n        {longmessage ? (\n          <MenuItem\n            onClick={() => {\n              setfullyopened(!fullyopened);\n            }}\n          >\n            <span>\n              <FontAwesomeIcon\n                icon={fullyopened ? faMinusCircle : faPlusCircle}\n              />{\" \"}\n              Show {fullyopened ? \"less\" : \"more\"}\n            </span>\n          </MenuItem>\n        ) : (\n          <></>\n        )}\n      </ContextMenu>\n    </>\n  ) : (\n    <>\n      <div\n        style={{\n          opacity: !messages[i].ID ? 0.5 : undefined,\n          textAlign: \"center\",\n        }}\n        className={`message message-${\n          messages[i].from === user.id ? \"mine\" : \"yours\"\n        } ${\n          !messages[i + 1] ||\n          messages[i + 1].from !== messages[i].from ||\n          (messages[i + 1] && messages[i + 1].time - messages[i].time > 300000)\n            ? `last-${messages[i].from === user.id ? \"mine\" : \"yours\"}`\n            : \"\"\n        }`}\n      >\n        <h1>GIFT</h1>\n        <div\n          style={{\n            width: \"100%\",\n            height: \"1px\",\n            backgroundColor:\n              messages[i].from === user.id\n                ? \"var(--light-bg-colour)\"\n                : \"#dadada\",\n            marginBottom: \"1rem\",\n          }}\n        ></div>\n        <h4>Here is a gift of {messages[i].amount} Rocket Fuel</h4>\n        {message ? <p data-private>Message: {message.trim()}</p> : <></>}\n        <img\n          src={GiftIcon}\n          alt=\"🎁\"\n          style={{\n            padding: \"1rem\",\n            margin: \"1rem 0\",\n            backgroundColor:\n              messages[i].from === user.id\n                ? \"var(--light-bg-colour)\"\n                : \"#dadada\",\n            borderRadius: \"10px\",\n            display: \"block\",\n            width: \"100%\",\n            cursor: messages[i].from === user.id ? \"not-allowed\" : \"pointer\",\n          }}\n          onClick={\n            messages[i].from !== user.id\n              ? () => history.push(\"/blast\")\n              : undefined\n          }\n        ></img>\n        <b>Click the present to check your Rocket Fuel Balance!</b>\n      </div>\n    </>\n  );\n}\n\nfunction MessageMaker({\n  messages,\n  typingdata,\n  scrollref,\n  toscroll,\n  canloadmore,\n  loadingmore,\n  loadmore,\n  chatUpdateID,\n  scrolltobottom,\n  deleteFromID,\n  editFromID,\n  sendJsonMessage,\n}: {\n  messages: Array<messageWithText | messageWithFile | giftMessage>;\n  typingdata: {\n    typing: Boolean;\n    length: Number;\n    specialchars: { [key: number]: any };\n  };\n  scrollref: React.RefObject<any>;\n  toscroll: any;\n  canloadmore: boolean;\n  loadingmore: boolean;\n  loadmore: Function;\n  chatUpdateID: number | null;\n  scrolltobottom: Function;\n  deleteFromID: Function;\n  editFromID: Function;\n  sendJsonMessage: Function;\n}) {\n  const { user } = useData();\n  const { users } = useContext(usersContext);\n  const output = useMemo(() => {\n    console.time(\"chatrender\");\n    const output = [];\n    let lastmessage: messageWithText | messageWithFile | giftMessage | null =\n      null;\n    for (let i = 0; i < messages.length; i++) {\n      if (\n        (!lastmessage && !canloadmore) ||\n        (lastmessage && messages[i].time - lastmessage.time > 300000)\n      ) {\n        output.push(\n          <p\n            key={messages[i].time}\n            style={{\n              margin: \"0\",\n              color: `lightgray`,\n              fontSize: \"10px\",\n              textAlign: \"center\",\n            }}\n          >\n            {new Date(messages[i].time).toLocaleString()}\n          </p>\n        );\n      }\n      if (!lastmessage || messages[i].from !== lastmessage.from) {\n        output.push(\n          messages[i].from === user.id || users[messages[i].from] ? (\n            <div\n              data-private\n              key={messages[i].ID + \"topname\"}\n              style={{\n                alignSelf:\n                  messages[i].from === user.id ? \"flex-end\" : \"flex-start\",\n              }}\n            >\n              {messages[i].from === user.id ? (\n                <span style={{ marginRight: \"5px\" }}>{user.username}</span>\n              ) : (\n                <></>\n              )}\n              <img\n                src={`/files/${\n                  messages[i].from === user.id\n                    ? user.profilePic\n                    : users[messages[i].from].profilePic\n                }`}\n                style={{\n                  width: \"25px\",\n                  height: \"25px\",\n                  margin: \"3px\",\n                  borderRadius: \"50%\",\n                }}\n                alt=\"\"\n              />\n              {users[messages[i].from] ? (\n                <span style={{ marginLeft: \"5px\" }}>\n                  {users[messages[i].from].username}\n                </span>\n              ) : (\n                <></>\n              )}\n            </div>\n          ) : (\n            <></>\n          )\n        );\n      }\n      output.push(\n        <Message\n          key={messages[i].ID ? messages[i].ID : messages[i].tempid}\n          messages={messages}\n          deleteFromID={deleteFromID}\n          i={i}\n          user={user}\n          toscroll={toscroll}\n          scrolltobottom={scrolltobottom}\n          sendJsonMessage={sendJsonMessage}\n          editFromID={editFromID}\n        ></Message>\n      );\n      lastmessage = messages[i];\n    }\n    console.timeEnd(\"chatrender\");\n    return output;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [messages, canloadmore, loadingmore, chatUpdateID]);\n  const { id: chattingto } = useParams<{ id: string }>();\n  const location = useLocation();\n  const faketext = useMemo(() => {\n    let output = [];\n    for (let i = 0; i <= typingdata.length; i++) {\n      output.push(\n        typingdata.specialchars && i - 1 in typingdata.specialchars\n          ? typingdata.specialchars[i - 1]\n          : numToSSColumn(random(i) * 26)\n      );\n    }\n    return output.join(\"\").toLowerCase();\n  }, [typingdata]);\n  // const [isMessageMenuOpen, setIsMessageMenuOpen] = useState(false);\n  window.onscroll = () => {\n    if (location.pathname === `/chat/${chattingto}`) {\n      toscroll.current =\n        document.documentElement.scrollHeight -\n          document.documentElement.scrollTop -\n          document.documentElement.clientHeight <=\n        200;\n      if (canloadmore) {\n        if (document.documentElement.scrollTop < 10) {\n          loadmore(messages);\n        }\n      }\n    }\n  };\n  return (\n    <div\n      style={{\n        width: \"100%\",\n        height: `100%`,\n        overflow: \"overlay\",\n      }}\n      ref={scrollref}\n    >\n      <div\n        className=\"chat\"\n        style={{\n          margin: `90px auto 3rem auto`,\n          maxWidth: \"900px\",\n        }}\n      >\n        {messages.length > 0 ? (\n          <>\n            {canloadmore && loadingmore ? (\n              <Loader key={\"loader\"}></Loader>\n            ) : (\n              <></>\n            )}\n            {output}\n          </>\n        ) : (\n          <p style={{ color: \"gray\", textAlign: \"center\" }}>\n            this chat is empty... say hi!\n          </p>\n        )}\n        {typingdata.typing ? (\n          <div\n            className=\"message message-yours last-yours\"\n            style={{\n              opacity: 0.5,\n              textShadow: \"0 0 7px black\",\n              color: \"transparent\",\n            }}\n          >\n            {faketext}\n          </div>\n        ) : (\n          <></>\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction ChatNotFound() {\n  return (\n    <div\n      style={{\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        textAlign: \"center\",\n        color: \"gray\",\n      }}\n    >\n      <div style={{ fontSize: \"50px\" }}>\n        <FontAwesomeIcon icon={faSadCry} />\n        <FontAwesomeIcon icon={faCommentSlash} />\n      </div>\n      <h1>No Chat Found!</h1>\n      <p>\n        go to{\" \"}\n        <span>\n          <Link\n            to=\"/contacts\"\n            style={{ color: \"var(--secondary-text-colour)\" }}\n          >\n            contacts\n          </Link>\n          !\n        </span>\n      </p>\n    </div>\n  );\n}\n\nfunction ChatPage() {\n  const bypassChars: string[] = [\n    ...emoji,\n    \" \",\n    \"?\",\n    \"!\",\n    \"#\",\n    \"$\",\n    \"£\",\n    \"*\",\n    '\"',\n    \"'\",\n    \"(\",\n    \")\",\n    \":\",\n    \";\",\n    \"[\",\n    \"]\",\n    \"{\",\n    \"}\",\n    \"1\",\n    \"2\",\n    \"3\",\n    \"4\",\n    \"5\",\n    \"6\",\n    \"7\",\n    \"8\",\n    \"9\",\n    \"0\",\n  ];\n  const [chats, setchats] = useState<\n    Array<messageWithText | messageWithFile | giftMessage>\n  >([]);\n  const isFocussed = useWindowVisable();\n  const history = useHistory();\n  const { id: chattingto } = useParams<{ id: string }>();\n  const { notifications, user, NotificationAPI } = useData();\n\n  const { isGroupChat } = useContext(chatSettings);\n  const [usersdata, setusersdata] = useState<\n    undefined | { exists: boolean; users: { [key: string]: any } }\n  >();\n  const [groupchatdata /*setgroupchatdata*/] = useState({\n    picture: \"\",\n    name: \"\",\n  });\n  const [oldmetypingdata, setoldmetypingdata] = useState({\n    type: \"typing\",\n    typing: false,\n    length: 0,\n    specialchars: {},\n  });\n  const [metypingdata, setmetypingdata] = useState({\n    type: \"typing\",\n    typing: false,\n    length: 0,\n    specialchars: {},\n  });\n  const [socketUrl] = useState(\n    `ws${window.location.protocol === \"https:\" ? \"s\" : \"\"}://${\n      !process.env.NODE_ENV || process.env.NODE_ENV === \"development\"\n        ? window.location.hostname + \":5000\"\n        : window.location.host\n    }/chat`\n  );\n  const size = useWindowSize();\n  const [typingdata, settypingdata] = useState<{\n    typing: Boolean;\n    length: Number;\n    specialchars: { [key: number]: any };\n  }>({ typing: false, length: 0, specialchars: {} });\n  const [isonline, setisonline] = useState(\"0\");\n  const metypinglengthref = useRef<number>(0);\n  const metypingref = useRef<any>(false);\n  const typingTimer = useRef<any>(null);\n  const inputref = useRef<any>(null);\n  const scrollerref = useRef<any>(null);\n  const bottomref = useRef<any>(null);\n  const toscroll = useRef(true);\n  const [loadingchatmessages, setloadingchatmessages] = useState(true);\n  const [canloadmore, setcanloadmore] = useState(true);\n  const [loadingmore, setloadingmore] = useState(false);\n  const isLoadMore = useRef<boolean>(false);\n  const [chatUpdateID, setChatUpdateID] = useState<number | null>(null);\n  const [personaltyping] = useLocalStorage(\"Keyboard Typing Sound\", true);\n  const [Recipienttyping] = useLocalStorage(\"Recipient Typing Sound\", true);\n  const [SendSound] = useLocalStorage(\"Send Sound\", true);\n  const [ReceiveSound] = useLocalStorage(\"Receive Sound\", true);\n  const [localchats, setlocalchats] = useLocalStorage<{\n    [key: string]: Array<messageWithText | messageWithFile | giftMessage>;\n  }>(\"chats\", {});\n  const [giftmodel, setgiftmodel] = useState(false);\n  async function sendFile(file: any) {\n    const id = Math.random();\n    notifications.addNotification({\n      title: \"File\",\n      message: \"Uploading...\",\n      type: \"warning\",\n      insert: \"top\",\n      id,\n      container: \"top-right\",\n      animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n      animationOut: [\"animate__animated\", \"animate__fadeOut\"],\n    });\n    try {\n      const formdata = new FormData();\n      formdata.append(\"file\", file);\n      const resp = await (\n        await fetch(\"/api/uploadfile\", {\n          method: \"POST\",\n          body: formdata,\n        })\n      ).json();\n      if (resp.resp) {\n        notifications.removeNotification(id);\n        const time = new Date().getTime();\n        const tempid = Math.random();\n        sendJsonMessage({\n          type: \"file\",\n          file: resp.id,\n          mimetype: file.type,\n          tempid,\n        });\n        setchats((chats) =>\n          chats.concat({\n            gift: undefined,\n            amount: undefined,\n            from: user.id,\n            message: undefined,\n            mimetype: file.type,\n            file: resp.id,\n            time,\n            tempid,\n            edited: false,\n          })\n        );\n        notifications.removeNotification(id);\n      } else {\n        notifications.removeNotification(id);\n        notifications.addNotification({\n          title: \"Upload Error\",\n          message: resp.err,\n          type: \"danger\",\n          insert: \"top\",\n          container: \"top-right\",\n          animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n          animationOut: [\"animate__animated\", \"animate__fadeOut\"],\n        });\n      }\n    } catch (e) {\n      notifications.removeNotification(id);\n      notifications.addNotification({\n        title: \"Upload Error\",\n        message: String(e),\n        type: \"danger\",\n        insert: \"top\",\n        container: \"top-right\",\n        animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n        animationOut: [\"animate__animated\", \"animate__fadeOut\"],\n      });\n    }\n  }\n  useEffect(() => {\n    ReactGA.event({\n      category: \"chat\",\n      action: \"open chat\",\n      label: `open to ${chattingto}`,\n    });\n    localStorage.setItem(\"chattingto\", JSON.stringify(chattingto));\n    const listenerfunction = function (event: any) {\n      const items = (event.clipboardData || event.originalEvent.clipboardData)\n        .items;\n      for (const index in items) {\n        const item = items[index];\n        if (item.kind === \"file\") {\n          const blob = item.getAsFile();\n          console.log(blob);\n          sendFile(blob);\n        }\n      }\n    };\n    window.addEventListener(\"paste\", listenerfunction);\n    return () => {\n      window.removeEventListener(\"paste\", listenerfunction);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    if (usersdata) {\n      document.title = `${usersdata.users[chattingto].username} - TypeChat`;\n    }\n    return () => {\n      document.title = \"TypeChat\";\n    };\n  }, [chattingto, usersdata]);\n  const [oldmessagsize, setoldmessagesize] = useState(chats.length > 0);\n  const messagesize = chats.length > 0;\n  useEffect(() => {\n    if (messagesize !== oldmessagsize) {\n      scrolltobottom();\n      setoldmessagesize(messagesize);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [messagesize]);\n  const doneTypingInterval = 5000;\n  const StartMessagesLength = Math.ceil(size.height / 40 + 5);\n  function doneTyping() {\n    if (metypingref.current) {\n      metypingref.current = false;\n      setmetypingdata({\n        type: \"typing\",\n        typing: false,\n        length: 0,\n        specialchars: {},\n      });\n    }\n  }\n  function deleteFromID(id: string) {\n    for (let i = 0; i <= chats.length; i++) {\n      if (chats[i].ID === id) {\n        chats.splice(i, 1);\n        setchats(chats);\n        setChatUpdateID(Math.random());\n        break;\n      }\n    }\n  }\n  function editFromID(id: string, message: string) {\n    for (let i = 0; i <= chats.length; i++) {\n      if (chats[i].ID === id) {\n        chats[i].message = message;\n        chats[i].edited = true;\n        setchats(chats);\n        setChatUpdateID(Math.random());\n        break;\n      }\n    }\n  }\n  const { sendJsonMessage, lastJsonMessage, readyState } = useWebSocket(\n    socketUrl,\n    {\n      shouldReconnect: () => true,\n      reconnectInterval: 1,\n    }\n  );\n  const scrolltobottom = () => {\n    const scrollingElement = document.scrollingElement || document.body;\n    if (window.innerHeight + window.scrollY < document.body.offsetHeight) {\n      scrollingElement.scrollTo(0, scrollingElement.scrollHeight);\n    }\n  };\n  const fileref = useRef<HTMLInputElement>(null);\n  const submitref = useRef<any>(null);\n  const formref = useRef<any>(null);\n  const shiftkey = useRef(false);\n  const key = useRef(null);\n\n  useEffect(() => {\n    if (lastJsonMessage) {\n      if (lastJsonMessage.type === \"message\") {\n        if (lastJsonMessage.message.from !== user.id && ReceiveSound) {\n          playSound(\"/sounds/newmessage.mp3\");\n        }\n        setchats((chats) => chats.concat(lastJsonMessage.message));\n\n        settypingdata({\n          typing: false,\n          length: 0,\n          specialchars: {},\n        });\n        if (usersdata) {\n          if (toscroll.current) {\n            setcanloadmore(true);\n            isLoadMore.current = false;\n            setloadingchatmessages(false);\n            setchats((chats) =>\n              chats.slice(Math.max(chats.length - StartMessagesLength, 0))\n            );\n            setTimeout(scrolltobottom, 0);\n            if (\n              lastJsonMessage.message.from !== user.id &&\n              !isFocussed &&\n              isElectron()\n            ) {\n              notify(\n                `${usersdata.users[lastJsonMessage.message.from].username}`,\n                lastJsonMessage.message.message,\n                () => {\n                  history.push(`/chat/${chattingto}`);\n                  scrolltobottom();\n                }\n              );\n            }\n          } else if (lastJsonMessage.message.from !== user.id) {\n            NotificationAPI(\n              {\n                title: `${\n                  usersdata.users[lastJsonMessage.message.from].username\n                }`,\n                message: lastJsonMessage.message.message\n                  ? truncate(lastJsonMessage.message.message, 25)\n                  : \"file\",\n                type: \"default\",\n                onRemoval: (_: number, type: string) => {\n                  if (type === \"click\") {\n                    history.push(`/chat/${chattingto}`);\n                    scrolltobottom();\n                  }\n                },\n                insert: \"top\",\n                container: \"top-right\",\n                animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n                animationOut: [\"animate__animated\", \"animate__fadeOut\"],\n                dismiss: {\n                  pauseOnHover: true,\n                  duration: 5000,\n                  onScreen: true,\n                },\n              },\n              () => {\n                history.push(`/chat/${chattingto}`);\n                scrolltobottom();\n              }\n            );\n          }\n        }\n      } else if (lastJsonMessage.type === \"gift\") {\n        if (lastJsonMessage.message.from !== user.id && ReceiveSound) {\n          playSound(\"/sounds/gift.mp3\");\n        }\n        lastJsonMessage.message.gift = true;\n        setchats((chats) => chats.concat(lastJsonMessage.message));\n\n        settypingdata({\n          typing: false,\n          length: 0,\n          specialchars: {},\n        });\n        if (usersdata) {\n          if (toscroll.current) {\n            setcanloadmore(true);\n            isLoadMore.current = false;\n            setloadingchatmessages(false);\n            setchats((chats) =>\n              chats.slice(Math.max(chats.length - StartMessagesLength, 0))\n            );\n            setTimeout(scrolltobottom, 0);\n            if (\n              lastJsonMessage.message.from !== user.id &&\n              !isFocussed &&\n              isElectron()\n            ) {\n              notify(\n                `${usersdata.users[lastJsonMessage.message.from].username}`,\n                lastJsonMessage.message.message,\n                () => {\n                  history.push(`/chat/${chattingto}`);\n                  scrolltobottom();\n                }\n              );\n            }\n          } else if (lastJsonMessage.message.from !== user.id) {\n            NotificationAPI(\n              {\n                title: `${\n                  usersdata.users[lastJsonMessage.message.from].username\n                }`,\n                message: lastJsonMessage.message.message\n                  ? truncate(lastJsonMessage.message.message, 25)\n                  : \"file\",\n                type: \"default\",\n                onRemoval: (_: number, type: string) => {\n                  if (type === \"click\") {\n                    history.push(`/chat/${chattingto}`);\n                    scrolltobottom();\n                  }\n                },\n                insert: \"top\",\n                container: \"top-right\",\n                animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n                animationOut: [\"animate__animated\", \"animate__fadeOut\"],\n                dismiss: {\n                  pauseOnHover: true,\n                  duration: 5000,\n                  onScreen: true,\n                },\n              },\n              () => {\n                history.push(`/chat/${chattingto}`);\n                scrolltobottom();\n              }\n            );\n          }\n        }\n      } else if (lastJsonMessage.type === \"delete\") {\n        if (lastJsonMessage.from !== user.id && ReceiveSound) {\n          playSound(\"/sounds/delete.mp3\");\n        }\n        deleteFromID(lastJsonMessage.id);\n      } else if (lastJsonMessage.type === \"edit\") {\n        if (lastJsonMessage.from !== user.id && ReceiveSound) {\n          playSound(\"/sounds/edit.mp3\");\n        }\n        editFromID(lastJsonMessage.id, lastJsonMessage.message);\n      } else if (lastJsonMessage.type === \"start\") {\n        setcanloadmore(false);\n        isLoadMore.current = true;\n        setloadingchatmessages(true);\n        sendJsonMessage({\n          type: \"start\",\n          to: chattingto,\n          limit: StartMessagesLength,\n          mobile: isMobileDevice(),\n        });\n      } else if (lastJsonMessage.type === \"ping\") {\n        sendJsonMessage({ type: \"pong\" });\n      } else if (lastJsonMessage.type === \"sent\") {\n        for (const message of chats) {\n          if (message.tempid === lastJsonMessage.tempid) {\n            delete message.tempid;\n            message.ID = lastJsonMessage.id;\n          }\n        }\n        setChatUpdateID(Math.random());\n        setchats(chats);\n      } else if (lastJsonMessage.type === \"online\") {\n        if (!lastJsonMessage.online && (isonline === \"M\" || isonline === \"1\")) {\n          playSound(\"/sounds/leave.mp3\");\n        } else if (lastJsonMessage.online && isonline === \"0\") {\n          playSound(\"/sounds/join.mp3\");\n        }\n        setisonline(\n          lastJsonMessage.online ? (lastJsonMessage.mobile ? \"M\" : \"1\") : \"0\"\n        );\n      } else if (lastJsonMessage.type === \"typing\") {\n        if (Recipienttyping) {\n          if (lastJsonMessage.length > typingdata.length) {\n            playSound(`/sounds/click${Math.floor(Math.random() * 3 + 1)}.mp3`);\n          } else if (lastJsonMessage.length < typingdata.length) {\n            playSound(`/sounds/click3.mp3`);\n          }\n        }\n        if (toscroll.current) {\n          setTimeout(scrolltobottom, 0);\n        }\n        settypingdata({\n          typing: lastJsonMessage.typing,\n          length: lastJsonMessage.length,\n          specialchars: lastJsonMessage.specialchars,\n        });\n      } else if (lastJsonMessage.type === \"setmessages\") {\n        setchats(lastJsonMessage.messages);\n        setusersdata({ exists: true, users: lastJsonMessage.users });\n        setcanloadmore(true);\n        isLoadMore.current = false;\n        setloadingchatmessages(false);\n      } else if (lastJsonMessage.type === \"prependmessages\") {\n        setchats([...lastJsonMessage.messages, ...chats]);\n        if (lastJsonMessage.messages.length > 0) {\n          const lastheight = document.documentElement.offsetHeight;\n          setTimeout(() => {\n            document.documentElement.scrollTop =\n              document.documentElement.scrollHeight - lastheight;\n            isLoadMore.current = false;\n\n            setloadingmore(false);\n          }, 0);\n        }\n        setcanloadmore(lastJsonMessage.messages.length > 0);\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [lastJsonMessage]);\n  useEffect(() => {\n    if (isMobileDevice()) {\n      sendJsonMessage({ type: \"setFocus\", focus: isFocussed });\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isFocussed]);\n  useEffect(() => {\n    if (JSON.stringify(oldmetypingdata) !== JSON.stringify(metypingdata)) {\n      sendJsonMessage(metypingdata);\n      setoldmetypingdata(metypingdata);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [metypingdata]);\n  window.onload = () => setTimeout(scrolltobottom, 0);\n  useEffect(() => {\n    setTimeout(scrolltobottom, 0);\n  }, [usersdata, readyState]);\n  useEffect(() => {\n    if (toscroll.current) {\n      setTimeout(scrolltobottom, 0);\n    }\n    if (!loadingchatmessages) {\n      localchats[chattingto] = chats.slice(\n        Math.max(chats.length - StartMessagesLength, 0)\n      );\n      setlocalchats(localchats);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [chats, chatUpdateID]);\n  useEffect(() => {\n    if (usersdata && !usersdata.exists) {\n      setloadingchatmessages(false);\n    }\n  }, [usersdata]);\n  const loadmore = () => {\n    if (!isLoadMore.current) {\n      isLoadMore.current = true;\n      setloadingmore(true);\n      sendJsonMessage({\n        type: \"getmessages\",\n        start: chats.length,\n        max: 50,\n      });\n    }\n  };\n  if (\n    (!usersdata ||\n      (readyState !== ReadyState.OPEN &&\n        readyState !== ReadyState.UNINSTANTIATED) ||\n      loadingchatmessages) &&\n    !localchats[chattingto]\n  ) {\n    return <Loader />;\n  } else if (!localchats[chattingto] || (usersdata && !usersdata.exists)) {\n    return <ChatNotFound></ChatNotFound>;\n  }\n  return (\n    <usersContext.Provider\n      value={usersdata ? usersdata : { exists: false, users: {} }}\n    >\n      <div>\n        <div>\n          <div\n            style={{\n              position: \"fixed\",\n              width: \"100%\",\n              height: \"90px\",\n              padding: \"10px\",\n              zIndex: 10,\n              background:\n                \"linear-gradient(0deg, transparent, var(--dark-mode))\",\n            }}\n          >\n            {usersdata && readyState === ReadyState.OPEN ? (\n              <>\n                {\" \"}\n                <img\n                  src={\n                    \"/files/\" +\n                    String(\n                      isGroupChat\n                        ? groupchatdata.picture\n                        : usersdata.users[chattingto].profilePic\n                    )\n                  }\n                  data-private\n                  style={{\n                    display: \"block\",\n                    height: \"65%\",\n                    margin: \"auto\",\n                    borderRadius: \"100%\",\n                    aspectRatio: \"1/1\",\n                  }}\n                  alt={usersdata.users[chattingto].username}\n                />\n                <p style={{ textAlign: \"center\" }} data-private>\n                  {usersdata.users[chattingto].username}{\" \"}\n                  <FontAwesomeIcon\n                    style={{\n                      color:\n                        isonline === \"0\" ? \"var(--offline)\" : \"var(--online)\",\n                    }}\n                    icon={\n                      isonline === \"1\"\n                        ? faDesktop\n                        : isonline === \"M\"\n                        ? faMobileAlt\n                        : faEyeSlash\n                    }\n                  ></FontAwesomeIcon>\n                </p>\n                <div data-private>\n                  <Badge\n                    badges={usersdata.users[chattingto].badges}\n                    size=\"20px\"\n                  ></Badge>\n                </div>\n              </>\n            ) : (\n              <p style={{ margin: \"1rem\", textAlign: \"center\" }}>\n                {ReadyState[readyState]}\n              </p>\n            )}\n          </div>\n          <KeyboardEventHandler\n            handleKeys={[\"alphanumeric\", \"space\", \"shift\", \"cap\"]}\n            onKeyEvent={() => {\n              key.current = null;\n              inputref.current.focus();\n            }}\n          />\n          <MessageMaker\n            deleteFromID={deleteFromID}\n            editFromID={editFromID}\n            scrolltobottom={scrolltobottom}\n            scrollref={scrollerref}\n            messages={loadingchatmessages ? localchats[chattingto] : chats}\n            typingdata={typingdata}\n            toscroll={toscroll}\n            canloadmore={canloadmore && readyState === ReadyState.OPEN}\n            loadingmore={loadingmore}\n            loadmore={loadmore}\n            chatUpdateID={chatUpdateID}\n            sendJsonMessage={sendJsonMessage}\n          />\n          <div ref={bottomref}></div>\n          <div\n            style={{\n              position: \"fixed\",\n              padding: \"1rem\",\n              width: \"100%\",\n              bottom: \"0px\",\n              background:\n                \"linear-gradient(180deg, transparent, var(--dark-mode))\",\n              display: \"flex\",\n            }}\n          >\n            <div\n              style={{\n                margin: \"auto\",\n                width: \"100%\",\n                maxWidth: \"800px\",\n                display: \"flex\",\n              }}\n            >\n              <input\n                type=\"file\"\n                style={{ display: \"none\" }}\n                ref={fileref}\n                onInput={async (e: any) => {\n                  if (e.target.files.length > 0) {\n                    const file = e.target.files[0];\n                    e.target.value = \"\";\n                    sendFile(file);\n                  }\n                }}\n              />\n\n              <button\n                style={{\n                  width: \"45px\",\n                  marginRight: \"5px\",\n                  backgroundColor: \"var(--dark-bg-colour)\",\n                  padding: \"5px\",\n                  borderRadius: \"20px\",\n                  border: \"solid 1px var(--light-bg-colour)\",\n                  color: \"white\",\n                  textAlign: \"center\",\n                }}\n                onClick={() => {\n                  if (fileref.current) fileref.current.click();\n                }}\n              >\n                <FontAwesomeIcon icon={faPlus} />\n              </button>\n              <ReactModal\n                isOpen={giftmodel}\n                style={{\n                  overlay: {\n                    backgroundColor: \"rgb(18 18 18 / 50%)\",\n                    zIndex: 10,\n                  },\n                  content: {\n                    backgroundColor: \"var(--dark-mode)\",\n                    border: \"1px solid var(--dark-bg-colour)\",\n                    borderRadius: \"10px\",\n                    padding: \"1rem\",\n                    zIndex: 11,\n                    top: \"50%\",\n                    left: \"50%\",\n                    right: \"auto\",\n                    bottom: \"auto\",\n                    marginRight: \"-50%\",\n                    transform: \"translate(-50%, -50%)\",\n                    width: \"75%\",\n                    maxWidth: \"750px\",\n                    textAlign: \"center\",\n                    maxHeight: \"500px\",\n                  },\n                }}\n                onRequestClose={() => setgiftmodel(false)}\n              >\n                <FontAwesomeIcon\n                  icon={faTimes}\n                  onClick={() => setgiftmodel(false)}\n                  style={{\n                    cursor: \"pointer\",\n                    fontSize: \"30px\",\n                    float: \"right\",\n                  }}\n                />\n                <h1>Gift Rocket Fuel</h1>\n                <div\n                  style={{\n                    height: \"1px\",\n                    width: \"100%\",\n                    background: \"var(--dark-bg-colour)\",\n                    margin: \"0 0 1rem 0\",\n                  }}\n                />\n                <form\n                  onSubmit={(e: any) => {\n                    e.preventDefault();\n                    ReactGA.event({\n                      category: \"chat\",\n                      action: \"sent gift\",\n                      label: `send gift to ${chattingto}`,\n                    });\n                    console.log(e);\n                    const message = e.target[1].value.trim();\n                    const tempid = Math.random();\n                    const time = new Date().getTime();\n                    sendJsonMessage({\n                      type: \"gift\",\n                      amount: e.target[0].value,\n                      message: message,\n                      tempid,\n                    });\n                    setchats(\n                      chats\n                        .slice(Math.max(chats.length - StartMessagesLength, 0))\n                        .concat({\n                          from: user.id,\n                          gift: true,\n                          amount: e.target[0].value,\n                          file: undefined,\n                          mimetype: undefined,\n                          message: message,\n                          time,\n                          tempid,\n                          edited: false,\n                        })\n                    );\n                    setgiftmodel(false);\n                  }}\n                >\n                  <div\n                    style={{\n                      display: \"grid\",\n                      alignItems: \"center\",\n                      justifyContent: \"center\",\n                      alignContent: \"space-evenly\",\n                      marginBottom: \"1rem\",\n                    }}\n                  >\n                    <label htmlFor=\"RF\">\n                      How much Rocket Fuel do you want to gift? (max{\" \"}\n                      {user.rocketFuel})\n                    </label>\n                    <input\n                      id=\"RF\"\n                      type=\"number\"\n                      min={\"1\"}\n                      max={user.rocketFuel}\n                      defaultValue=\"1\"\n                      onBlur={(e: any) => {\n                        e.target.value = Math.floor(\n                          e.target.value > user.rocketFuel\n                            ? user.rocketFuel\n                            : e.target.value < 1\n                            ? 1\n                            : e.target.value\n                        );\n                      }}\n                    ></input>\n                  </div>\n\n                  <TextareaAutosize\n                    data-private=\"lipsum\"\n                    onInput={(e: any) => {\n                      const message = e.target.value.trim();\n                      const messagetoarray: string[] = Array.from(message);\n                      const maxlength =\n                        3000 + 250 * (user.blast ? user.blast : 0);\n                      if (\n                        messagetoarray.length <= maxlength &&\n                        !(key.current === 13 && !shiftkey.current)\n                      ) {\n                        if (personaltyping) {\n                          playSound(\n                            `/sounds/click${Math.floor(\n                              Math.random() * 3 + 1\n                            )}.mp3`\n                          );\n                        }\n                        metypinglengthref.current = messagetoarray.length;\n                        if (metypinglengthref.current > 0) {\n                          metypingref.current = true;\n                          const specialchars: { [key: string]: any } = {};\n                          for (let i = 0; i < messagetoarray.length; i++) {\n                            if (bypassChars.includes(messagetoarray[i])) {\n                              specialchars[i] = messagetoarray[i];\n                            }\n                          }\n                          setmetypingdata({\n                            type: \"typing\",\n                            typing: metypingref.current,\n                            length: metypinglengthref.current,\n                            specialchars,\n                          });\n                          clearTimeout(typingTimer.current);\n                          typingTimer.current = setTimeout(\n                            doneTyping,\n                            doneTypingInterval\n                          );\n                        } else {\n                          metypingref.current = false;\n                          setmetypingdata({\n                            type: \"typing\",\n                            typing: false,\n                            length: 0,\n                            specialchars: {},\n                          });\n                        }\n                      } else {\n                        e.target.value = Array.from(e.target.value)\n                          .slice(0, maxlength)\n                          .join(\"\");\n                      }\n                    }}\n                    onKeyDown={(e: any) => {\n                      key.current = e.keyCode;\n                      shiftkey.current = e.shiftKey;\n                      clearTimeout(typingTimer.current);\n                    }}\n                    autoFocus\n                    style={{\n                      backgroundColor: \"var(--dark-bg-colour)\",\n                      padding: \"5px\",\n                      borderRadius: \"20px\",\n                      width: \"calc(100% - 65px)\",\n                      border: \"solid 1px var(--light-bg-colour)\",\n                      color: \"white\",\n                      resize: \"none\",\n                    }}\n                    maxRows={10}\n                    placeholder=\"Add A Message...\"\n                  />\n                  <button\n                    className=\"btnMain\"\n                    onPointerDown={() => {\n                      playSound(\"/sounds/click2.mp3\");\n                    }}\n                    onPointerUp={() => {\n                      playSound(\"/sounds/click1.mp3\");\n                    }}\n                    style={{\n                      border: \"none\",\n                      background: \"transparent\",\n                      padding: \"0\",\n                    }}\n                  >\n                    <div className=\"btnBox\">\n                      GIFT{\" \"}\n                      <img\n                        src={GiftIcon}\n                        height=\"30px\"\n                        alt=\"🎁\"\n                        className=\"icon\"\n                      />\n                    </div>\n                    <div className=\"btnBottom\"></div>\n                  </button>\n                </form>\n              </ReactModal>\n              <button\n                style={{\n                  width: \"45px\",\n                  marginRight: \"5px\",\n                  backgroundColor: \"var(--dark-bg-colour)\",\n                  padding: \"5px\",\n                  borderRadius: \"20px\",\n                  border: \"solid 1px var(--light-bg-colour)\",\n                  color: \"white\",\n                  textAlign: \"center\",\n                  opacity:\n                    usersdata && usersdata.users[chattingto].id !== \"TypeChat\"\n                      ? 1\n                      : 0.5,\n                }}\n                disabled={\n                  !(usersdata && usersdata.users[chattingto].id !== \"TypeChat\")\n                }\n                onClick={\n                  usersdata && usersdata.users[chattingto].id !== \"TypeChat\"\n                    ? () => {\n                        if (user.rocketFuel > 0) {\n                          setgiftmodel(true);\n                        } else {\n                          history.push(\"/blast\");\n                        }\n                      }\n                    : undefined\n                }\n              >\n                <FontAwesomeIcon icon={faGift} />\n              </button>\n              <form\n                onSubmit={(e: any) => {\n                  e.preventDefault();\n                  const message = e.target[0].value.trim();\n                  if (message !== \"\") {\n                    e.target[0].value = \"\";\n                    const time = new Date().getTime();\n                    if (SendSound) {\n                      playSound(\"/sounds/send.mp3\");\n                    }\n                    const tempid = Math.random();\n                    sendJsonMessage({\n                      type: \"message\",\n                      message,\n                      tempid,\n                    });\n                    setcanloadmore(true);\n                    isLoadMore.current = false;\n                    setloadingchatmessages(false);\n                    setchats(\n                      chats\n                        .slice(Math.max(chats.length - StartMessagesLength, 0))\n                        .concat({\n                          gift: undefined,\n                          amount: undefined,\n                          from: user.id,\n                          file: undefined,\n                          mimetype: undefined,\n                          message,\n                          time,\n                          tempid,\n                          edited: false,\n                        })\n                    );\n                    setTimeout(scrolltobottom, 0);\n                    metypingref.current = false;\n                    setmetypingdata({\n                      type: \"typing\",\n                      typing: metypingref.current,\n                      length: 0,\n                      specialchars: {},\n                    });\n                  }\n                }}\n                ref={formref}\n                style={{\n                  width: \"100%\",\n                  display: \"flex\",\n                }}\n              >\n                <TextareaAutosize\n                  data-private=\"lipsum\"\n                  ref={inputref}\n                  onInput={(e: any) => {\n                    if (key.current === 13 && !shiftkey.current) {\n                      submitref.current.click();\n                      inputref.current.value = \"\";\n                    }\n                    const message = e.target.value.trim();\n                    const messagetoarray: string[] = Array.from(message);\n                    const maxlength =\n                      3000 + 1000 * (user.blast ? user.blast : 0);\n                    if (\n                      messagetoarray.length <= maxlength &&\n                      !(key.current === 13 && !shiftkey.current)\n                    ) {\n                      if (personaltyping) {\n                        playSound(\n                          `/sounds/click${Math.floor(\n                            Math.random() * 3 + 1\n                          )}.mp3`\n                        );\n                      }\n                      metypinglengthref.current = messagetoarray.length;\n                      if (metypinglengthref.current > 0) {\n                        metypingref.current = true;\n                        const specialchars: { [key: string]: any } = {};\n                        for (let i = 0; i < messagetoarray.length; i++) {\n                          if (bypassChars.includes(messagetoarray[i])) {\n                            specialchars[i] = messagetoarray[i];\n                          }\n                        }\n                        setmetypingdata({\n                          type: \"typing\",\n                          typing: metypingref.current,\n                          length: metypinglengthref.current,\n                          specialchars,\n                        });\n                        clearTimeout(typingTimer.current);\n                        typingTimer.current = setTimeout(\n                          doneTyping,\n                          doneTypingInterval\n                        );\n                      } else {\n                        metypingref.current = false;\n                        setmetypingdata({\n                          type: \"typing\",\n                          typing: false,\n                          length: 0,\n                          specialchars: {},\n                        });\n                      }\n                    } else {\n                      e.target.value = Array.from(e.target.value)\n                        .slice(0, maxlength)\n                        .join(\"\");\n                    }\n                  }}\n                  onKeyDown={(e: any) => {\n                    key.current = e.keyCode;\n                    shiftkey.current = e.shiftKey;\n                    clearTimeout(typingTimer.current);\n                  }}\n                  autoFocus\n                  style={{\n                    backgroundColor: \"var(--dark-bg-colour)\",\n                    padding: \"5px\",\n                    borderRadius: \"20px\",\n                    width: \"calc(100% - 65px)\",\n                    border: \"solid 1px var(--light-bg-colour)\",\n                    color: \"white\",\n                    resize: \"none\",\n                  }}\n                  maxRows={10}\n                  placeholder=\"Type Something...\"\n                />\n                <button\n                  ref={submitref}\n                  style={{\n                    width: \"60px\",\n                    marginLeft: \"5px\",\n                    backgroundColor: \"var(--dark-bg-colour)\",\n                    padding: \"5px\",\n                    borderRadius: \"20px\",\n                    border: \"solid 1px var(--light-bg-colour)\",\n                    color: \"white\",\n                    textAlign: \"center\",\n                  }}\n                  type=\"submit\"\n                  onClick={() => {\n                    inputref.current.focus();\n                    ReactGA.event({\n                      category: \"chat\",\n                      action: \"send message\",\n                      label: `send message to ${chattingto}`,\n                    });\n                  }}\n                >\n                  <FontAwesomeIcon icon={faPaperPlane} />\n                </button>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </usersContext.Provider>\n  );\n}\n\nfunction Chat({\n  isGroupChat,\n  chattingto,\n}: {\n  isGroupChat: boolean;\n  chattingto: string;\n}) {\n  const { loggedin, user } = useData();\n  const time = useMemo(() => new Date().getTime(), []);\n  if (!loggedin) {\n    return <Redirect to=\"/\"></Redirect>;\n  } else if (chattingto && chattingto !== user.id) {\n    return (\n      <chatSettings.Provider value={{ isGroupChat, time }}>\n        <ChatPage />\n      </chatSettings.Provider>\n    );\n  }\n  return <ChatNotFound></ChatNotFound>;\n}\n\nexport default Chat;\n","import { faFileCode } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nfunction Error404() {\n  useEffect(() => {\n    document.title = `404 - TypeChat`;\n    return () => {\n      document.title = \"TypeChat\";\n    };\n  }, []);\n  return (\n    <div\n      style={{\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        textAlign: \"center\",\n        color: \"gray\",\n      }}\n    >\n      <div style={{ fontSize: \"50px\" }}>\n        <FontAwesomeIcon icon={faFileCode} />\n      </div>\n      <h1>Page Not Found!</h1>\n      <p>\n        go to the{\" \"}\n        <span>\n          <Link to=\"/\" style={{ color: \"var(--secondary-text-colour)\" }}>\n            Home Page\n          </Link>\n          !\n        </span>\n      </p>\n    </div>\n  );\n}\n\nexport default Error404;\n","import { SecureLink } from \"react-secure-link\";\nimport Linkify from \"react-linkify\";\nimport { useState } from \"react\";\nimport ColorThief from \"colorthief\";\nimport Badge from \"./badges\";\n\nfunction ProfilePage({\n  user,\n}: {\n  user: {\n    profilePic: string;\n    username: string;\n    tag: string;\n    backgroundImage: string | null;\n    aboutme: string;\n    badges: { name: string }[];\n    [key: string]: any;\n  };\n}) {\n  const [backgroundcolour, setbackgroundcolour] = useState({\n    r: 86,\n    g: 86,\n    b: 255,\n  });\n  return (\n    <div\n      style={{\n        backgroundImage: user.backgroundImage\n          ? `url(/files/${user.backgroundImage})`\n          : undefined,\n        backgroundColor: `rgb(${backgroundcolour.r}, ${backgroundcolour.g}, ${backgroundcolour.b})`,\n        padding: \"1rem\",\n        backgroundRepeat: \"no-repeat\",\n        backgroundSize: \"cover\",\n        borderRadius: \"10px\",\n        border: `solid 3px rgb(${backgroundcolour.r + 25}, ${\n          backgroundcolour.g + 25\n        }, ${backgroundcolour.b + 25})`,\n        width: \"100%\",\n        height: \"100%\",\n        backgroundPosition: \"center\",\n      }}\n    >\n      <div\n        style={{\n          textAlign: \"center\",\n        }}\n      >\n        <img\n          alt=\"profile\"\n          src={\"/files/\" + user.profilePic}\n          style={{\n            maxHeight: \"75px\",\n            maxWidth: \"100%\",\n            height: \"auto\",\n            width: \"auto\",\n            borderRadius: \"50%\",\n          }}\n          onLoad={(e: any) => {\n            const colorThief = new ColorThief();\n            const resp = colorThief.getColor(e.target);\n            setbackgroundcolour({ r: resp[0], g: resp[1], b: resp[2] });\n          }}\n        />\n        <h4>\n          <span\n            style={{\n              color: \"white\",\n              WebkitTextStroke: \"1px black\",\n              fontWeight: \"bold\",\n            }}\n          >\n            {user.username}\n            <span\n              style={{\n                color: \"lightgray\",\n                fontWeight: \"normal\",\n              }}\n            >\n              #{user.tag}\n            </span>\n          </span>\n        </h4>\n      </div>\n      {user.aboutme ? (\n        <div\n          style={{\n            padding: \"1rem\",\n            backgroundColor: \"var(--dark-bg-colour)\",\n            borderRadius: \"10px\",\n            border: \"solid 1px var(--light-bg-colour)\",\n          }}\n        >\n          <b>About Me</b>\n          <div>\n            <Linkify\n              componentDecorator={(\n                decoratedHref: string,\n                decoratedText: string,\n                key: any\n              ) => (\n                <SecureLink\n                  href={decoratedHref}\n                  key={key}\n                  style={{ color: \"var(--secondary-text-colour)\" }}\n                >\n                  {decoratedText}\n                </SecureLink>\n              )}\n            >\n              {user.aboutme}\n            </Linkify>\n          </div>\n        </div>\n      ) : (\n        <></>\n      )}\n      <Badge badges={user.badges} />\n    </div>\n  );\n}\n\nexport default ProfilePage;\n","function humanFileSize(bytes: number, si: boolean = false, dp: number = 1) {\n    const thresh = si ? 1000 : 1024;\n\n    if (Math.abs(bytes) < thresh) {\n        return bytes + ' B';\n    }\n\n    const units = si\n        ? ['kB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n        : ['KiB', 'MiB', 'GiB', 'TiB', 'PiB', 'EiB', 'ZiB', 'YiB'];\n    let u = -1;\n    const r = 10 ** dp;\n\n    do {\n        bytes /= thresh;\n        ++u;\n    } while (Math.round(Math.abs(bytes) * r) / r >= thresh && u < units.length - 1);\n\n\n    return bytes.toFixed(dp) + ' ' + units[u];\n}\nexport default humanFileSize  ","import { useData } from \"../hooks/datahook\";\n\nfunction Background() {\n  const { user } = useData();\n  return false ? (\n    <div\n      style={{\n        backgroundImage: `url(/files/${user.backgroundImage})`,\n        width: \"100vw\",\n        height: \"100vh\",\n        position: \"fixed\",\n        zIndex: -\"100\",\n        top: \"0\",\n        left: \"0\",\n        backgroundRepeat: \"no-repeat\",\n        backgroundSize: \"cover\",\n        backgroundPosition: \"center\",\n      }}\n    />\n  ) : (\n    <></>\n  );\n}\n\nexport default Background;\n","import { Redirect } from \"react-router-dom\";\nimport { useData } from \"../hooks/datahook\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faPen } from \"@fortawesome/free-solid-svg-icons\";\nimport \"./css/usersettings.css\";\nimport ProfilePage from \"./profilePage\";\nimport { useState, useRef } from \"react\";\nimport Modal from \"react-modal\";\nimport { RouterForm } from \"./RouterForm\";\nimport Avatar from \"react-avatar-edit\";\nimport useApi from \"../hooks/useapi\";\nimport humanFileSize from \"../bytesToHumanReadable\";\nimport Background from \"./CustomBackground\";\n\nfunction ReactTimeago({ date }: { date: number }) {\n  const days = Math.floor(date / (1000 * 60 * 60 * 24));\n  const hours = Math.floor((date % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\n  const minutes = Math.floor((date % (1000 * 60 * 60)) / (1000 * 60));\n  const seconds = Math.floor((date % (1000 * 60)) / 1000);\n\n  return (\n    <p>{ days + \"d \" + hours + \"h \" + minutes + \"m \" + seconds + \"s\" } left</p>\n  );\n}\n\nfunction Changebutton({\n  name,\n  children,\n  onClick = () => { },\n  clickable,\n}: {\n  name: string;\n  children: any;\n  onClick?: (e: any) => void;\n  clickable: boolean;\n}) {\n  return (\n    <div\n      style={ {\n        border: \"solid 1px var(--light-bg-colour)\",\n        borderRadius: \"10px\",\n        backgroundColor: \"var(--main-bg-colour)\",\n        padding: \"1rem\",\n        margin: \"1rem\",\n      } }\n    >\n      <p style={ { margin: \"0\", color: \"lightgray\" } }>{ name }</p>\n      { clickable ? (\n        <div\n          onClick={ onClick }\n          className={ \"changebutton\" }\n          style={ { color: \"white\" } }\n        >\n          { children }\n        </div>\n      ) : (\n        <div>{ children }</div>\n      ) }\n    </div>\n  );\n}\nModal.setAppElement(\"#app\");\nfunction UserSettings() {\n  const { loggedin, user, rechecklogged } = useData();\n  const [error, seterror] = useState(\"\");\n  const backgroundinputref = useRef<any>(null);\n  const {\n    data: uploadlimitdata,\n    loading: uploadlimitloading,\n    error: uploadlimiterror,\n  } = useApi<{ filelimit: number; limitused: number; timeleft: number }>(\n    \"/api/uploadlimit\"\n  );\n  const [uploading, setuploading] = useState(false);\n  const [backgroundImage, setbackgroundImage] = useState<string | undefined>(\n    undefined\n  );\n  const [profile, setprofile] = useState<Blob | null>(null);\n  const [UsernameModelIsOpen, setUsernameModelIsOpen] = useState(false);\n  const [ProfileModelIsOpen, setProfileModelIsOpen] = useState(false);\n  if (!loggedin) {\n    return <Redirect to=\"/\" />;\n  }\n  return (\n    <div\n      style={ {\n        margin: \"1rem\",\n      } }\n    >\n      <div\n        style={ {\n          margin: \"auto\",\n          border: \"solid 1px var(--light-bg-colour)\",\n          borderRadius: \"10px\",\n          backgroundColor: \"var(--dark-bg-colour)\",\n          padding: \"1rem\",\n          maxWidth: \"700px\",\n        } }\n      ><Background />\n        <h1 style={ { textAlign: \"center\" } }>User Settings</h1>\n        <ProfilePage user={ user } />\n        <Changebutton name=\"Upload Limit\" clickable={ false }>\n          { uploadlimitloading || uploadlimiterror ? (\n            \"loading\"\n          ) : (\n            <>\n              <p>\n                { humanFileSize(Number(uploadlimitdata?.limitused), true) } /{ \" \" }\n                { humanFileSize(Number(uploadlimitdata?.filelimit), true) } (\n                { humanFileSize(\n                  Number(uploadlimitdata?.filelimit) -\n                  Number(uploadlimitdata?.limitused),\n                  true\n                ) }{ \" \" }\n                left)\n              </p>\n              <ReactTimeago date={ Number(uploadlimitdata?.timeleft) } />\n            </>\n          ) }\n        </Changebutton>\n        <div style={ { textAlign: \"center\" } }>EDIT</div>\n        <button\n          style={ {\n            color: \"white\",\n            backgroundColor: \"var(--dark-bg-colour)\",\n            border: \"solid 2px var(--light-bg-colour)\",\n            borderRadius: \"5px\",\n            margin: \"0 1rem\",\n          } }\n          onClick={ () => {\n            rechecklogged();\n          } }\n        >\n          update\n        </button>\n        <Changebutton\n          name=\"Profile Picture\"\n          onClick={ () => {\n            setProfileModelIsOpen(true);\n          } }\n          clickable={ true }\n        >\n          <img\n            alt=\"profile\"\n            src={ \"/files/\" + user.profilePic }\n            style={ {\n              height: \"75px\",\n              margin: \"0 1rem 0 0\",\n              borderRadius: \"50%\",\n            } }\n          />\n          <FontAwesomeIcon icon={ faPen } />\n        </Changebutton>\n        <Modal\n          isOpen={ ProfileModelIsOpen }\n          onRequestClose={ () => {\n            setProfileModelIsOpen(false);\n          } }\n          onAfterOpen={ () => {\n            seterror(\"\");\n          } }\n          style={ {\n            overlay: { backgroundColor: \"rgb(18 18 18 / 50%)\" },\n            content: {\n              backgroundColor: \"var(--main-bg-colour)\",\n              border: \"1px solid var(--dark-bg-colour)\",\n              top: \"50%\",\n              left: \"50%\",\n              right: \"auto\",\n              bottom: \"auto\",\n              marginRight: \"-50%\",\n              transform: \"translate(-50%, -50%)\",\n            },\n          } }\n          contentLabel=\"Username Change\"\n        >\n          <form\n            onSubmit={ async (e: any) => {\n              e.preventDefault();\n              setuploading(true);\n              if (profile) {\n                const fd = new FormData();\n                fd.append(\"profilepic\", profile);\n                const resp = await (\n                  await fetch(\"/api/setprofilepic\", {\n                    method: \"POST\",\n                    body: fd,\n                  })\n                ).json();\n                if (resp.resp) {\n                  setProfileModelIsOpen(false);\n                } else {\n                  seterror(resp.err);\n                }\n              } else {\n                seterror(\"input a profile picture!\");\n              }\n              setuploading(false);\n            } }\n          >\n            PROFILE PICTURE\n            <Avatar\n              width={ 300 }\n              height={ 0 }\n              imageWidth={ 300 }\n              onCrop={ (dataURL) => {\n                fetch(dataURL).then((fetched) =>\n                  fetched.blob().then((blob) => setprofile(blob))\n                );\n              } }\n              labelStyle={ { color: \"white\" } }\n              onClose={ () => {\n                setprofile(null);\n              } }\n              exportMimeType=\"image/jpeg\"\n              exportSize={ 500 }\n              exportQuality={ 0.75 }\n              exportAsSquare\n            />\n            <p style={ { color: \"red\" } }>{ error }</p>\n            { !uploading ? (\n              <button\n                style={ {\n                  float: \"right\",\n                  marginTop: \"1rem\",\n                  color: \"white\",\n                  backgroundColor: \"var(--dark-bg-colour)\",\n                  border: \"solid 2px var(--light-bg-colour)\",\n                  borderRadius: \"5px\",\n                } }\n                type=\"submit\"\n              >\n                Save\n              </button>\n            ) : (\n              <></>\n            ) }\n          </form>\n        </Modal>\n        { user.blast > 0 ?\n          <Changebutton name=\"Profile Background Image\" clickable={ false }>\n            <RouterForm\n              action=\"/api/setbackgroundimage\"\n              beforecallback={ (e: any) => {\n                setuploading(true);\n                return true;\n              } }\n              callback={ () => {\n                if (backgroundinputref.current) {\n                  backgroundinputref.current.value = \"\";\n                  setbackgroundImage(undefined);\n                }\n                setuploading(false);\n              } }\n            >\n              { backgroundImage ? (\n                <img\n                  src={ backgroundImage }\n                  alt=\"background\"\n                  style={ {\n                    maxHeight: \"100px\",\n                    maxWidth: \"100px\",\n                  } }\n                />\n              ) : (\n                <></>\n              ) }\n              <input\n                type=\"file\"\n                name=\"backgroundImage\"\n                style={ { maxWidth: \"100%\" } }\n                onChange={ (e: any) => {\n                  setbackgroundImage(\n                    e.target.files[0]\n                      ? URL.createObjectURL(e.target.files[0])\n                      : undefined\n                  );\n                } }\n                accept=\"image/*\"\n                ref={ backgroundinputref }\n              />{ \" \" }\n              { !uploading ? (\n                <button\n                  style={ {\n                    color: \"white\",\n                    backgroundColor: \"var(--dark-bg-colour)\",\n                    border: \"solid 2px var(--light-bg-colour)\",\n                    borderRadius: \"5px\",\n                  } }\n                  type=\"submit\"\n                >\n                  Save\n                </button>\n              ) : (\n                <></>\n              ) }\n            </RouterForm>\n          </Changebutton> : <></> }\n        <Changebutton\n          name=\"Username\"\n          onClick={ () => {\n            setUsernameModelIsOpen(true);\n          } }\n          clickable={ true }\n        >\n          <span style={ { color: \"white\" } }>\n            { user.username }\n            <span style={ { color: \"lightgray\" } }>#{ user.tag }</span>\n            <FontAwesomeIcon icon={ faPen } />\n          </span>\n        </Changebutton>\n        <Modal\n          isOpen={ UsernameModelIsOpen }\n          onRequestClose={ () => {\n            setUsernameModelIsOpen(false);\n          } }\n          onAfterOpen={ () => {\n            seterror(\"\");\n          } }\n          style={ {\n            overlay: { backgroundColor: \"rgb(18 18 18 / 50%)\" },\n            content: {\n              backgroundColor: \"var(--main-bg-colour)\",\n              border: \"1px solid var(--dark-bg-colour)\",\n              top: \"50%\",\n              left: \"50%\",\n              right: \"auto\",\n              bottom: \"auto\",\n              marginRight: \"-50%\",\n              transform: \"translate(-50%, -50%)\",\n            },\n          } }\n          contentLabel=\"Username Change\"\n        >\n          <form\n            onSubmit={ async (e: any) => {\n              e.preventDefault();\n              setuploading(true);\n              if (\n                e.target[0].value.trim() !== \"\" &&\n                e.target[1].value.trim() !== \"\"\n              ) {\n                const fd = new FormData();\n                fd.append(\"username\", e.target[0].value);\n                fd.append(\"pass\", e.target[1].value);\n                const resp = await (\n                  await fetch(\"/api/setusername\", { method: \"POST\", body: fd })\n                ).json();\n                if (resp.resp) {\n                  setUsernameModelIsOpen(false);\n                } else {\n                  seterror(resp.err);\n                }\n              } else {\n                seterror(\"input a username and password!\");\n              }\n              setuploading(false);\n            } }\n          >\n            Username\n            <div\n              style={ {\n                border: \"solid 1px gray\",\n                backgroundColor: \"var(--dark-mode)\",\n                borderRadius: \"5px\",\n                width: \"100%\",\n              } }\n            >\n              <input\n                onInput={ (e: any) => {\n                  e.target.value = e.target.value.trimStart();\n                  if (e.target.value.length > 30) {\n                    e.target.value = e.target.value.substring(0, 30);\n                  }\n                } }\n                style={ {\n                  color: \"white\",\n                  backgroundColor: \"transparent\",\n                  border: \"none\",\n                  borderRight: \"solid 1px white\",\n                  borderRadius: \"0px\",\n                } }\n                placeholder=\"Username\"\n                autoComplete=\"new-password\"\n                type=\"text\"\n                defaultValue={ user.username }\n              ></input>\n              <span\n                style={ {\n                  color: \"lightgray\",\n                  padding: \"0 1rem\",\n                  float: \"right\",\n                } }\n              >\n                #{ user.tag }\n              </span>\n            </div>\n            <input\n              style={ {\n                width: \"100%\",\n                color: \"white\",\n                backgroundColor: \"var(--dark-mode)\",\n                border: \"solid 1px gray\",\n                borderRadius: \"5px\",\n              } }\n              placeholder=\"Current Password\"\n              autoComplete=\"new-password\"\n              type=\"password\"\n            />\n            <p style={ { color: \"red\" } }>{ error }</p>\n            { !uploading ? (\n              <button\n                style={ {\n                  float: \"right\",\n                  marginTop: \"1rem\",\n                  color: \"white\",\n                  backgroundColor: \"var(--dark-bg-colour)\",\n                  border: \"solid 2px var(--light-bg-colour)\",\n                  borderRadius: \"5px\",\n                } }\n                type=\"submit\"\n              >\n                Save\n              </button>\n            ) : (\n              <></>\n            ) }\n          </form>\n        </Modal>\n\n        <p style={ {\n          fontSize: \"13px\",\n          marginBottom: \"1rem !important\",\n        } }>By having a TypeChat account, you agree to the <a href=\"/t&c\" target=\"blank_\" style={ { color: \"var(--secondary-text-colour)\" } }>T & C's</a></p>\n      </div>\n    </div>\n  );\n}\n\nexport default UserSettings;\n","const snooze = (milliseconds: number) =>\n  new Promise((resolve) => setTimeout(resolve, milliseconds));\nexport default snooze;\n","import { faExclamationTriangle } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport playSound from \"../playsound\";\nimport errordataurl from \"../errordataurl.json\";\n\nfunction LoadError({ error }: { error: String }) {\n  useEffect(() => {\n    playSound(errordataurl);\n  }, []);\n\n  useEffect(() => {\n    document.title = `Error - TypeChat`;\n    return () => {\n      document.title = \"TypeChat\";\n    };\n  }, []);\n  return (\n    <div\n      style={{\n        position: \"absolute\",\n        top: \"50%\",\n        left: \"50%\",\n        transform: \"translate(-50%, -50%)\",\n        textAlign: \"center\",\n        color: \"red\",\n      }}\n    >\n      <div style={{ fontSize: \"50px\" }}>\n        <FontAwesomeIcon icon={faExclamationTriangle} />\n      </div>\n      <h1>ERROR</h1>\n      <p>{error}</p>\n      <p>\n        go to the{\" \"}\n        <span>\n          <Link to=\"/\" style={{ color: \"var(--secondary-text-colour)\" }}>\n            Home Page\n          </Link>\n          !\n        </span>\n      </p>\n    </div>\n  );\n}\n\nexport default LoadError;\n","import { useEffect, useState } from \"react\";\nimport { useData } from \"../hooks/datahook\";\nimport ColorThief from \"colorthief\";\nimport { Link, Redirect, useHistory } from \"react-router-dom\";\nimport useApi from \"../hooks/useapi\";\nimport Loader from \"./loader\";\nimport LoadError from \"./error\";\nimport { useRef } from \"react\";\nimport \"./css/contacts.css\";\nimport Modal from \"react-modal\";\nimport ProfilePage from \"./profilePage\";\nimport playSound from \"../playsound\";\nimport useLocalStorage from \"../hooks/useLocalStorage\";\nimport Badge from \"./badges\";\nimport ReactGA from \"react-ga4\";\nimport { Swiper, SwiperSlide } from \"swiper/react\";\nimport \"swiper/swiper-bundle.min.css\";\nimport \"swiper/swiper.min.css\";\nimport SwiperCore, {\n  Pagination,\n  Mousewheel,\n  Virtual,\n  EffectCoverflow,\n  Navigation\n} from \"swiper\";\n\nSwiperCore.use([Pagination, Mousewheel, Virtual, EffectCoverflow, Navigation]);\n\nconst colorThief = new ColorThief();\n\nfunction Contact({\n  user,\n}: {\n  user: {\n    profilePic: string;\n    username: string;\n    id: string;\n    tag: string;\n    backgroundImage: string | null;\n\n    badges: { name: string }[];\n    aboutme: string;\n    [key: string]: any;\n  };\n}) {\n  const [backgroundcolour, setbackgroundcolour] = useState({\n    r: 86,\n    g: 86,\n    b: 255,\n  });\n  const history = useHistory();\n  const holdref = useRef<any>();\n  const [UserModelIsOpen, setUserModelIsOpen] = useState(false);\n  return (\n    <>\n      <div\n        data-private\n        onPointerDown={(e: any) => {\n          holdref.current = setTimeout(() => {\n            holdref.current = undefined;\n            playSound(\"/sounds/click1.mp3\");\n            setUserModelIsOpen(true);\n          }, 500);\n          playSound(\"/sounds/click2.mp3\");\n        }}\n        onTouchMove={() => {\n          if (holdref.current) {\n            clearInterval(holdref.current);\n            holdref.current = undefined;\n          }\n        }}\n        onClick={() => {\n          if (holdref.current) {\n            clearInterval(holdref.current);\n            playSound(\"/sounds/click1.mp3\");\n            history.push(`/chat/${user.id}`);\n          }\n        }}\n        style={{\n          backgroundImage: user.backgroundImage\n            ? `url(/files/${user.backgroundImage})`\n            : \"\",\n          backgroundColor: `rgb(${backgroundcolour.r}, ${backgroundcolour.g}, ${backgroundcolour.b})`,\n          padding: \"1rem\",\n          marginBottom: \"1rem\",\n          backgroundRepeat: user.backgroundImage ? \"no-repeat\" : undefined,\n          backgroundSize: user.backgroundImage ? \"cover\" : undefined,\n          backgroundPosition: user.backgroundImage ? \"center\" : undefined,\n          borderRadius: \"10px\",\n          textOverflow: \"ellipsis\",\n          overflow: \"hidden\",\n          whiteSpace: \"nowrap\",\n          cursor: \"pointer\",\n\n          minHeight: \"82px\",\n        }}\n        className={\"contactbutton noselect\"}\n      >\n        <div\n          style={{\n            display: \"flex\",\n            alignItems: \"center\",\n            flexWrap: \"wrap\",\n            flexDirection: \"row\",\n          }}\n        >\n          <img\n            alt=\"profile\"\n            loading=\"lazy\"\n            src={\"/files/\" + user.profilePic}\n            style={{\n              maxHeight: \"50px\",\n              maxWidth: \"100%\",\n              height: \"auto\",\n              width: \"auto\",\n              borderRadius: \"50%\",\n            }}\n            onLoad={(e: any) => {\n              const resp = colorThief.getColor(e.target);\n              setbackgroundcolour({ r: resp[0], g: resp[1], b: resp[2] });\n            }}\n          />\n          <span\n            style={{\n              color: \"white\",\n              WebkitTextStroke: \"1px black\",\n              fontWeight: \"bold\",\n              fontSize: \"20px\",\n              marginLeft: \"5px\",\n            }}\n          >\n            {user.username}\n          </span>\n        </div>\n        <Badge badges={user.badges} side=\"flex-end\" size=\"25px\"></Badge>\n      </div>\n      <Modal\n        isOpen={UserModelIsOpen}\n        onRequestClose={() => {\n          setUserModelIsOpen(false);\n        }}\n        style={{\n          overlay: {\n            backgroundColor: \"rgb(18 18 18 / 50%)\",\n            zIndex: 10,\n          },\n          content: {\n            backgroundColor: \"transparent\",\n            zIndex: 11,\n            border: \"none\",\n            top: \"50%\",\n            left: \"50%\",\n            right: \"auto\",\n            bottom: \"auto\",\n            marginRight: \"-50%\",\n            padding: undefined,\n            transform: \"translate(-50%, -50%)\",\n            width: \"75%\",\n            maxWidth: \"750px\",\n\n            maxHeight: \"500px\",\n          },\n        }}\n        contentLabel=\"Username Change\"\n      >\n        <ProfilePage user={user}></ProfilePage>\n      </Modal>\n    </>\n  );\n}\n\nfunction Groups() {\n  return (\n    <div\n      style={{\n        margin: \"1rem 0\",\n      }}\n    >\n      <div\n        style={{\n          margin: \"auto\",\n          borderRadius: \"10px\",\n          padding: \"1rem\",\n          maxWidth: \"700px\",\n        }}\n      >\n        <h1 style={{ textAlign: \"center\", WebkitTextStroke: \"1px black\" }}>\n          Groups coming soon!\n        </h1>\n      </div>\n    </div>\n  );\n}\n\nfunction Contacts() {\n  const { loggedin } = useData();\n  const { data, loading, error } = useApi<any>(\"/api/getallcontacts\");\n  const [search, setsearch] = useState(\"\");\n  const [localcontacts, setlocalcontacts] = useLocalStorage<undefined | any>(\n    \"contacts\",\n    undefined\n  );\n  const contactsRef = useRef<any>();\n  const elDistanceToTop = contactsRef.current\n    ? window.pageYOffset + contactsRef.current.getBoundingClientRect().top\n    : 0;\n  useEffect(() => {\n    document.documentElement.scrollTop = 0;\n  }, []);\n  useEffect(() => {\n    if (data && data.contacts) {\n      setlocalcontacts(data.contacts);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [data]);\n  if (!loggedin) {\n    return <Redirect to=\"/\"></Redirect>;\n  }\n  return (loading || error) && !localcontacts ? (\n    error ? (\n      <LoadError error={String(error)}></LoadError>\n    ) : (\n      <Loader></Loader>\n    )\n  ) : (\n    <div\n      style={{\n        margin: \"1rem 0\",\n      }}\n    >\n      <div\n        style={{\n          margin: \"auto\",\n          borderRadius: \"10px\",\n          padding: \"1rem 2rem\",\n          maxWidth: \"700px\",\n        }}\n      >\n        <h1 style={{ textAlign: \"center\", WebkitTextStroke: \"1px black\" }}>\n          Contacts\n        </h1>\n        <div>\n          {localcontacts || data.resp ? (\n            (data && data.contacts.length > 0) ||\n            (localcontacts && localcontacts.length > 0) ? (\n              <>\n                <input\n                  data-private\n                  type=\"text\"\n                  style={{\n                    width: \"100%\",\n                    backgroundColor: \"var(--dark-bg-colour)\",\n                    padding: \"5px\",\n                    borderRadius: \"20px\",\n                    border: \"solid 1px var(--light-bg-colour)\",\n                    color: \"white\",\n                  }}\n                  placeholder={\"search contacts\"}\n                  onKeyUp={(e: any) => {\n                    setsearch(e.target.value.trim());\n                  }}\n                ></input>\n                <div\n                  ref={contactsRef}\n                  style={{\n                    maxHeight: \"calc(100vh - \" + elDistanceToTop + \"px)\",\n                    padding: \"1rem\",\n                    overflowY: \"auto\",\n                  }}\n                >\n                  {(data ? data.contacts : localcontacts).map(\n                    (contact: any, i: number) =>\n                      (contact.username + \"#\" + contact.tag)\n                        .toUpperCase()\n                        .includes(search.toUpperCase()) ? (\n                        <Contact user={contact} key={contact.id}></Contact>\n                      ) : (\n                        <></>\n                      )\n                  )}\n                </div>\n              </>\n            ) : (\n              <p style={{ textAlign: \"center\" }}>\n                You have no contacts,{\" \"}\n                <span>\n                  <Link\n                    style={{ color: \"var(--secondary-text-colour)\" }}\n                    to=\"/add\"\n                  >\n                    add people\n                  </Link>\n                </span>{\" \"}\n                or wait for them to add you back!\n              </p>\n            )\n          ) : (\n            <p style={{ color: \"red\", textAlign: \"center\" }}>{data.err}</p>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction SwiperPages() {\n  const { navbarsize } = useData();\n  const [contactsShow, setcontactsShow] = useState(true);\n  useEffect(() => {\n    ReactGA.event({\n      category: \"contacts\",\n      action: \"open contacts\",\n    });\n    document.title = `Contacts - TypeChat`;\n    return () => {\n      document.title = \"TypeChat\";\n    };\n  }, []);\n  return (\n    <>\n      <Swiper\n        effect={\"coverflow\"}\n        navigation\n        pagination\n        direction=\"horizontal\"\n        mousewheel={{\n          forceToAxis: true,\n        }}\n        coverflowEffect={{\n          rotate: 50,\n          stretch: 0,\n          depth: 100,\n          modifier: 1,\n          slideShadows: false,\n        }}\n        virtual\n        style={{\n          height: `calc(100vh - ${navbarsize.height}px)`,\n          overflow: \"hidden\",\n        }}\n        onSlideChangeTransitionEnd={(e) => {\n          if (e.activeIndex !== 0) {\n            setcontactsShow(false);\n          }\n        }}\n        onSlideChangeTransitionStart={()=>{\n          setcontactsShow(true);\n        }}\n      >\n        <SwiperSlide virtualIndex={0}>\n          {contactsShow? <Contacts />: <></>}\n        </SwiperSlide>\n        <SwiperSlide virtualIndex={1}>\n          <Groups />\n        </SwiperSlide>\n      </Swiper>\n    </>\n  );\n}\n\nexport default SwiperPages;\n","import { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport useApi from \"../hooks/useapi\";\nimport ColorThief from \"colorthief\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faUserPlus } from \"@fortawesome/free-solid-svg-icons\";\nimport Loader from \"./loader\";\nimport { useHistory } from \"react-router-dom\";\nimport { useData } from \"../hooks/datahook\";\nimport Background from \"./CustomBackground\";\n\nconst colorThief = new ColorThief();\n\nfunction UserListing({\n  user,\n  setloading,\n}: {\n  user: {\n    profilePic: string;\n    username: string;\n    id: string;\n    tag: string;\n    backgroundImage: string | null;\n    [key: string]: any;\n  };\n  setloading: Function;\n}) {\n  const [backgroundcolour, setbackgroundcolour] = useState({\n    r: 86,\n    g: 86,\n    b: 255,\n  });\n  const history = useHistory();\n  return (\n    <div\n      style={{\n        backgroundImage: user.backgroundImage\n          ? `url(/files/${user.backgroundImage})`\n          : \"\",\n        backgroundColor: `rgb(${backgroundcolour.r}, ${backgroundcolour.g}, ${backgroundcolour.b})`,\n        padding: \"1rem\",\n        backgroundRepeat: user.backgroundImage ? \"no-repeat\" : \"\",\n        backgroundSize: user.backgroundImage ? \"cover\" : \"\",\n        borderRadius: \"10px\",\n        border: \"solid 1px var(--light-bg-colour)\",\n        margin: \"1rem\",\n        backgroundPosition: user.backgroundImage ? \"center\" : \"\",\n        textOverflow: \"ellipsis\",\n        overflow: \"hidden\",\n        whiteSpace: \"nowrap\",\n      }}\n    >\n      <img\n        alt=\"profile\"\n        loading=\"lazy\"\n        src={\"/files/\" + user.profilePic}\n        style={{\n          maxHeight: \"75px\",\n          maxWidth: \"100%\",\n          height: \"auto\",\n          width: \"auto\",\n          borderRadius: \"50%\",\n        }}\n        onLoad={async (e: any) => {\n          const resp = colorThief.getColor(e.target);\n          setbackgroundcolour({ r: resp[0], g: resp[1], b: resp[2] });\n        }}\n      />\n      <span>\n        <span\n          style={{\n            color: \"white\",\n            WebkitTextStroke: \"1px black\",\n            fontWeight: \"bold\",\n            fontSize: \"20px\",\n            marginLeft: \"5px\",\n          }}\n        >\n          {user.username}\n          <span\n            style={{\n              color: \"lightgray\",\n              fontWeight: \"normal\",\n            }}\n          >\n            #{user.tag}\n          </span>\n        </span>\n      </span>\n      <div\n        style={{\n          float: \"right\",\n          background: \"var(--main-bg-colour)\",\n          padding: \"5px\",\n          borderRadius: \"10px\",\n          cursor: \"pointer\",\n        }}\n        onClick={async () => {\n          setloading(true);\n          const formdata = new FormData();\n          formdata.append(\"user\", user.id);\n          const resp = await (\n            await fetch(\"/api/frienduserfromid\", {\n              method: \"POST\",\n              body: formdata,\n            })\n          ).json();\n          if (resp.friends) {\n            history.push(`/chat/${user.id}`);\n          } else {\n            history.push(`/contacts`);\n          }\n          setloading(false);\n        }}\n      >\n        <FontAwesomeIcon icon={faUserPlus}></FontAwesomeIcon>\n      </div>\n    </div>\n  );\n}\n\nfunction AddPeople() {\n  const [search, setsearch] = useState(\"\");\n  const { loggedin } = useData();\n  const { data, setData } = useApi<any>(\n    search\n      ? \"/api/searchusers?\" + new URLSearchParams({ q: search }).toString()\n      : null\n  );\n  const { data: friendrequests } = useApi<any>(\"/api/getallfriendrequests\");\n  const history = useHistory();\n  const [loading, setloading] = useState(false);\n  useEffect(() => {\n    if (!search) setData(undefined);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [search]);\n\n  useEffect(() => {\n    document.title = `Add - TypeChat`;\n    return () => {\n      document.title = \"TypeChat\";\n    };\n  }, []);\n  if (!loggedin) {\n    history.push(\"/\");\n  }\n  return loading ? (\n    <Loader></Loader>\n  ) : (\n    <div\n      style={{\n        margin: \"1rem\",\n      }}\n    >\n      <Background />\n      <div\n        style={{\n          margin: \"auto\",\n          border: \"solid 1px var(--light-bg-colour)\",\n          borderRadius: \"10px\",\n          backgroundColor: \"var(--dark-bg-colour)\",\n          padding: \"1rem\",\n          maxWidth: \"700px\",\n        }}\n      >\n        {/*\n        <h1 style={ { textAlign: \"center\" } }>Add</h1>\n        <div\n          style={ {\n            maxWidth: \"250px\",\n            textAlign: \"center\",\n            margin: \"1rem auto\",\n            border: \"solid 1px var(--light-bg-colour)\",\n            padding: \"1rem\",\n            borderRadius: \"10px\",\n          } }\n        >\n          { user ? (\n            <QRCode\n              value={ user.id }\n              style={ { width: \"100%\", height: undefined } }\n            />\n          ) : (\n            <></>\n          ) }\n          <p>add people with your QR Code</p>\n          <QrReader\n            delay={ 300 }\n            onError={ console.error }\n            onScan={ async (scan) => {\n              if (scan) {\n                setloading(true);\n                const formdata = new FormData();\n                formdata.append(\"user\", scan);\n                const resp = await (\n                  await fetch(\"/api/frienduserfromid\", {\n                    method: \"POST\",\n                    body: formdata,\n                  })\n                ).json();\n                if (resp.friends) {\n                  history.push(`/chat/${scan}`);\n                } else {\n                  history.push(`/contacts`);\n                }\n                setloading(false);\n              }\n            } }\n            style={ { width: \"100%\" } }\n          />\n          </div>*/}\n        <div\n          style={{\n            maxWidth: \"500px\",\n            textAlign: \"center\",\n            margin: \"1rem auto\",\n            border: \"solid 1px var(--light-bg-colour)\",\n            padding: \"1rem\",\n            borderRadius: \"10px\",\n          }}\n        >\n          <h2>Friend Requests</h2>\n          <div>\n            {friendrequests ? (\n              friendrequests.resp ? (\n                friendrequests.friendrequests.length > 0 ? (\n                  <div>\n                    <p style={{ textAlign: \"end\" }}>\n                      {friendrequests.friendrequests.length} friend request\n                      {friendrequests.friendrequests.length === 1 ? \"\" : \"s\"}\n                    </p>\n                    {friendrequests.friendrequests.map(\n                      (\n                        value: {\n                          profilePic: string;\n                          username: string;\n                          id: string;\n                          tag: string;\n                          backgroundImage: string | null;\n                          [key: string]: any;\n                        },\n                        index: number\n                      ) => (\n                        <UserListing\n                          user={value}\n                          setloading={setloading}\n                          key={value.id}\n                        />\n                      )\n                    )}\n                  </div>\n                ) : (\n                  <p>You have no friend requests!</p>\n                )\n              ) : (\n                <p style={{ color: \"red\", textAlign: \"center\" }}>\n                  An Error Occured\n                </p>\n              )\n            ) : (\n              <p style={{ textAlign: \"center\" }}>loading...</p>\n            )}\n          </div>\n        </div>\n        <div\n          style={{\n            maxWidth: \"500px\",\n            textAlign: \"center\",\n            margin: \"1rem auto\",\n            border: \"solid 1px var(--light-bg-colour)\",\n            padding: \"1rem\",\n            borderRadius: \"10px\",\n          }}\n        >\n          <h2>Search Users</h2>\n          <input\n            type=\"text\"\n            style={{\n              width: \"100%\",\n              backgroundColor: \"var(--dark-bg-colour)\",\n              padding: \"5px\",\n              borderRadius: \"20px\",\n              border: \"solid 1px var(--light-bg-colour)\",\n              color: \"white\",\n            }}\n            placeholder={\"search users\"}\n            onKeyUp={(e: any) => {\n              setsearch(e.target.value.trim());\n            }}\n          ></input>\n          <div>\n            {data && search ? (\n              data.resp ? (\n                data.data.length > 0 ? (\n                  <div>\n                    <p style={{ textAlign: \"end\" }}>\n                      {data.data.length} result\n                      {data.data.length === 1 ? \"\" : \"s\"} found!\n                    </p>\n                    {data.data.map(\n                      (\n                        value: {\n                          profilePic: string;\n                          username: string;\n                          id: string;\n                          tag: string;\n                          backgroundImage: string | null;\n                          [key: string]: any;\n                        },\n                        index: number\n                      ) => (\n                        <UserListing\n                          user={value}\n                          setloading={setloading}\n                          key={value.id}\n                        />\n                      )\n                    )}\n                  </div>\n                ) : (\n                  <p>No Results Found!</p>\n                )\n              ) : (\n                <p style={{ color: \"red\", textAlign: \"center\" }}>{data.err}</p>\n              )\n            ) : (\n              <p style={{ textAlign: \"center\" }}>\n                type someones username and tag\n              </p>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default AddPeople;\n","function setIcon(path: string) {\n  const links: any = document.querySelectorAll(\"link[rel~='icon']\");\n  for (let i = 0; i < links.length; i++) {\n    let link = links[i];\n    if (i === 0) {\n      if (!link) {\n        link = document.createElement(\"link\");\n        document.getElementsByTagName(\"head\")[0].appendChild(link);\n      }\n      link.type = \"image/x-icon\";\n      link.rel = \"icon\";\n      link.href = path;\n    } else {\n      link.remove();\n    }\n  }\n}\nexport default setIcon;\n","import { useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport useWebSocket from \"react-use-websocket\";\nimport { useData } from \"./hooks/datahook\";\nimport playSound from \"./playsound\";\nimport useWindowFocus from \"use-window-focus\";\nimport setIcon from \"./setIcons\";\nimport useWindowVisable from \"./hooks/useWindowVisable\";\nfunction NotificationComponent() {\n  const { loggedin, NotificationAPI } = useData();\n  const isFocussed = useWindowFocus();\n  const isVisable = useWindowVisable()\n  const history = useHistory();\n  const { lastJsonMessage, sendJsonMessage } = useWebSocket(\n    `ws${window.location.protocol === \"https:\" ? \"s\" : \"\"}://${!process.env.NODE_ENV || process.env.NODE_ENV === \"development\"\n      ? window.location.hostname + \":5000\"\n      : window.location.host\n    }/notifications`,\n    {\n      shouldReconnect: () => true,\n    },\n    loggedin\n  );\n\n  useEffect(() => {\n    setIcon(\"/favicon.ico\");\n  }, [isFocussed]);\n  useEffect(() => {\n    sendJsonMessage({ type: \"setFocus\", focus: isVisable });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isVisable])\n  useEffect(() => {\n    if (lastJsonMessage) {\n      if (lastJsonMessage.type === \"ping\") {\n        sendJsonMessage({ type: \"pong\" });\n      } else {\n        if (lastJsonMessage.sound !== false) {\n          playSound(\n            lastJsonMessage.sound\n              ? lastJsonMessage.sound\n              : \"/sounds/notification.mp3\"\n          );\n        }\n        if (!isFocussed) {\n          setIcon(\"/favicon notification.ico\");\n        }\n        NotificationAPI(\n          {\n            title: lastJsonMessage.title,\n            message: lastJsonMessage.message,\n            type: \"default\",\n            onRemoval: (_: string, type: any) => {\n              if (type === \"click\") {\n                history.push(lastJsonMessage.to);\n                window.focus();\n              }\n            },\n            insert: \"top\",\n            container: \"top-right\",\n            animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n            animationOut: [\"animate__animated\", \"animate__fadeOut\"],\n            dismiss: {\n              pauseOnHover: true,\n              duration: 5000,\n              onScreen: true,\n            },\n          },\n          () => {\n            history.push(lastJsonMessage.to);\n          }\n        );\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [lastJsonMessage]);\n  return <></>;\n}\nexport default NotificationComponent;\n","import playSound from \"../playsound\";\n\nconst ToggleSwitch = ({\n  children,\n  onChange,\n  defaultChecked,\n  checked,\n}: {\n  children?: string;\n  onChange?: Function;\n  checked?: boolean;\n  defaultChecked?: boolean;\n}) => (\n  <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\n    <div>{children}</div>\n    <label style={{ margin: 0 }} className=\"form-switch noselect\">\n      <input\n        type=\"checkbox\"\n        onChange={(e: any) => {\n          if (onChange instanceof Function) {\n            onChange(e);\n            playSound(`/sounds/click${checked ? 1 : 3}.mp3`);\n          }\n        }}\n        checked={checked}\n        defaultChecked={defaultChecked}\n      />\n      <i></i>\n    </label>\n  </div>\n);\n\nexport default ToggleSwitch;\n","import { useEffect } from \"react\";\nimport useApi from \"../hooks/useapi\";\nimport useLocalStorage from \"../hooks/useLocalStorage\";\nimport Background from \"./CustomBackground\";\nimport ToggleSwitch from \"./switch\";\nimport ReactGA from \"react-ga4\";\nimport { useData } from \"../hooks/datahook\";\n\nfunction Setting({ children }: { children: any }) {\n  return (\n    <div\n      style={{\n        marginBottom: \"1rem\",\n        width: \"100%\",\n        border: \"solid 1px var(--light-bg-colour)\",\n        borderRadius: \"10px\",\n        backgroundColor: \"var(--main-bg-colour)\",\n        padding: \"5px\",\n      }}\n    >\n      {children}\n    </div>\n  );\n}\n\nfunction Settings() {\n  const [soundEffects, setSoundEffects] = useLocalStorage(\n    \"sound effects\",\n    true\n  );\n  const [personaltyping, setpersonaltyping] = useLocalStorage(\n    \"Keyboard Typing Sound\",\n    true\n  );\n  const [Recipienttyping, setRecipienttyping] = useLocalStorage(\n    \"Recipient Typing Sound\",\n    true\n  );\n  const [SendSound, setSendSound] = useLocalStorage(\"Send Sound\", true);\n  const [ReceiveSound, setReceiveSound] = useLocalStorage(\n    \"Receive Sound\",\n    true\n  );\n  const { data: notifications } = useApi<{ discord: boolean; email: boolean }>(\n    \"/api/getNotificationsOn\"\n  );\n  const { loggedin } = useData();\n  const [volume, setVolume] = useLocalStorage(\"volume\", 15);\n  const [discord, setdiscord] = useLocalStorage(\"discord\", true);\n  const [email, setemail] = useLocalStorage(\"email\", true);\n  useEffect(() => {\n    if (notifications) {\n      setdiscord(notifications.discord);\n      setemail(notifications.email);\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [notifications]);\n  useEffect(() => {\n    ReactGA.event({\n      category: \"settings\",\n      action: \"open settings\",\n    });\n  }, []);\n  return (\n    <div\n      style={{\n        margin: \"1rem\",\n      }}\n    >\n      <div\n        style={{\n          margin: \"auto\",\n          border: \"solid 1px var(--light-bg-colour)\",\n          borderRadius: \"10px\",\n          backgroundColor: \"var(--dark-bg-colour)\",\n          padding: \"1rem\",\n          maxWidth: \"700px\",\n        }}\n      >\n        <Background />\n        <h1 style={{ textAlign: \"center\" }}>Settings</h1>\n\n        <div>\n          <Setting>\n            <ToggleSwitch\n              onChange={() => {\n                setSoundEffects(!soundEffects);\n              }}\n              checked={soundEffects}\n            >\n              Sound Effects\n            </ToggleSwitch>\n          </Setting>\n          {soundEffects ? (\n            <div\n              style={{\n                marginBottom: \"1rem\",\n                width: \"100%\",\n                border: \"solid 1px var(--light-bg-colour)\",\n                borderRadius: \"10px\",\n                padding: \"5px\",\n                paddingTop: \"calc(1rem + 5px)\",\n              }}\n            >\n              <Setting>\n                <label\n                  style={{\n                    display: \"flex\",\n                    justifyContent: \"space-between\",\n                    margin: 0,\n                  }}\n                >\n                  <div>Volume {volume * 5}%</div>\n                  <input\n                    type=\"range\"\n                    max=\"20\"\n                    min=\"0\"\n                    value={volume}\n                    onInput={(e: any) => {\n                      setVolume(e.target.value);\n                    }}\n                  ></input>\n                </label>\n              </Setting>\n              <Setting>\n                <ToggleSwitch\n                  onChange={() => {\n                    setpersonaltyping(!personaltyping);\n                  }}\n                  checked={personaltyping}\n                >\n                  Keyboard Typing Sound\n                </ToggleSwitch>\n              </Setting>\n              <Setting>\n                <ToggleSwitch\n                  onChange={() => {\n                    setRecipienttyping(!Recipienttyping);\n                  }}\n                  checked={Recipienttyping}\n                >\n                  Recipient Typing Sound\n                </ToggleSwitch>\n              </Setting>\n              <Setting>\n                <ToggleSwitch\n                  onChange={() => {\n                    setSendSound(!SendSound);\n                  }}\n                  checked={SendSound}\n                >\n                  Send Sound\n                </ToggleSwitch>\n              </Setting>\n              <Setting>\n                <ToggleSwitch\n                  onChange={() => {\n                    setReceiveSound(!ReceiveSound);\n                  }}\n                  checked={ReceiveSound}\n                >\n                  Receive Sound\n                </ToggleSwitch>\n              </Setting>\n            </div>\n          ) : (\n            <></>\n          )}\n          {loggedin ? (\n            <div\n              style={{\n                marginBottom: \"1rem\",\n                width: \"100%\",\n                border: \"solid 1px var(--light-bg-colour)\",\n                borderRadius: \"10px\",\n                padding: \"5px\",\n                paddingTop: \"calc(1rem + 5px)\",\n              }}\n            >\n              <Setting>\n                <ToggleSwitch\n                  onChange={() => {\n                    setdiscord(!discord);\n                    const formdata = new FormData();\n                    formdata.append(\"toggle\", JSON.stringify(!discord));\n                    fetch(\"/api/togglediscord\", {\n                      method: \"POST\",\n                      body: formdata,\n                    });\n                  }}\n                  checked={discord}\n                >\n                  Discord Notifications\n                </ToggleSwitch>\n              </Setting>\n              <Setting>\n                <ToggleSwitch\n                  onChange={() => {\n                    setemail(!email);\n                    const formdata = new FormData();\n                    formdata.append(\"toggle\", JSON.stringify(!email));\n                    fetch(\"/api/toggleemail\", {\n                      method: \"POST\",\n                      body: formdata,\n                    });\n                  }}\n                  checked={email}\n                >\n                  Email Notifications\n                </ToggleSwitch>\n              </Setting>\n            </div>\n          ) : (\n            <></>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Settings;\n","import { useParams } from \"react-router\";\nimport useApi from \"../hooks/useapi\";\nimport Loader from \"./loader\";\n\nfunction Verify() {\n    const { id } = useParams<{ id: string }>();\n    const { data, loading, error } = useApi<{ verified: boolean, user: any }>(`/api/verify/${id}`)\n    return loading || error ? <Loader></Loader> : data?.verified ? <div style={ { textAlign: \"center\" } }><h1>Verified!</h1><p>the account { data?.user.username }#{ data?.user.tag } has been verified!</p></div> : <h1 style={ { textAlign: \"center\" } }>Verification URL invalid!</h1>\n}\n\nexport default Verify","import { Redirect, useParams } from \"react-router\";\nimport { useData } from \"../hooks/datahook\";\nimport useApi from \"../hooks/useapi\";\nimport Loader from \"./loader\";\n\nfunction LinkDiscord() {\n  const { id } = useParams<{ id: string }>();\n  const { loggedin } = useData();\n  const { data, error, loading } = useApi<{ linked: boolean; error?: string }>(\n    loggedin ? `/api/link/${id}` : null\n  );\n  if (!loggedin) {\n    return (\n      <Redirect\n        to={\"/login?\" + new URLSearchParams({ to: `/link/${id}` })}\n      ></Redirect>\n    );\n  }\n  return error || loading ? (\n    <Loader></Loader>\n  ) : (\n    <div style={{ textAlign: \"center\" }}>\n      {data?.linked ? (\n        <>\n          <h1>Account Linked!</h1>\n          <p>you can now close this page</p>\n        </>\n      ) : (\n        <>\n          <h1>Failed to Link</h1>\n          <p>{data?.error}</p>\n        </>\n      )}\n    </div>\n  );\n}\nexport default LinkDiscord;\n","import {\n  faDownload,\n  faPhotoVideo,\n  faPlus,\n  faShare,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { useEffect, useRef } from \"react\";\nimport { Link, Redirect, useParams } from \"react-router-dom\";\nimport { useData } from \"../hooks/datahook\";\nimport useApi from \"../hooks/useapi\";\nimport Background from \"./CustomBackground\";\nimport Loader from \"./loader\";\nimport ReactGA from \"react-ga4\";\nimport Error404 from \"./404\";\n\nfunction downloadURI(url: string, filename: string) {\n  fetch(url)\n    .then((response) => response.blob())\n    .then((blob) => {\n      const link = document.createElement(\"a\");\n      link.href = URL.createObjectURL(blob);\n      link.download = filename;\n      link.click();\n    })\n    .catch(console.error);\n}\n\nfunction FilePreview({\n  id,\n  name,\n  mimetype,\n}: {\n  id: string;\n  name: string;\n  mimetype: string;\n}) {\n  const fname = name.replace(/\\.[^/.]+$/, \"\");\n  const ext = name.substring(name.lastIndexOf(\".\"));\n  return (\n    <Link\n      data-private\n      style={{\n        color: \"white\",\n        textDecoration: \"none\",\n        width: \"100%\",\n        maxWidth: \"150px\",\n      }}\n      to={\"/drive/\" + id}\n    >\n      <div\n        style={{\n          margin: \"5px\",\n          border: \"solid 1px var(--light-bg-colour)\",\n          borderRadius: \"10px\",\n          backgroundColor: \"var(--main-bg-colour)\",\n          padding: \"5px\",\n          cursor: \"pointer\",\n        }}\n      >\n        {!(mimetype && mimetype.startsWith(\"image\")) ? (\n          <div\n            style={{\n              width: \"100%\",\n              height: \"75px\",\n              textAlign: \"center\",\n              borderBottom: \"solid 1px var(--light-bg-colour)\",\n              verticalAlign: \"middle\",\n              lineHeight: \"75px\",\n            }}\n          >\n            <FontAwesomeIcon icon={faPhotoVideo} />\n          </div>\n        ) : (\n          <img\n            src={\"/files/\" + id}\n            alt={name}\n            loading=\"lazy\"\n            style={{ width: \"100%\", borderRadius: \"10px\" }}\n          ></img>\n        )}\n        <div style={{ padding: \"1rem\" }}>\n          <p\n            style={{\n              whiteSpace: \"nowrap\",\n              overflow: \"hidden\",\n              textOverflow: \"ellipsis\",\n            }}\n          >\n            {fname}\n          </p>\n          <span>{ext}</span>\n        </div>\n      </div>\n    </Link>\n  );\n}\n\nfunction Drive() {\n  const fileref = useRef<any>();\n  const { notifications, loggedin } = useData();\n  const { data, setData } =\n    useApi<{ id: string; filename: string; mimetype: string }[]>(\n      \"/api/mydrive\"\n    );\n\n  useEffect(() => {\n    ReactGA.event({\n      category: \"drive\",\n      action: \"open drive\",\n    });\n    document.title = `Drive - TypeChat`;\n    return () => {\n      document.title = \"TypeChat\";\n    };\n  }, []);\n  if (!loggedin) {\n    return (\n      <Redirect\n        to={\"/login?\" + new URLSearchParams({ to: \"/user/drive\" })}\n      ></Redirect>\n    );\n  }\n  return (\n    <div style={{ textAlign: \"center\", padding: \"1rem\" }}>\n      <Background />\n      <h1 style={{ WebkitTextStroke: \"1px black\" }}>My Drive</h1>\n      {data ? (\n        <div\n          style={{\n            margin: \"auto\",\n            border: \"solid 1px var(--light-bg-colour)\",\n            borderRadius: \"10px\",\n            backgroundColor: \"var(--dark-bg-colour)\",\n            padding: \"1rem\",\n            maxWidth: \"700px\",\n          }}\n        >\n          <input\n            type=\"file\"\n            style={{ display: \"none\" }}\n            ref={fileref}\n            onInput={async (e: any) => {\n              if (e.target.files.length > 0) {\n                const file = e.target.files[0];\n                e.target.value = \"\";\n                const formdata = new FormData();\n                formdata.append(\"file\", file);\n                const id = Math.random();\n                notifications.addNotification({\n                  title: \"File\",\n                  message: \"Uploading...\",\n                  type: \"warning\",\n                  insert: \"top\",\n                  id,\n                  container: \"top-right\",\n                  animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n                  animationOut: [\"animate__animated\", \"animate__fadeOut\"],\n                });\n                try {\n                  const resp = await (\n                    await fetch(\"/api/uploadfile\", {\n                      method: \"POST\",\n                      body: formdata,\n                    })\n                  ).json();\n                  if (resp.resp) {\n                    notifications.removeNotification(id);\n                    setData(\n                      (\n                        data: {\n                          id: string;\n                          filename: string;\n                          mimetype: string;\n                        }[]\n                      ) =>\n                        [\n                          {\n                            id: resp.id,\n                            filename: file.name,\n                            mimetype: file.type,\n                          },\n                        ].concat(data)\n                    );\n                  } else {\n                    notifications.removeNotification(id);\n                    notifications.addNotification({\n                      title: \"Upload Error\",\n                      message: resp.err,\n                      type: \"danger\",\n                      insert: \"top\",\n                      container: \"top-right\",\n                      animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n                      animationOut: [\"animate__animated\", \"animate__fadeOut\"],\n                    });\n                  }\n                  console.log(resp);\n                } catch (e) {\n                  notifications.removeNotification(id);\n                  notifications.addNotification({\n                    title: \"Upload Error\",\n                    message: String(e),\n                    type: \"danger\",\n                    insert: \"top\",\n                    container: \"top-right\",\n                    animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n                    animationOut: [\"animate__animated\", \"animate__fadeOut\"],\n                  });\n                }\n              }\n            }}\n          />\n\n          <button\n            style={{\n              marginRight: \"5px\",\n              backgroundColor: \"var(--dark-bg-colour)\",\n              padding: \"5px\",\n              borderRadius: \"20px\",\n              border: \"solid 1px var(--light-bg-colour)\",\n              color: \"white\",\n              textAlign: \"center\",\n            }}\n            onClick={() => {\n              if (fileref.current) fileref.current.click();\n            }}\n          >\n            <FontAwesomeIcon icon={faPlus} /> add file\n          </button>\n          <div\n            style={{\n              display: \"flex\",\n              justifyContent: \"space-around\",\n              alignItems: \"center\",\n              flexDirection: \"row\",\n              flexWrap: \"wrap\",\n              alignContent: \"center\",\n            }}\n          >\n            {data.map((value) => (\n              <FilePreview\n                key={value.id}\n                mimetype={value.mimetype}\n                id={value.id}\n                name={value.filename}\n              ></FilePreview>\n            ))}\n          </div>\n        </div>\n      ) : (\n        <Loader></Loader>\n      )}\n    </div>\n  );\n}\n\nfunction Image() {\n  const { id } = useParams<{ id: string }>();\n  const { data, error } = useApi<{\n    id: string;\n    filename: string;\n    mimetype: string;\n  }>(\"/api/getimagedata?\" + new URLSearchParams({ id }));\n  const mimetype = data?.mimetype;\n  const file = data?.id;\n  useEffect(() => {\n    ReactGA.event({\n      category: \"drive\",\n      action: \"open drive file\",\n      label: id,\n    });\n    if (data) {\n      document.title = `${data.filename} - TypeChat`;\n    }\n    return () => {\n      document.title = \"TypeChat\";\n    };\n  }, [data, id]);\n  return data ? (\n    <div style={{ margin: \"1rem\" }}>\n      <div\n        style={{\n          margin: \"1rem auto\",\n          border: \"solid 1px var(--light-bg-colour)\",\n          borderRadius: \"10px\",\n          backgroundColor: \"var(--dark-bg-colour)\",\n          padding: \"1rem\",\n          maxWidth: \"700px\",\n        }}\n      >\n        <h1 data-private>{data.filename}</h1>\n        <div\n          onClick={() => {\n            navigator.clipboard.writeText(\"https://tchat.us.to/drive/\" + file);\n            alert(\"Copied share link to clipboard.\");\n          }}\n          style={{\n            color: \"var(--secondary-text-colour)\",\n            cursor: \"pointer\",\n            fontSize: \"25px\",\n          }}\n        >\n          <FontAwesomeIcon icon={faShare}></FontAwesomeIcon> Share\n        </div>\n        <div\n          onClick={() => {\n            navigator.clipboard.writeText(\"https://tchat.us.to/files/\" + file);\n            alert(\"Copied media source to clipboard.\");\n          }}\n          style={{\n            color: \"var(--secondary-text-colour)\",\n            cursor: \"pointer\",\n            fontSize: \"25px\",\n          }}\n        >\n          <FontAwesomeIcon icon={faPhotoVideo}></FontAwesomeIcon> Copy Source\n        </div>\n        <div\n          onClick={() => {\n            downloadURI(\"/files/\" + file, data.filename);\n          }}\n          style={{\n            color: \"var(--secondary-text-colour)\",\n            cursor: \"pointer\",\n            fontSize: \"25px\",\n          }}\n        >\n          <FontAwesomeIcon icon={faDownload}></FontAwesomeIcon> Download\n        </div>\n        <div\n          style={{\n            height: \"1px\",\n            backgroundColor: \"var(--light-bg-colour)\",\n            width: \"100%\",\n            margin: \"1rem 0\",\n          }}\n        ></div>\n        <div data-private>\n          {mimetype ? (\n            mimetype.split(\"/\")[0] === \"image\" ? (\n              <img\n                alt={file}\n                src={`/files/${file}`}\n                style={{ width: \"100%\", borderRadius: \"20px\" }}\n                loading=\"lazy\"\n              ></img>\n            ) : mimetype.split(\"/\")[0] === \"video\" ? (\n              <video\n                src={`/files/${file}`}\n                style={{ width: \"100%\" }}\n                controls\n                playsInline\n              ></video>\n            ) : mimetype.split(\"/\")[0] === \"audio\" ? (\n              <audio\n                src={`/files/${file}`}\n                style={{ width: \"100%\" }}\n                controls\n                playsInline\n              ></audio>\n            ) : (\n              <p>No Preview!</p>\n            )\n          ) : (\n            <p>No Preview!</p>\n          )}\n        </div>\n      </div>\n    </div>\n  ) : error ? (\n    <Error404></Error404>\n  ) : (\n    <Loader></Loader>\n  );\n}\n\nconst exports = { Drive, Image };\nexport default exports;\n","import { useData } from \"../hooks/datahook\";\nimport { useState } from \"react\";\nimport Loader from \"./loader\";\nimport { useHistory, useLocation, useParams } from \"react-router-dom\";\nimport logo from \"../images/logos/TS.svg\";\nimport { RouterForm } from \"./RouterForm\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faKey } from \"@fortawesome/free-solid-svg-icons\";\nimport { parse } from \"querystring\";\nimport { GoogleReCaptcha } from \"react-google-recaptcha-v3\";\n\nfunction validateEmail(email: string) {\n  const re =\n    /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n  return re.test(String(email).toLowerCase());\n}\n\nfunction ChangePassword() {\n  const [error, seterror] = useState(\"\");\n  const history = useHistory();\n  const { id } = useParams<{ id: string }>();\n  const [recapToken, setRecapToken] = useState<null | string>(null);\n  const [loading, setloading] = useState(false);\n  return (\n    <>\n      <div style={ { display: loading ? \"\" : \"none\" } }>\n        <Loader></Loader>\n      </div>\n      <div\n        style={ {\n          margin: \"5rem 0\",\n          textAlign: \"center\",\n          display: !loading ? \"\" : \"none\",\n        } }\n      >\n        <img\n          src={ logo }\n          alt=\"logo\"\n          style={ { width: \"150px\", borderRadius: \"10px\" } }\n        ></img>\n        <h1\n          style={ {\n            fontSize: \"20px\",\n            fontFamily: \"'Source Sans Pro', sans-serif\",\n          } }\n        >\n          <FontAwesomeIcon icon={ faKey }></FontAwesomeIcon> Set Password\n        </h1>\n        <div>\n          <RouterForm\n            action={ \"/api/changepassword\" }\n            beforecallback={ () => {\n              if (recapToken) {\n                setloading(true);\n                return true;\n              } else {\n                seterror(\"waiting for recaptcha token... try again later.\");\n              }\n            } }\n            appendtoformdata={ (fd) => {\n              fd.append(\"updateID\", id);\n              if (recapToken) fd.append(\"g-recaptcha-response\", recapToken);\n              return fd;\n            } }\n            style={ { width: \"fit-content\", margin: \"auto\", maxWidth: \"300px\" } }\n            callback={ (resp: boolean) => {\n              setloading(false);\n              if (resp) {\n                history.push(\"/login\");\n              } else {\n                seterror(\n                  \"failed to change password, maybe the update password key has reset.\"\n                );\n              }\n            } }\n          >\n            <GoogleReCaptcha\n              onVerify={ (token) => {\n                setRecapToken(token);\n              } }\n            />\n            <p\n              style={ {\n                textAlign: \"end\",\n                margin: \"0\",\n              } }\n            >\n              Password\n            </p>\n            <input\n              type=\"password\"\n              placeholder=\"Password\"\n              name=\"pass\"\n              style={ {\n                background: \"transparent\",\n                borderTop: \"none\",\n                borderRight: \"none\",\n                borderBottom: \"1px solid white\",\n                borderLeft: \"none\",\n                borderImage: \"initial\",\n                marginBottom: \"1rem\",\n                width: \"100%\",\n                paddingBottom: \"0.5rem\",\n                fontFamily: \"'Source Sans Pro', sans-serif\",\n                fontSize: \"17px\",\n                color: \"white\",\n                borderRadius: \"0px\",\n              } }\n            />\n            <input\n              type=\"submit\"\n              value=\"Change Password\"\n              style={ {\n                padding: \"1rem\",\n                width: \"100%\",\n                border: \"none\",\n                borderRadius: \"50px\",\n                background:\n                  \"linear-gradient(45deg, var(--dark-bg-colour) 0%, var(--light-bg-colour) 100%)\",\n                color: \"white\",\n                fontFamily: '\"Source Sans Pro\", sans-serif',\n                fontSize: \"20px\",\n                boxShadow: \"rgb(0, 0, 0) 0px 6px 5px 0px\",\n              } }\n            />\n            <p style={ { margin: \"1rem 0\", color: \"red\" } }>{ error }</p>\n          </RouterForm>\n        </div>\n      </div>\n    </>\n  );\n}\n\nfunction RequestNewPassword() {\n  const { loggedin } = useData();\n  const [error, seterror] = useState(\"\");\n  const history = useHistory();\n  const [loading, setloading] = useState(false);\n  const location = useLocation();\n  const query: { [key: string]: string | string[] } = parse(\n    location.search.slice(1)\n  );\n  const [recapToken, setRecapToken] = useState<null | string>(null);\n  const redirect = query.to\n    ? Array.isArray(query.to)\n      ? query.to[0]\n      : query.to\n    : \"/\";\n  if (loggedin) {\n    history.push(redirect);\n    return <></>;\n  }\n  return (\n    <>\n      <div style={ { display: loading ? \"\" : \"none\" } }>\n        <Loader></Loader>\n      </div>\n      <div\n        style={ {\n          margin: \"5rem 0\",\n          textAlign: \"center\",\n          display: !loading ? \"\" : \"none\",\n        } }\n      >\n        <img\n          src={ logo }\n          alt=\"logo\"\n          style={ { width: \"150px\", borderRadius: \"10px\" } }\n        ></img>\n        <h1\n          style={ {\n            fontSize: \"20px\",\n            fontFamily: \"'Source Sans Pro', sans-serif\",\n          } }\n        >\n          <FontAwesomeIcon icon={ faKey }></FontAwesomeIcon> Change Password\n        </h1>\n        <div>\n          <RouterForm\n            action={ \"/api/requestnewpassword\" }\n            beforecallback={ (e: any) => {\n              if (recapToken) {\n                if (e.target[0].value !== \"\") {\n                  if (validateEmail(e.target[0].value)) {\n                    setloading(true);\n                    return true;\n                  } else {\n                    seterror(\"input a valid email!\");\n                  }\n                } else {\n                  seterror(\"input a profile, username, email and password!\");\n                }\n              } else {\n                seterror(\"waiting for recaptcha token... try again later.\");\n              }\n            } }\n            appendtoformdata={ (fd) => {\n              if (recapToken) fd.append(\"g-recaptcha-response\", recapToken);\n              return fd;\n            } }\n            style={ { width: \"fit-content\", margin: \"auto\", maxWidth: \"300px\" } }\n            callback={ () => {\n              history.push(\"/login\");\n            } }\n          >\n            <GoogleReCaptcha\n              onVerify={ (token) => {\n                setRecapToken(token);\n              } }\n            />\n            <p\n              style={ {\n                textAlign: \"end\",\n                margin: \"0\",\n              } }\n            >\n              Email\n            </p>{ \" \" }\n            <input\n              type=\"email\"\n              placeholder=\"Email\"\n              name=\"email\"\n              style={ {\n                background: \"transparent\",\n                borderTop: \"none\",\n                borderRight: \"none\",\n                borderBottom: \"1px solid white\",\n                borderLeft: \"none\",\n                borderImage: \"initial\",\n                marginBottom: \"1rem\",\n                width: \"100%\",\n                paddingBottom: \"0.5rem\",\n                fontFamily: \"'Source Sans Pro', sans-serif\",\n                fontSize: \"17px\",\n                color: \"white\",\n                borderRadius: \"0px\",\n              } }\n              autoComplete=\"new-password\"\n            />\n            <input\n              type=\"submit\"\n              value=\"Request New Password\"\n              style={ {\n                padding: \"1rem\",\n                width: \"100%\",\n                border: \"none\",\n                borderRadius: \"50px\",\n                background:\n                  \"linear-gradient(45deg, var(--dark-bg-colour) 0%, var(--light-bg-colour) 100%)\",\n                color: \"white\",\n                fontFamily: '\"Source Sans Pro\", sans-serif',\n                fontSize: \"20px\",\n                boxShadow: \"rgb(0, 0, 0) 0px 6px 5px 0px\",\n              } }\n            />\n            <p style={ { margin: \"1rem 0\", color: \"red\" } }>{ error }</p>\n          </RouterForm>\n        </div>\n      </div>\n    </>\n  );\n}\n\nconst exports = { RequestNewPassword, ChangePassword };\n\nexport default exports;\n","export default __webpack_public_path__ + \"static/media/Blast icon.a33552b7.svg\";","export default __webpack_public_path__ + \"static/media/fuel-pump.844df2a4.svg\";","export default __webpack_public_path__ + \"static/media/meteorites.1bc23f84.svg\";","export default __webpack_public_path__ + \"static/media/planet.9d27fb8f.svg\";","export default __webpack_public_path__ + \"static/media/planet1.93d77fcd.svg\";","export default __webpack_public_path__ + \"static/media/planet2.068617ba.svg\";","export default __webpack_public_path__ + \"static/media/solar-system.6647229e.svg\";","export default __webpack_public_path__ + \"static/media/satellite.7bd807dc.svg\";","export default __webpack_public_path__ + \"static/media/satellite1.cbf7f583.svg\";","export default __webpack_public_path__ + \"static/media/satellite2.39f8e51e.svg\";","import blastIcon from \"./images/Blast icon.svg\";\nimport fuelIcon from \"./images/fuel-pump.svg\";\nimport meteorites from \"./images/meteorites.svg\";\nimport \"./css/blast.css\";\nimport { useState, useMemo, MouseEventHandler, useRef, useEffect } from \"react\";\nimport useWindowSize from \"../hooks/usescreensize\";\nimport useApi from \"../hooks/useapi\";\nimport { useHistory } from \"react-router-dom\";\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nimport plant from \"./images/planet.svg\";\nimport plant1 from \"./images/planet1.svg\";\nimport plant2 from \"./images/planet2.svg\";\nimport solarsystem from \"./images/solar-system.svg\";\n\nimport satellite from \"./images/satellite.svg\";\nimport satellite1 from \"./images/satellite1.svg\";\nimport satellite2 from \"./images/satellite2.svg\";\nimport playSound from \"../playsound\";\nimport { useData } from \"../hooks/datahook\";\nimport { PayPalButton } from \"react-paypal-button-v2\";\nimport { GoogleReCaptcha } from \"react-google-recaptcha-v3\";\nimport ReactGA from \"react-ga4\";\nimport Loader from \"./loader\";\n\n// make a function that takes in the day of the month and adds 'th' or 'st' or 'nd' or 'rd' to it\nfunction ordinal_suffix_of(i: number) {\n  var j = i % 10,\n    k = i % 100;\n  if (j === 1 && k !== 11) {\n    return i + \"st\";\n  }\n  if (j === 2 && k !== 12) {\n    return i + 'nd'\n  }\n  if (j === 3 && k !== 13) {\n    return i + 'rd'\n  }\n  return i + 'th'\n}\n\nfunction range(size: number, startAt = 0) {\n  return [...Array(size).keys()].map((i) => i + startAt);\n}\n\nfunction StartButton({\n  onClick,\n  disabled,\n}: {\n  onClick?: MouseEventHandler<HTMLDivElement>;\n  disabled?: boolean;\n}) {\n  return (\n    <div\n      className=\"btnMain\"\n      onClick={!disabled ? onClick : undefined}\n      onPointerDown={() => {\n        playSound(\"/sounds/click2.mp3\");\n      }}\n      onPointerUp={() => {\n        playSound(\"/sounds/click1.mp3\");\n      }}\n    >\n      <div className=\"btnBox\">BLAST OFF</div>\n      <div className=\"btnBottom\"></div>\n    </div>\n  );\n}\n\nfunction Star() {\n  const [{ x, y, delay }] = useState({\n    x: Math.random() * 100,\n    y: Math.random() * 100,\n    delay: Math.random(),\n  });\n  return (\n    <div\n      className=\"star\"\n      style={{ top: `${y}vh`, left: `${x}vw`, animationDelay: `-${delay}s` }}\n    ></div>\n  );\n}\n\nfunction Galaxy() {\n  const [{ x, y, delay }] = useState({\n    x: Math.random() * 100,\n    y: Math.random() * 100,\n    delay: Math.random() * 10,\n  });\n  return (\n    <div\n      className=\"Galaxy\"\n      style={{ top: `${y}vh`, left: `${x}vw`, animationDelay: `-${delay}s` }}\n    ></div>\n  );\n}\n\nfunction Planet({ file }: { file: string }) {\n  const [{ x, y, delay }] = useState({\n    x: Math.random() * 100,\n    y: Math.random() * 100,\n    delay: Math.random() * 10,\n  });\n  return (\n    <div\n      className=\"Planet\"\n      style={{\n        top: `${y}vh`,\n        left: `${x}vw`,\n        animationDelay: `-${delay}s`,\n        backgroundImage: `url(${file})`,\n      }}\n    ></div>\n  );\n}\n\nfunction Satellite({ file }: { file: string }) {\n  const [{ x, y, delay }] = useState({\n    x: Math.random() * 100,\n    y: Math.random() * 100,\n    delay: Math.random() * 10,\n  });\n  return (\n    <div\n      className=\"Satellite\"\n      style={{\n        top: `${y}vh`,\n        left: `${x}vw`,\n        animationDelay: `-${delay}s`,\n        backgroundImage: `url(${file})`,\n      }}\n    ></div>\n  );\n}\n\nfunction Blast() {\n  const { width, height } = useWindowSize();\n  const { user, notifications } = useData();\n  const history = useHistory();\n\n  const [{ xalien, yalien }] = useState({\n    xalien: 15 + Math.random() * 30 + \"vw\",\n    yalien: 15 + Math.random() * 30 + \"vh\",\n  });\n  const fuel = useRef(1);\n  const [buyfuel, setbuyfuel] = useState(1);\n  const stars = useMemo(\n    () =>\n      range(Math.round((width * height) / 10000)).map((value) => (\n        <Star key={value}></Star>\n      )),\n    [width, height]\n  );\n  const [menupage, setmenupage] = useState(\"main\");\n  const { data } = useApi<{ price: number; sale: number; startofweek: number }>(\n    menupage === \"main\" ? \"/api/blastprices\" : null\n  );\n  const max = user?.rocketFuel\n    ? user.rocketFuel > 20\n      ? 20 - (user.blast ? user.blast : 0)\n      : user.rocketFuel\n    : 0;\n  const ends = data\n    ? new Date(data.startofweek + 6.048e8).getUTCDate()\n    : undefined;\n  const [recapToken, setRecapToken] = useState<null | string>(null);\n  const price = data ? (data.price * (1 - data.sale)) / 100 : undefined;\n\n  useEffect(() => {\n    ReactGA.event({\n      category: \"blast\",\n      action: \"open blast\",\n    });\n    document.title = `Blast - TypeChat`;\n    return () => {\n      document.title = \"TypeChat\";\n    };\n  }, []);\n  return (\n    <div>\n      <div>\n        <div className=\"stars\">{stars}</div>\n        <Galaxy></Galaxy>\n\n        <Planet file={plant} />\n        <Planet file={plant1} />\n        <Planet file={plant2} />\n        <Planet file={solarsystem} />\n\n        <Satellite file={satellite} />\n        <Satellite file={satellite1} />\n        <Satellite file={satellite2} />\n\n        <div className=\"Alien\" style={{ top: yalien, left: xalien }}></div>\n      </div>\n\n      {data ? <div className=\"BlastRocket\"></div> : <></>}\n      <div className=\"meteorites\"></div>\n      {data ? (\n        <div className={`BlastMenu BlastMenuAnimation`}>\n          <div\n            style={{\n              margin: \"auto\",\n              border: \"solid 1px var(--light-bg-colour)\",\n              borderRadius: \"10px\",\n              backgroundColor: \"var(--dark-glass-bg-colour)\",\n              padding: \"1rem\",\n              maxWidth: \"700px\",\n            }}\n          >\n            {menupage === \"main\" ? (\n              <>\n                <h1 style={{ textAlign: \"center\" }}>\n                  Blast{\" \"}\n                  <img\n                    src={blastIcon}\n                    height=\"35px\"\n                    alt=\"🚀\"\n                    className=\"icon\"\n                  />\n                </h1>\n                <div style={{ textAlign: \"end\" }}>\n                  <h3>\n                    £{price?.toFixed(2)} / Rocket Fuel{\" \"}\n                    <img\n                      src={fuelIcon}\n                      height=\"35px\"\n                      alt=\"⛽\"\n                      className=\"icon\"\n                    />\n                  </h3>\n                  {data.sale ? (\n                    <h4>\n                      <p>\n                        {Math.round(data.sale * 100)}% off{\" \"}\n                        <img\n                          src={meteorites}\n                          height=\"35px\"\n                          alt=\"☄\"\n                          className=\"icon\"\n                        />\n                      </p>\n                      <p style={{ fontSize: \"15px\" }}>\n                        ends on the {ordinal_suffix_of(Number(ends))}\n                      </p>\n                      <p style={{ fontSize: \"10px\" }}>\n                        (was £{(data.price / 100).toFixed(2)})\n                      </p>\n                    </h4>\n                  ) : (\n                    <></>\n                  )}\n                </div>\n                {user ? (\n                  <h5 style={{ textAlign: \"center\" }}>\n                    you have{\" \"}\n                    <span\n                      style={{\n                        color: `rgb(${\n                          (255 - user.rocketFuel * (255 / 20)) * 2\n                        }, ${user.rocketFuel * (255 / 20) * 2}, ${0})`,\n                        fontWeight: \"bolder\",\n                      }}\n                    >\n                      {String(user.rocketFuel).replace(\n                        /\\B(?=(\\d{3})+(?!\\d))/g,\n                        \",\"\n                      )}\n                    </span>{\" \"}\n                    Rocket Fuel{\" \"}\n                    <img\n                      src={fuelIcon}\n                      height=\"25px\"\n                      alt=\"⛽\"\n                      className=\"icon\"\n                    />\n                  </h5>\n                ) : (\n                  <></>\n                )}\n                <StartButton\n                  onClick={() =>\n                    user\n                      ? max > 0\n                        ? setmenupage(\"start\")\n                        : user?.rocketFuel > 0\n                        ? notifications.addNotification({\n                            title: \"Unable to Add More Fuel!\",\n                            message:\n                              \"Sorry, you have reached the monthly Blast limit, you may add Rocket Fuel when this months Rocket Fuel has ran out.\",\n                            type: \"danger\",\n                            insert: \"top\",\n                            container: \"top-right\",\n                            animationIn: [\n                              \"animate__animated\",\n                              \"animate__fadeIn\",\n                            ],\n                            animationOut: [\n                              \"animate__animated\",\n                              \"animate__fadeOut\",\n                            ],\n                            dismiss: {\n                              pauseOnHover: true,\n                              duration: 5000,\n                              onScreen: true,\n                            },\n                          })\n                        : window.location.replace(\"#fuel\")\n                      : history.push(\n                          \"/login?\" + new URLSearchParams({ to: \"/blast\" })\n                        )\n                  }\n                />\n                <div\n                  style={{\n                    border: \"solid 1px var(--light-bg-colour)\",\n                    borderRadius: \"10px\",\n                    backgroundColor: \"var(--dark-bg-colour)\",\n                    padding: \"1rem\",\n                    margin: \"1rem\",\n                  }}\n                >\n                  <h5>1 Rocket Fuel Gives You</h5>\n                  <div\n                    style={{\n                      width: \"100%\",\n                      height: \"1px\",\n                      backgroundColor: \"var(--light-bg-colour)\",\n                    }}\n                  ></div>\n                  <ul\n                    style={{\n                      margin: \"1rem\",\n                    }}\n                  >\n                    <li>+250 characters per messages</li>\n                    <li>Bigger monthly upload limit (500 MB)</li>\n                    <li>Blast Profile Badge (stays forever!)</li>\n                    <li>Custom backgrounds</li>\n                    <li>Gift Rocket Fuel to other users via DMs</li>\n                    <li>and much more to come!</li>\n                  </ul>\n                </div>\n                <div\n                  style={{\n                    border: \"solid 1px var(--light-bg-colour)\",\n                    borderRadius: \"10px\",\n                    backgroundColor: \"var(--dark-bg-colour)\",\n                    padding: \"1rem\",\n                    margin: \"1rem\",\n                  }}\n                >\n                  <h5>\n                    Need fuel?{\" \"}\n                    <img\n                      src={fuelIcon}\n                      height=\"20px\"\n                      alt=\"⛽\"\n                      className=\"icon\"\n                    />\n                  </h5>\n                  <button\n                    id=\"fuel\"\n                    className=\"subbutton\"\n                    onClick={() =>\n                      user\n                        ? setmenupage(\"buy\")\n                        : history.push(\n                            \"/login?\" + new URLSearchParams({ to: \"/blast\" })\n                          )\n                    }\n                  >\n                    Buy Rocket Fuel{\" \"}\n                    <img\n                      src={fuelIcon}\n                      height=\"25px\"\n                      alt=\"⛽\"\n                      className=\"icon\"\n                    />\n                  </button>\n                </div>\n                <div\n                  style={{\n                    border: \"solid 1px var(--light-bg-colour)\",\n                    borderRadius: \"10px\",\n                    backgroundColor: \"var(--dark-glass-bg-colour)\",\n                    padding: \"1rem\",\n                    margin: \"1rem\",\n                  }}\n                >\n                  <h5>\n                    Ready to go to space?{\" \"}\n                    <img\n                      src={blastIcon}\n                      height=\"20px\"\n                      alt=\"🚀\"\n                      className=\"icon\"\n                    />\n                  </h5>\n                  <StartButton\n                    onClick={() =>\n                      user\n                        ? max > 0\n                          ? setmenupage(\"start\")\n                          : user?.rocketFuel > 0\n                          ? notifications.addNotification({\n                              title: \"Unable to Add More Fuel!\",\n                              message:\n                                \"Sorry, you have reached the monthly Blast limit, you may add Rocket Fuel when this months Rocket Fuel has ran out.\",\n                              type: \"danger\",\n                              insert: \"top\",\n                              container: \"top-right\",\n                              animationIn: [\n                                \"animate__animated\",\n                                \"animate__fadeIn\",\n                              ],\n                              animationOut: [\n                                \"animate__animated\",\n                                \"animate__fadeOut\",\n                              ],\n                              dismiss: {\n                                pauseOnHover: true,\n                                duration: 5000,\n                                onScreen: true,\n                              },\n                            })\n                          : window.location.replace(\"#fuel\")\n                        : history.push(\n                            \"/login?\" + new URLSearchParams({ to: \"/blast\" })\n                          )\n                    }\n                  />\n                </div>\n              </>\n            ) : menupage === \"start\" ? (\n              <>\n                <FontAwesomeIcon\n                  icon={faTimes}\n                  onClick={() => setmenupage(\"main\")}\n                  style={{\n                    cursor: \"pointer\",\n                    fontSize: \"30px\",\n                    float: \"right\",\n                  }}\n                />\n                <h1 style={{ textAlign: \"center\" }}>\n                  Start Blast{\" \"}\n                  <img\n                    src={blastIcon}\n                    height=\"35px\"\n                    alt=\"🚀\"\n                    className=\"icon\"\n                  />\n                </h1>\n                <div\n                  style={{\n                    display: \"grid\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    alignContent: \"space-evenly\",\n                  }}\n                >\n                  <label htmlFor=\"RF\">\n                    How much Rocket Fuel do you want to spend? (max {max})\n                  </label>\n                  <input\n                    id=\"RF\"\n                    type=\"number\"\n                    min={fuel.current}\n                    max={max}\n                    defaultValue=\"1\"\n                    onBlur={(e: any) => {\n                      e.target.value = Math.floor(\n                        e.target.value > max\n                          ? max\n                          : e.target.value < 1\n                          ? 1\n                          : e.target.value\n                      );\n                    }}\n                    onChange={(e: any) => {\n                      fuel.current = Math.floor(\n                        e.target.value > max\n                          ? max\n                          : e.target.value < 1\n                          ? 1\n                          : e.target.value\n                      );\n                    }}\n                  ></input>\n                  <StartButton\n                    onClick={() => {\n                      setmenupage(\"TY\");\n                      const formdata = new FormData();\n                      formdata.append(\"fuel\", JSON.stringify(fuel.current));\n                      fetch(\"/api/startrocketfuel\", {\n                        method: \"POST\",\n                        body: formdata,\n                      }).then(console.log);\n                    }}\n                  ></StartButton>\n                </div>\n              </>\n            ) : menupage === \"TY\" ? (\n              <>\n                <FontAwesomeIcon\n                  icon={faTimes}\n                  onClick={() => setmenupage(\"main\")}\n                  style={{\n                    cursor: \"pointer\",\n                    fontSize: \"30px\",\n                    float: \"right\",\n                  }}\n                />\n                <h1 style={{ textAlign: \"center\" }}>Thank you</h1>\n                <div\n                  style={{\n                    border: \"solid 1px var(--light-bg-colour)\",\n                    borderRadius: \"10px\",\n                    backgroundColor: \"var(--dark-bg-colour)\",\n                    padding: \"1rem\",\n                    margin: \"1rem\",\n                  }}\n                >\n                  <p style={{ textAlign: \"center\" }}>\n                    Thank you {user.username}, the TypeChat team hope you like\n                    Blast. If there are any suggestions, issues or complains,\n                    please contact{\" \"}\n                    <a\n                      target=\"blank_\"\n                      href=\"/chat/TypeChat\"\n                      style={{ color: \"var(--secondary-text-colour)\" }}\n                    >\n                      the offical TypeChat account\n                    </a>\n                    !\n                  </p>\n                </div>\n              </>\n            ) : menupage === \"buy\" ? (\n              <>\n                <GoogleReCaptcha\n                  onVerify={(token) => {\n                    setRecapToken(token);\n                  }}\n                />\n                <FontAwesomeIcon\n                  icon={faTimes}\n                  onClick={() => setmenupage(\"main\")}\n                  style={{\n                    cursor: \"pointer\",\n                    fontSize: \"30px\",\n                    float: \"right\",\n                  }}\n                />\n                <h1 style={{ textAlign: \"center\" }}>\n                  Buy Rocket Fuel{\" \"}\n                  <img src={fuelIcon} height=\"35px\" alt=\"⛽\" className=\"icon\" />\n                </h1>\n                <div style={{ textAlign: \"end\" }}>\n                  <h3>\n                    £{price?.toFixed(2)} / Rocket Fuel{\" \"}\n                    <img\n                      src={fuelIcon}\n                      height=\"35px\"\n                      alt=\"⛽\"\n                      className=\"icon\"\n                    />\n                  </h3>\n                  {data.sale ? (\n                    <h4>\n                      <p>\n                        {Math.round(data.sale * 100)}% off{\" \"}\n                        <img\n                          src={meteorites}\n                          height=\"35px\"\n                          alt=\"☄\"\n                          className=\"icon\"\n                        />\n                      </p>\n                      <p style={{ fontSize: \"15px\" }}>\n                        ends on the {ordinal_suffix_of(Number(ends))}\n                      </p>\n                      <p style={{ fontSize: \"10px\" }}>\n                        (was £{(data.price / 100).toFixed(2)})\n                      </p>\n                    </h4>\n                  ) : (\n                    <></>\n                  )}\n                </div>\n                <div\n                  style={{\n                    display: \"grid\",\n                    alignItems: \"center\",\n                    justifyContent: \"center\",\n                    alignContent: \"space-evenly\",\n                  }}\n                >\n                  <label htmlFor=\"RF\">\n                    How much Rocket Fuel do you want to buy? (max 1000)\n                  </label>\n                  <input\n                    id=\"RF\"\n                    type=\"number\"\n                    max=\"1000\"\n                    defaultValue={buyfuel}\n                    onBlur={(e: any) => {\n                      e.target.value = Math.floor(\n                        e.target.value > 1000\n                          ? 1000\n                          : e.target.value < 1\n                          ? 1\n                          : e.target.value\n                      );\n                    }}\n                    onChange={(e: any) => {\n                      setbuyfuel(\n                        Math.floor(\n                          e.target.value > 1000\n                            ? 1000\n                            : e.target.value < 1\n                            ? 1\n                            : e.target.value\n                        )\n                      );\n                    }}\n                  ></input>\n                </div>\n                <div\n                  style={{\n                    borderRadius: \"10px\",\n                    backgroundColor: \"white\",\n                    padding: \"1rem\",\n                    margin: \"1rem 0\",\n                  }}\n                >\n                  <h2 style={{ textAlign: \"end\", color: \"var(--dark-mode)\" }}>\n                    Total: £{(Number(price) * buyfuel).toFixed(2)}\n                  </h2>\n                  {recapToken ? (\n                    <PayPalButton\n                      amount={(Number(price) * buyfuel).toFixed(2)}\n                      shippingPreference=\"NO_SHIPPING\"\n                      onApprove={async (\n                        data: {\n                          orderID: string | Blob;\n                          payerID: string | Blob;\n                        },\n                        actions: { order: { capture: () => Promise<any> } }\n                      ) => {\n                        // Capture the funds from the transaction\n                        console.log(actions);\n                        const formdata = new FormData();\n                        formdata.append(\"orderID\", data.orderID);\n                        formdata.append(\"payerID\", data.payerID);\n                        formdata.append(\"g-recaptcha-response\", recapToken);\n                        formdata.append(\"quantity\", JSON.stringify(buyfuel));\n                        console.log(data);\n                        return await fetch(\"/api/paypal-buy-rocket-fuel\", {\n                          method: \"post\",\n                          body: formdata,\n                        })\n                          .then(async (resp) => {\n                            if (resp.status === 200) {\n                              ReactGA.event({\n                                category: \"blast\",\n                                action: \"buy rocket fuel\",\n                                label: JSON.stringify(buyfuel),\n                              });\n                              console.log(\"success\");\n                              setmenupage(\"buyTY\");\n                            } else {\n                              console.log(\"error\");\n                              notifications.addNotification({\n                                title: \"Failed!\",\n                                message:\n                                  \"Sorry, there was an issue buying the Rocket Fuel, you have not been charged.\",\n                                type: \"danger\",\n                                insert: \"top\",\n                                container: \"top-right\",\n                                animationIn: [\n                                  \"animate__animated\",\n                                  \"animate__fadeIn\",\n                                ],\n                                animationOut: [\n                                  \"animate__animated\",\n                                  \"animate__fadeOut\",\n                                ],\n                              });\n                            }\n                          })\n                          .catch(() =>\n                            notifications.addNotification({\n                              title: \"Failed!\",\n                              message:\n                                \"Sorry, there was an issue buying the Rocket Fuel, you have not been charged.\",\n                              type: \"danger\",\n                              insert: \"top\",\n                              container: \"top-right\",\n                              animationIn: [\n                                \"animate__animated\",\n                                \"animate__fadeIn\",\n                              ],\n                              animationOut: [\n                                \"animate__animated\",\n                                \"animate__fadeOut\",\n                              ],\n                            })\n                          );\n                      }}\n                      onError={() => {\n                        notifications.addNotification({\n                          title: \"Failed!\",\n                          message:\n                            \"Sorry, there was an issue buying the Rocket Fuel, you have not been charged.\",\n                          type: \"danger\",\n                          insert: \"top\",\n                          container: \"top-right\",\n                          animationIn: [\"animate__animated\", \"animate__fadeIn\"],\n                          animationOut: [\n                            \"animate__animated\",\n                            \"animate__fadeOut\",\n                          ],\n                          dismiss: {\n                            pauseOnHover: true,\n                            duration: 5000,\n                            onScreen: true,\n                          },\n                        });\n                      }}\n                      currency={\"GBP\"}\n                      options={{\n                        currency: \"GBP\",\n                        clientId:\n                          !process.env.NODE_ENV ||\n                          process.env.NODE_ENV === \"development\"\n                            ? \"AeuWaW6AFfWlxVmxWYsof3Z9Gl6a055HPJh_UQO-0v1Fb5I12UYwteo_JsiitmIncsQETAu0Yw81wfH0\"\n                            : \"Afdcs6hnKtTzRMY5fV_hT60anRq51JteUwrlpchS3Rs3LyEp6a33tqWmhhzj6jMkq6ZdpWmAcwB2Bkmg\",\n                      }}\n                    />\n                  ) : (\n                    <Loader></Loader>\n                  )}\n                  {!process.env.NODE_ENV ||\n                  process.env.NODE_ENV === \"development\" ? (\n                    <p style={{ color: \"red\" }}>dev mode</p>\n                  ) : (\n                    <></>\n                  )}\n                </div>\n              </>\n            ) : (\n              <>\n                <FontAwesomeIcon\n                  icon={faTimes}\n                  onClick={() => setmenupage(\"main\")}\n                  style={{\n                    cursor: \"pointer\",\n                    fontSize: \"30px\",\n                    float: \"right\",\n                  }}\n                />\n                <h1 style={{ textAlign: \"center\" }}>\n                  Thank you for your purchase!\n                </h1>\n                <div\n                  style={{\n                    border: \"solid 1px var(--light-bg-colour)\",\n                    borderRadius: \"10px\",\n                    backgroundColor: \"var(--dark-bg-colour)\",\n                    padding: \"1rem\",\n                    margin: \"1rem\",\n                  }}\n                >\n                  <h4>\n                    You were charged: £{(Number(price) * buyfuel).toFixed(2)}{\" \"}\n                    for {buyfuel} Rocket Fuel.\n                  </h4>\n                  <div\n                    style={{\n                      height: \"1px\",\n                      width: \"100%\",\n                      background: \"var(--light-bg-colour)\",\n                      margin: \"0 0 1rem 0\",\n                    }}\n                  />\n                  <p style={{ textAlign: \"center\" }}>\n                    Thank you {user.username}, the TypeChat team hope you like\n                    Blast. You will see the Rocket Fuel add to your account\n                    shortly. If there are any issues about the transaction,\n                    please contact{\" \"}\n                    <a\n                      target=\"blank_\"\n                      href=\"/chat/TypeChat\"\n                      style={{ color: \"var(--secondary-text-colour)\" }}\n                    >\n                      the offical TypeChat account\n                    </a>\n                    !\n                  </p>\n                </div>\n              </>\n            )}\n          </div>\n        </div>\n      ) : (\n        <></>\n      )}\n    </div>\n  );\n}\nconst exportedObject = { Blast };\n\nexport default exportedObject;\n","function TandC() {\n    return <div\n        style={ {\n            margin: \"1rem auto\",\n            border: \"solid 1px var(--light-bg-colour)\",\n            borderRadius: \"10px\",\n            backgroundColor: \"var(--dark-glass-bg-colour)\",\n            padding: \"1rem\",\n            maxWidth: \"700px\",\n            textAlign: \"center\"\n        } }\n    >\n        <h1>Terms And Conditions</h1>\n        <p>By Creating an account you agree to the following</p>\n        <div\n            style={ {\n                border: \"solid 1px var(--light-bg-colour)\",\n                borderRadius: \"10px\",\n                backgroundColor: \"var(--dark-bg-colour)\",\n                padding: \"1rem\",\n                margin: \"1rem\",\n                textAlign: \"start\"\n            } }\n        >\n            <h5>What we expect from you</h5>\n            <div\n                style={ {\n                    width: \"100%\",\n                    height: \"1px\",\n                    backgroundColor: \"var(--light-bg-colour)\",\n                } }\n            ></div>\n            <ul\n                style={ {\n                    margin: \"1rem\",\n                } }\n            >\n                <li>to not use the app for illigal activity</li>\n                <li>keep all users on the app feeling safe and secure</li>\n                <li>to report people who break any rules to the offical TypeChat account</li>\n            </ul>\n        </div>\n        <div\n            style={ {\n                border: \"solid 1px var(--light-bg-colour)\",\n                borderRadius: \"10px\",\n                backgroundColor: \"var(--dark-bg-colour)\",\n                padding: \"1rem\",\n                margin: \"1rem\",\n                textAlign: \"start\"\n            } }\n        >\n            <h5>What you should expect from us</h5>\n            <div\n                style={ {\n                    width: \"100%\",\n                    height: \"1px\",\n                    backgroundColor: \"var(--light-bg-colour)\",\n                } }\n            ></div>\n            <ul\n                style={ {\n                    margin: \"1rem\",\n                } }\n            >\n                <li>to keep your personal infomation safe and secure from hackers</li>\n                <li>to make sure you feel safe at all time while using the app</li>\n            </ul>\n        </div>\n        <div\n            style={ {\n                border: \"solid 1px var(--light-bg-colour)\",\n                borderRadius: \"10px\",\n                backgroundColor: \"var(--dark-bg-colour)\",\n                padding: \"1rem\",\n                margin: \"1rem\",\n                textAlign: \"start\"\n            } }\n        >\n            <h5>Privacy Policy</h5>\n            <div\n                style={ {\n                    width: \"100%\",\n                    height: \"1px\",\n                    backgroundColor: \"var(--light-bg-colour)\",\n                } }\n            ></div>\n            <ul\n                style={ {\n                    margin: \"1rem\",\n                } }\n            >\n                <li>We use your email to send you notifications about messages, this can be turned off in settings.</li>\n                <li>We <b>DO NOT</b> store your passwords in plain text! The technique used is <a target=\"blank_\" style={ { color: \"var(--secondary-text-colour)\" } } href=\"https://en.wikipedia.org/wiki/Salt_(cryptography)\">hash with a salt</a>.</li>\n                <li>All account infomation is stored securely in an <a target=\"blank_\" style={ { color: \"var(--secondary-text-colour)\" } } href=\"https://en.wikipedia.org/wiki/SQL\">SQL (Structured Query Language)</a> database.</li>\n                <li>Our Privacy Policy is in addtion to google's <a target=\"blank_\" style={ { color: \"var(--secondary-text-colour)\" } } href=\"https://policies.google.com/privacy\">3rd party site Privacy Policy</a> due to <a target=\"blank\" href=\"https://analytics.google.com/\" style={ { color: \"var(--secondary-text-colour)\" } }>google analytics</a>.</li>\n            </ul>\n        </div>\n        <div\n            style={ {\n                border: \"solid 1px var(--light-bg-colour)\",\n                borderRadius: \"10px\",\n                backgroundColor: \"var(--dark-bg-colour)\",\n                padding: \"1rem\",\n                margin: \"1rem\",\n                textAlign: \"start\"\n            } }\n        >\n            <h5>Important info</h5>\n            <div\n                style={ {\n                    width: \"100%\",\n                    height: \"1px\",\n                    backgroundColor: \"var(--light-bg-colour)\",\n                } }\n            ></div>\n            <ul\n                style={ {\n                    margin: \"1rem\",\n                } }\n            >\n                <li>we use <a target=\"blank\" href=\"https://analytics.google.com/\" style={ { color: \"var(--secondary-text-colour)\" } }>google analytics</a> and <a target=\"blank\" href=\"https://logrocket.com/\" style={ { color: \"var(--secondary-text-colour)\" } }>logrocket</a> to debug and to help keep our app running</li>\n                <li>\n                    any illigal activity found, can be used against you.\n                </li>\n            </ul>\n        </div>\n        <p>the official TypeChat account will never ask for your password!</p>\n    </div>\n}\n\nexport default TandC","import React, { useState, useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"./pages/css/toggleswitch.css\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  Redirect,\n} from \"react-router-dom\";\nimport \"./pages/css/scrollbar.css\";\nimport Home from \"./pages/Home\";\nimport Login from \"./pages/Login\";\nimport { data as datahook } from \"./hooks/datahook\";\nimport PageNav from \"./pages/Navbar\";\nimport { GoogleReCaptchaProvider } from \"react-google-recaptcha-v3\";\nimport \"./colourPallete.css\";\nimport reportWebVitals from \"./reportWebVitals\";\nimport useApi from \"./hooks/useapi\";\nimport Loader from \"./pages/loader\";\nimport Signup from \"./pages/Signup\";\nimport Chat from \"./pages/Chat\";\nimport \"./pages/css/highlight.css\";\nimport Error404 from \"./pages/404\";\nimport useLocalStorage from \"./hooks/useLocalStorage\";\nimport UserSettings from \"./pages/usersettings\";\nimport snooze from \"./snooze\";\nimport Contacts from \"./pages/contacts\";\nimport ReactNotification, {\n  ReactNotificationOptions,\n  store,\n} from \"react-notifications-component\";\n\nimport \"react-notifications-component/dist/theme.css\";\nimport AddPeople from \"./pages/addpeople\";\nimport NotificationComponent from \"./notification\";\nimport LoadError from \"./pages/error\";\nimport Settings from \"./pages/settings\";\nimport Verify from \"./pages/Verify\";\nimport LinkDiscord from \"./pages/LinkDiscord\";\nimport Drive from \"./pages/Drive\";\nimport RequestNewPassword from \"./pages/requestNewPassword\";\nimport Blast from \"./pages/blast\";\nimport ReactGA from \"react-ga4\";\nimport LogRocket from \"logrocket\";\nimport TandC from \"./pages/T&C\";\nLogRocket.init(\"b1hvjh/typechat\");\n\nif (!(!process.env.NODE_ENV || process.env.NODE_ENV === \"development\")) ReactGA.initialize(\"G-26D01FTK1T\");\n\n\nif (!JSON.parse(String(localStorage.getItem(\"tabCount\")))) {\n  localStorage.setItem(\"tabCount\", JSON.stringify(0));\n}\nlocalStorage.setItem(\n  \"tabCount\",\n  JSON.stringify(JSON.parse(String(localStorage.getItem(\"tabCount\"))) + 1)\n);\n\nnavigator.serviceWorker.register(\"/sw.js\", { scope: \"/\" }).catch(console.error);\n\nfunction App() {\n  const { data, error, loading, reload } = useApi<any>(\"/api/userdata\");\n  const [navbarsize, setnavbarsize] = useState({ width: 0, height: 0 });\n  const [chattingto, setchattingto] = useLocalStorage(\"chattingto\", null);\n  const [deferredprompt, setdeferredprompt] = useState<any>(null);\n  const [alreadyshownInstall, setalreadyshownInstall] = useState(false);\n  const [getuserdataonupdate, setgetuserdataonupdate] = useState(false);\n  const [userdata, setuserdata] = useState(data);\n  const [catchedcontacts, setcachedcontacts] = useState<any>(null);\n  useEffect(() => {\n    setuserdata(data);\n  }, [data]);\n  useEffect(() => {\n    if (\"Notification\" in window && userdata?.loggedin) {\n      if (Notification.permission === \"default\") {\n        Notification.requestPermission();\n      }\n    }\n    (async () => {\n      try {\n        if (!getuserdataonupdate && userdata.loggedin) {\n          setgetuserdataonupdate(true);\n          const response = await (\n            await fetch(\"/api/getuserdataonupdate\")\n          ).json();\n          if (!response.reconnect) {\n            setuserdata(response);\n          }\n          setgetuserdataonupdate(false);\n        }\n      } catch {\n        await snooze(1000);\n        setgetuserdataonupdate(false);\n      }\n    })();\n  });\n  useEffect(() => {\n    window.addEventListener(\"beforeinstallprompt\", (event: any) => {\n      setdeferredprompt(event)\n      return false;\n    });\n    window.addEventListener(\"appinstalled\", (event: any) => {\n      setalreadyshownInstall(true)\n      store.addNotification({\n        title: \"Installed TypeChat\",\n        message: \"TypeChat has been successfully installed\",\n        type: \"success\",\n        insert: \"top\",\n        container: \"top-right\",\n        animationIn: [\"animated\", \"fadeIn\"],\n        animationOut: [\"animated\", \"fadeOut\"],\n        dismiss: {\n          duration: 5000,\n          pauseOnHover: true,\n          onScreen: true,\n        },\n      });\n      return false;\n    });\n  }, [])\n  useEffect(() => {\n    if (userdata?.loggedin) {\n      console.log(userdata);\n      LogRocket.identify(userdata.user.id, {\n        name: `${userdata.user.username}#${userdata.user.tag}`,\n      });\n      if (!alreadyshownInstall && deferredprompt) {\n        setalreadyshownInstall(true);\n        store.addNotification({\n          title: \"Install TypeChat\",\n          message: \"Click to install TypeChat to get the best experience!\",\n          type: \"info\",\n          insert: \"top\",\n          container: \"top-right\",\n          animationIn: [\"animated\", \"fadeIn\"],\n          animationOut: [\"animated\", \"fadeOut\"],\n          onRemoval: (_: string, type: any) => {\n            if (type === \"click\") {\n              deferredprompt.prompt();\n              setdeferredprompt(null);\n            }\n          },\n          dismiss: {\n            duration: 10000,\n            pauseOnHover: true,\n            onScreen: true,\n          },\n        });\n      }\n    }\n  }, [userdata, deferredprompt, alreadyshownInstall, setalreadyshownInstall]);\n  function NotificationAPI(\n    options: ReactNotificationOptions,\n    onclick: () => {}\n  ) {\n    if (\"Notification\" in window && Notification.permission === \"granted\") {\n      const notify = new Notification(String(options.title), {\n        body: String(options.message),\n        icon: \"/logo.png\",\n      });\n      notify.addEventListener(\"click\", onclick);\n    } else {\n      store.addNotification(options);\n    }\n  }\n  return (\n    <GoogleReCaptchaProvider reCaptchaKey=\"6LcHJdYcAAAAAHmOyGZbVAVkLNdeG0Pe2Rl3RVDV\">\n      <Router>\n        <div style={{ overflowWrap: \"anywhere\" }}>\n          {error || loading ? (\n            error ? (\n              <LoadError error={String(error)}></LoadError>\n            ) : (\n              <Loader></Loader>\n            )\n          ) : (\n            <datahook.Provider\n              value={{\n                loggedin: userdata.loggedin,\n                user: userdata.user,\n                rechecklogged: reload,\n                setnavbarsize,\n                navbarsize,\n                chattingto,\n                setchattingto,\n                notifications: store,\n                catchedcontacts,\n                setcachedcontacts,\n                NotificationAPI,\n              }}\n            >\n              <PageNav />\n              <ReactNotification />\n              <NotificationComponent />\n              <div>\n                <Switch>\n                  <Route path=\"/\" exact>\n                    <Home />\n                  </Route>\n                  <Route path=\"/chat\" exact>\n                    <Redirect to={chattingto ? `/chat/${chattingto}` : \"/\"} />\n                  </Route>\n                  <Route\n                    path=\"/chat/:id\"\n                    render={({ match }) => (\n                      <Chat isGroupChat={false} chattingto={match.params.id} />\n                    )}\n                    exact\n                  ></Route>\n                  <Route path=\"/contacts\" exact>\n                    <Contacts />\n                  </Route>\n                  <Route path=\"/blast\" exact>\n                    <Blast.Blast />\n                  </Route>\n                  <Route path=\"/T&C\" exact>\n                    <TandC />\n                  </Route>\n                  <Route path=\"/verify/:id\" exact>\n                    <Verify />\n                  </Route>\n                  <Route path=\"/settings\" exact>\n                    <Settings />\n                  </Route>\n                  <Route path=\"/login\" exact>\n                    <Login />\n                  </Route>\n                  <Route path=\"/link/:id\" exact>\n                    <LinkDiscord />\n                  </Route>\n                  <Route path=\"/signup\" exact>\n                    <Signup />\n                  </Route>\n                  <Route path=\"/user/drive\" exact>\n                    <Drive.Drive />\n                  </Route>\n                  <Route path=\"/drive/:id\" exact>\n                    <Drive.Image />\n                  </Route>\n                  <Route path=\"/requestNewPassword\" exact>\n                    <RequestNewPassword.RequestNewPassword />\n                  </Route>\n                  <Route path=\"/updatepassword/:id\" exact>\n                    <RequestNewPassword.ChangePassword />\n                  </Route>\n\n                  <Route path=\"/user/settings\" exact>\n                    <UserSettings />\n                  </Route>\n                  <Route path=\"/add\" exact>\n                    <AddPeople></AddPeople>\n                  </Route>\n                  <Route>\n                    <Error404></Error404>\n                  </Route>\n                </Switch>\n              </div>\n            </datahook.Provider>\n          )}\n        </div>\n      </Router>\n    </GoogleReCaptchaProvider>\n  );\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"app\")\n);\nreportWebVitals();\nexport default App;\n"],"sourceRoot":""}